{
    "url": "https://labuladong.online/algo/en/data-structure/implement-calculator/",
    "title": "How to Implement a Calculator | Labuladong Algo Notes",
    "content": "<nav class=\"vp-breadcrumb disable\"></nav> <div class=\"vp-page-title\"><h1><!---->How to Implement a Calculator</h1><div class=\"page-info\"><span class=\"page-author-info\" aria-label=\"AuthorðŸ–Š\" data-balloon-pos=\"up\"><svg xmlns=\"http://www.w3.org/2000/svg\" class=\"icon author-icon\" viewbox=\"0 0 1024 1024\" fill=\"currentColor\" aria-label=\"author icon\" name=\"author\"><path d=\"M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z\"></path></svg><span><a class=\"page-author-item\" href=\"https://github.com/labuladong\" target=\"_blank\" rel=\"noopener noreferrer\">labuladong</a></span><span property=\"author\" content=\"labuladong\"></span></span><span class=\"page-original-info\">Original</span><span class=\"page-word-info\" aria-label=\"WordsðŸ” \" data-balloon-pos=\"up\"><svg xmlns=\"http://www.w3.org/2000/svg\" class=\"icon word-icon\" viewbox=\"0 0 1024 1024\" fill=\"currentColor\" aria-label=\"word icon\" name=\"word\"><path d=\"M518.217 432.64V73.143A73.143 73.143 0 01603.43 1.097a512 512 0 01419.474 419.474 73.143 73.143 0 01-72.046 85.212H591.36a73.143 73.143 0 01-73.143-73.143z\"></path><path d=\"M493.714 566.857h340.297a73.143 73.143 0 0173.143 85.577A457.143 457.143 0 11371.566 117.76a73.143 73.143 0 0185.577 73.143v339.383a36.571 36.571 0 0036.571 36.571z\"></path></svg><span>About 5234 words</span><meta property=\"wordCount\" content=\"5234\"></span></div><hr></div> <h1><!---->How to Implement a Calculator</h1> <div class=\"page-info\"><span class=\"page-author-info\" aria-label=\"AuthorðŸ–Š\" data-balloon-pos=\"up\"><svg xmlns=\"http://www.w3.org/2000/svg\" class=\"icon author-icon\" viewbox=\"0 0 1024 1024\" fill=\"currentColor\" aria-label=\"author icon\" name=\"author\"><path d=\"M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z\"></path></svg><span><a class=\"page-author-item\" href=\"https://github.com/labuladong\" target=\"_blank\" rel=\"noopener noreferrer\">labuladong</a></span><span property=\"author\" content=\"labuladong\"></span></span><span class=\"page-original-info\">Original</span><span class=\"page-word-info\" aria-label=\"WordsðŸ” \" data-balloon-pos=\"up\"><svg xmlns=\"http://www.w3.org/2000/svg\" class=\"icon word-icon\" viewbox=\"0 0 1024 1024\" fill=\"currentColor\" aria-label=\"word icon\" name=\"word\"><path d=\"M518.217 432.64V73.143A73.143 73.143 0 01603.43 1.097a512 512 0 01419.474 419.474 73.143 73.143 0 01-72.046 85.212H591.36a73.143 73.143 0 01-73.143-73.143z\"></path><path d=\"M493.714 566.857h340.297a73.143 73.143 0 0173.143 85.577A457.143 457.143 0 11371.566 117.76a73.143 73.143 0 0185.577 73.143v339.383a36.571 36.571 0 0036.571 36.571z\"></path></svg><span>About 5234 words</span><meta property=\"wordCount\" content=\"5234\"></span></div> <span class=\"page-author-info\" aria-label=\"AuthorðŸ–Š\" data-balloon-pos=\"up\"><svg xmlns=\"http://www.w3.org/2000/svg\" class=\"icon author-icon\" viewbox=\"0 0 1024 1024\" fill=\"currentColor\" aria-label=\"author icon\" name=\"author\"><path d=\"M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z\"></path></svg><span><a class=\"page-author-item\" href=\"https://github.com/labuladong\" target=\"_blank\" rel=\"noopener noreferrer\">labuladong</a></span><span property=\"author\" content=\"labuladong\"></span></span> <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"icon author-icon\" viewbox=\"0 0 1024 1024\" fill=\"currentColor\" aria-label=\"author icon\" name=\"author\"><path d=\"M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z\"></path></svg> <path d=\"M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z\"></path> <span><a class=\"page-author-item\" href=\"https://github.com/labuladong\" target=\"_blank\" rel=\"noopener noreferrer\">labuladong</a></span> <a class=\"page-author-item\" href=\"https://github.com/labuladong\" target=\"_blank\" rel=\"noopener noreferrer\">labuladong</a> <span property=\"author\" content=\"labuladong\"></span> <span class=\"page-original-info\">Original</span> <span class=\"page-word-info\" aria-label=\"WordsðŸ” \" data-balloon-pos=\"up\"><svg xmlns=\"http://www.w3.org/2000/svg\" class=\"icon word-icon\" viewbox=\"0 0 1024 1024\" fill=\"currentColor\" aria-label=\"word icon\" name=\"word\"><path d=\"M518.217 432.64V73.143A73.143 73.143 0 01603.43 1.097a512 512 0 01419.474 419.474 73.143 73.143 0 01-72.046 85.212H591.36a73.143 73.143 0 01-73.143-73.143z\"></path><path d=\"M493.714 566.857h340.297a73.143 73.143 0 0173.143 85.577A457.143 457.143 0 11371.566 117.76a73.143 73.143 0 0185.577 73.143v339.383a36.571 36.571 0 0036.571 36.571z\"></path></svg><span>About 5234 words</span><meta property=\"wordCount\" content=\"5234\"></span> <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"icon word-icon\" viewbox=\"0 0 1024 1024\" fill=\"currentColor\" aria-label=\"word icon\" name=\"word\"><path d=\"M518.217 432.64V73.143A73.143 73.143 0 01603.43 1.097a512 512 0 01419.474 419.474 73.143 73.143 0 01-72.046 85.212H591.36a73.143 73.143 0 01-73.143-73.143z\"></path><path d=\"M493.714 566.857h340.297a73.143 73.143 0 0173.143 85.577A457.143 457.143 0 11371.566 117.76a73.143 73.143 0 0185.577 73.143v339.383a36.571 36.571 0 0036.571 36.571z\"></path></svg> <path d=\"M518.217 432.64V73.143A73.143 73.143 0 01603.43 1.097a512 512 0 01419.474 419.474 73.143 73.143 0 01-72.046 85.212H591.36a73.143 73.143 0 01-73.143-73.143z\"></path> <path d=\"M493.714 566.857h340.297a73.143 73.143 0 0173.143 85.577A457.143 457.143 0 11371.566 117.76a73.143 73.143 0 0185.577 73.143v339.383a36.571 36.571 0 0036.571 36.571z\"></path> <span>About 5234 words</span> <meta property=\"wordCount\" content=\"5234\"> <hr> <div class=\"\" vp-content><!----><div id=\"markdown-content\"><div style=\"display:none;\"><h3 tabindex=\"-1\"> 224. Basic Calculator https://leetcode.com/problems/basic-calculator </h3><h3 tabindex=\"-1\"> 227. Basic Calculator II https://leetcode.com/problems/basic-calculator-ii </h3><h3 tabindex=\"-1\"> 772. Basic Calculator III https://leetcode.com/problems/basic-calculator-iii </h3></div><div class=\"hint-container note\"><p class=\"hint-container-title\">This article will resolve</p><table><thead><tr><th style=\"text-align:center;\">LeetCode</th><th style=\"text-align:center;\">Difficulty</th></tr></thead><tbody><tr><td style=\"text-align:center;\"><a href=\"https://leetcode.com/problems/basic-calculator/\" target=\"_blank\" rel=\"noopener noreferrer\">224. Basic Calculator</a></td><td style=\"text-align:center;\">ðŸ”´</td></tr><tr><td style=\"text-align:center;\"><a href=\"https://leetcode.com/problems/basic-calculator-ii/\" target=\"_blank\" rel=\"noopener noreferrer\">227. Basic Calculator II</a></td><td style=\"text-align:center;\">ðŸŸ </td></tr><tr><td style=\"text-align:center;\"><a href=\"https://leetcode.com/problems/basic-calculator-iii/\" target=\"_blank\" rel=\"noopener noreferrer\">772. Basic Calculator III</a>ðŸ”’</td><td style=\"text-align:center;\">ðŸ”´</td></tr></tbody></table></div><div class=\"hint-container info\"><p class=\"hint-container-title\">Prerequisites</p><p>Before reading this article, you need to learn:</p><ul><li><a class=\"route-link\" href=\"/algo/en/data-structure-basic/queue-stack-basic/\">Principles of Queue/Stack</a></li></ul></div><p>The calculator we want to build will have these features:</p><ol><li><p>You input a string. It can have <code>+ - * /</code>, numbers, parentheses, and spaces. Your algorithm returns the result.</p></li><li><p>The calculation follows the normal math rules. Parentheses have the highest priority. Multiply and divide come before add and subtract.</p></li><li><p>Division is integer division. No matter positive or negative, round toward zero (5/2=2, -5/2=-2).</p></li><li><p>You can assume the input is always valid. There will not be integer overflow, and no division by zero.</p></li></ol><p>For example, if you input this string, the algorithm will return 9:</p><div class=\"language-java line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"java\" style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;\"><pre class=\"shiki shiki-themes light-plus dark-plus vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">  3</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> * (</span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">2</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> - </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">6</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> / (</span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">3</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> - </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">7</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">))</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">= </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">3</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> * (</span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">2</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> - </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">6</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> / (-</span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">4</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">))</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">= </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">3</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> * (</span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">2</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> - (-</span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">))</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">= </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">9</span></span></code></pre><div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0;\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><p>As you can see, this is already very close to a real calculator. Although we all have used calculators before, if you think about how to implement its algorithm, it is not that easy:</p><ol><li><p>To handle parentheses, you must calculate the innermost ones first, then simplify step by step. Even when doing it by hand, it's easy to make mistakes. Writing it as an algorithm is even harder.</p></li><li><p>You must handle multiplication and division before addition and subtraction. This is not so hard for kids to learn, but it is tricky for computers.</p></li><li><p>You need to deal with spaces. For better readability, we often put spaces between numbers and operators. But during calculation, these spaces should be ignored.</p></li></ol><p>I remember many data structure textbooks use calculators as an example when explaining stacks. But honestly, the explanation is not good. Many future computer scientists may have been discouraged by such a simple data structure.</p><p>So in this article, let's talk about how to build a fully functional calculator. <strong>The key is to break down the problem step by step, solve each part one by one.</strong> With a few simple algorithm rules, you can handle very complex calculations. I believe this way of thinking can help you solve many hard problems.</p><p>Let's start by breaking down the problem, beginning with the simplest one.</p><h2 id=\"_1-string-to-integer\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#_1-string-to-integer\"><span>1. String to Integer</span></a></h2><p>Yes, this is a simple problem. First, tell me how to convert a string that represents a <strong>positive integer</strong> into an int type?</p><div class=\"vp-code-tabs\"><div class=\"vp-code-tabs-nav\" role=\"tablist\"><button type=\"button\" class=\"vp-code-tab-nav active\" role=\"tab\" aria-controls=\"codetab-121-0\" aria-selected=\"true\">java</button><button type=\"button\" class=\"vp-code-tab-nav\" role=\"tab\" aria-controls=\"codetab-121-1\" aria-selected=\"false\">cpp</button><button type=\"button\" class=\"vp-code-tab-nav\" role=\"tab\" aria-controls=\"codetab-121-2\" aria-selected=\"false\">python</button><button type=\"button\" class=\"vp-code-tab-nav\" role=\"tab\" aria-controls=\"codetab-121-3\" aria-selected=\"false\">go</button><button type=\"button\" class=\"vp-code-tab-nav\" role=\"tab\" aria-controls=\"codetab-121-4\" aria-selected=\"false\">javascript</button></div><!--[--><div class=\"vp-code-tab active\" id=\"codetab-121-0\" role=\"tabpanel\" aria-expanded=\"true\"><div class=\"vp-code-tab-title\">java</div><!--[--><div class=\"language-java line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"java\" style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;\"><pre class=\"shiki shiki-themes light-plus dark-plus vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">String</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">\"458\"</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> n</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">for</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">; i &lt; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">length</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(); i++) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">    char</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">charAt</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(i);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    n = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">10</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> * n + (c - </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'0'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">}</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">// n is now equal to 458</span></span></code></pre><div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0;\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><!--]--></div><div class=\"vp-code-tab\" id=\"codetab-121-1\" role=\"tabpanel\" aria-expanded=\"false\"><div class=\"vp-code-tab-title\">cpp</div><!--[--><div class=\"language-cpp line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"cpp\" style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;\"><pre class=\"shiki shiki-themes light-plus dark-plus vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">std</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">::string s = </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">\"458\"</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> n = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">for</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> i = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">; i &lt; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">length</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(); i++) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    char</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> c = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">[i];</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    n = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">10</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> * n + (c - </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'0'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">}</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">// n is now equal to 458</span></span></code></pre><div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0;\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><!--]--></div><div class=\"vp-code-tab\" id=\"codetab-121-2\" role=\"tabpanel\" aria-expanded=\"false\"><div class=\"vp-code-tab-title\">python</div><!--[--><div class=\"language-python line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"python\" style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;\"><pre class=\"shiki shiki-themes light-plus dark-plus vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">s = </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">\"458\"</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">n = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">for</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> i </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">in</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\"> range</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">len</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(s)):</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    c = s[i]</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    n = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">10</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> * n + (</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">ord</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(c) - </span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">ord</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'0'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">))</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\"># n is now equal to 458</span></span></code></pre><div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0;\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><!--]--></div><div class=\"vp-code-tab\" id=\"codetab-121-3\" role=\"tabpanel\" aria-expanded=\"false\"><div class=\"vp-code-tab-title\">go</div><!--[--><div class=\"language-go line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"go\" style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;\"><pre class=\"shiki shiki-themes light-plus dark-plus vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> := </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">\"458\"</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">n</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> := </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">for</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> := </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> &lt; </span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">len</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">); </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">++ {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">    c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> := </span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">[</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">] - </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'0'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">    n</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">10</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">*</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">n</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> + </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">}</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">// n is now equal to 458</span></span></code></pre><div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0;\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><!--]--></div><div class=\"vp-code-tab\" id=\"codetab-121-4\" role=\"tabpanel\" aria-expanded=\"false\"><div class=\"vp-code-tab-title\">javascript</div><!--[--><div class=\"language-javascript line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"javascript\" style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;\"><pre class=\"shiki shiki-themes light-plus dark-plus vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">\"458\"</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> n</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">for</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> &lt; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">length</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">++) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">charAt</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">    n</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">10</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> * </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">n</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> + (</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">charCodeAt</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) - </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'0'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">charCodeAt</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">));</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">}</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">// n is now equal to 458</span></span></code></pre><div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0;\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><!--]--></div><!--]--></div><p>This is very simple and a common routine. But even for such a simple problem, there is a pitfall: <strong>You cannot remove the parentheses in <code>(c - '0')</code>, or it may cause integer overflow</strong>.</p><p>Because the variable <code>c</code> is an ASCII code. Without parentheses, addition may happen before subtraction. If <code>s</code> is close to INT_MAX, this can cause overflow. So, use parentheses to make sure subtraction happens first.</p><h2 id=\"_2-handling-addition-and-subtraction\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#_2-handling-addition-and-subtraction\"><span>2. Handling Addition and Subtraction</span></a></h2><p>Now, let's move on. <strong>If the input formula only contains addition and subtraction, and there are no spaces</strong>, how can you calculate the result? Let's use the string <code>1-12+3</code> as an example:</p><ol><li><p>Add a default <code>+</code> sign before the first number, so it becomes <code>+1-12+3</code>.</p></li><li><p>Combine each operator and number into a pair. For example: <code>+1</code>, <code>-12</code>, <code>+3</code>. Convert them to numbers, then put them into a stack.</p></li><li><p>Add up all the numbers in the stack. The sum is the result of the formula.</p></li></ol><p>Let's look at the code and a picture to make it clear:</p><div class=\"vp-code-tabs\"><div class=\"vp-code-tabs-nav\" role=\"tablist\"><button type=\"button\" class=\"vp-code-tab-nav active\" role=\"tab\" aria-controls=\"codetab-170-0\" aria-selected=\"true\">java</button><button type=\"button\" class=\"vp-code-tab-nav\" role=\"tab\" aria-controls=\"codetab-170-1\" aria-selected=\"false\">cpp</button><button type=\"button\" class=\"vp-code-tab-nav\" role=\"tab\" aria-controls=\"codetab-170-2\" aria-selected=\"false\">python</button><button type=\"button\" class=\"vp-code-tab-nav\" role=\"tab\" aria-controls=\"codetab-170-3\" aria-selected=\"false\">go</button><button type=\"button\" class=\"vp-code-tab-nav\" role=\"tab\" aria-controls=\"codetab-170-4\" aria-selected=\"false\">javascript</button></div><!--[--><div class=\"vp-code-tab active\" id=\"codetab-170-0\" role=\"tabpanel\" aria-expanded=\"true\"><div class=\"vp-code-tab-title\">java</div><!--[--><div class=\"language-java line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"java\" style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;\"><pre class=\"shiki shiki-themes light-plus dark-plus vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\"> calculate</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">String</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> s) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">    Stack</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">&lt;</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">Integer</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">&gt; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">new</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\"> Stack</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">&lt;&gt;();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // record the numbers in the expression</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">    int</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // record the sign before num, initialize as +</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">    char</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> sign</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    for</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">; i &lt; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">length</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(); i++) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">        char</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">charAt</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(i);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // if it's a digit, continuously read it into num</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">Character</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">isDigit</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(c)) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            num = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">10</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> * num + (c - </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'0'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // if it's not a digit, it means we encountered the</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // next sign or the end of the expression</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // then the previous number and sign should be pushed into the stack</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (c == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || c == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'-'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || i == </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">length</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">() - </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">            switch</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (sign) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '+'</span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(num); </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">break</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '-'</span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(-num); </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">break</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">            // update the sign to the current one, reset num to zero</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            sign = c;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            num = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // sum up all the results in the stack to get the answer</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">    int</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> res</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    while</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (!</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">isEmpty</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">()) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        res += </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">pop</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    return</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> res;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">}</span></span></code></pre><div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0;\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><!--]--></div><div class=\"vp-code-tab\" id=\"codetab-170-1\" role=\"tabpanel\" aria-expanded=\"false\"><div class=\"vp-code-tab-title\">cpp</div><!--[--><div class=\"language-cpp line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"cpp\" style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;\"><pre class=\"shiki shiki-themes light-plus dark-plus vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">int</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\"> calculate</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">string</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    stack&lt;</span><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">&gt; stk;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // record the numbers in the expression</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> num = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">; </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // record the sign before num, initialize as +</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    char</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> sign = </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;  </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    for</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> i = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">; i &lt; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">length</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(); i++) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">        char</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> c = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">[i];</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // if it's a digit, continuously read into num</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">isdigit</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(c)) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            num = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">10</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> * num + (c - </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'0'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // if it's not a digit, it means encountering the next sign or the end of the expression</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // then the previous number and sign should be stored in the stack</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (c == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || c == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'-'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || i == </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">length</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">() - </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">            switch</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (sign) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(num); </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">break</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '-'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(-num); </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">break</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">            // update the sign to the current sign, reset the number to zero</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            sign = c;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            num = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // sum all results in the stack to get the answer</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> res = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    while</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (!</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">empty</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">()) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        res += </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">top</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">        stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">pop</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    return</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> res;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">}</span></span></code></pre><div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0;\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><!--]--></div><div class=\"vp-code-tab\" id=\"codetab-170-2\" role=\"tabpanel\" aria-expanded=\"false\"><div class=\"vp-code-tab-title\">python</div><!--[--><div class=\"language-python line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"python\" style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;\"><pre class=\"shiki shiki-themes light-plus dark-plus vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">def</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\"> calculate</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">):</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    stk = []</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    # record the numbers in the formula</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    num = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    # record the sign before num, initialized to +</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    sign = </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    for</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> i </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">in</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\"> range</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">len</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(s)):</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        c = s[i]</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        # if it's a digit, read it continuously into num</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> c.isdigit():</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            num = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">10</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> * num + </span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(c)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        # if it's not a digit, then it means we've</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        # encountered the next sign or the end of the formula</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        # then the previous number and sign should be stored in the stack</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> c == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\"> or</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> c == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'-'</span><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\"> or</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> i == </span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">len</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(s) - </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">            if</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> sign == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">                stk.append(num)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">            elif</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> sign == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'-'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">                stk.append(-num)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">            # update the sign to the current sign and reset the number to zero</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            sign = c</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            num = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    # the answer is the sum of all results in the stack</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    res = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    while</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> stk:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        res += stk.pop()</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    return</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> res</span></span></code></pre><div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0;\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><!--]--></div><div class=\"vp-code-tab\" id=\"codetab-170-3\" role=\"tabpanel\" aria-expanded=\"false\"><div class=\"vp-code-tab-title\">go</div><!--[--><div class=\"language-go line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"go\" style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;\"><pre class=\"shiki shiki-themes light-plus dark-plus vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">func</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\"> calculate</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\"> string</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) </span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // record the number in the expression</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> num</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\"> int</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // final result</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> res</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\"> int</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // record the sign before num, initialize to +</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> sign</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\"> int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // stack initialization</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">    stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> := </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stack</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">New</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">()</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // start traversing s in order</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    for</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> := </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> &lt; </span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">len</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">); </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">++ {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // if it's a digit, continuously read into num</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\"> isDigit</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">[</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">]) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">            num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">10</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">*</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> + </span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">[</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">]-</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'0'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // if it's not a digit, it means encountering the next sign or the end of the expression</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // then the previous number and sign should be stored in the stack</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">[</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">] == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">[</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">] == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'-'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> == </span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">len</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)-</span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">            // store the number and sign in the stack</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">            if</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> sign</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> == </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">Push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            } </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">else</span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\"> if</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> sign</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> == -</span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">Push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(-</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">            // update the sign to the current sign, reset the number to zero</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">            num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">            if</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">[</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">] == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                sign</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            } </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">else</span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\"> if</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">[</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">] == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'-'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                sign</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = -</span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // sum all the results in the stack to get the answer</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    for</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">Len</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">() != </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">        res</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> += </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">Pop</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">().(</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // return the result</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    return</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> res</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">// helper function, determine if a character is a digit</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">func</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\"> isDigit</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">n</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\"> byte</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) </span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">bool</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    if</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '0'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> &lt;= </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">n</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> &amp;&amp; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">n</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> &lt;= </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'9'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        return</span><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\"> true</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    return</span><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\"> false</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">}</span></span></code></pre><div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0;\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><!--]--></div><div class=\"vp-code-tab\" id=\"codetab-170-4\" role=\"tabpanel\" aria-expanded=\"false\"><div class=\"vp-code-tab-title\">javascript</div><!--[--><div class=\"language-javascript line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"javascript\" style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;\"><pre class=\"shiki shiki-themes light-plus dark-plus vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">var</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\"> calculate</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">function</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // declare an array to replace the original Java stack</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = [];</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // record the numbers in the formula</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // record the sign before num, initialized as +</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> sign</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    for</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> &lt; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">length</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">++) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">        var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">charAt</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // if it's a number, continuously read into num</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (!</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">isNaN</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">            num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">10</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> * </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> + (</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> - </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'0'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // if it's not a number, it means we encountered</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // the next sign, or the end of the formula</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // then the previous number and sign should be stored into the stack</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> === </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> === </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'-'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> === </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">length</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> - </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">            switch</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">sign</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                    break</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '-'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(-</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                    break</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">            // update the sign to the current sign, and reset the number to zero</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">            sign</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">            num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // summing all the results in the stack gives the answer</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> res</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    while</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">length</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> !== </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">        res</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> += </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">pop</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    return</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> res</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">}</span></span></code></pre><div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0;\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><!--]--></div><!--]--></div><p>Maybe the part with the <code>switch</code> statement is a bit hard to understand. <code>i</code> scans from left to right, and <code>sign</code> and <code>num</code> follow it. When <code>s[i]</code> meets an operator, here's what happens:</p><div class=\"img-content\"><img src=\"/algo/images/calculator/1.jpg\" alt class=\"myimage\" loading=\"lazy\" photo-swipe=\"\"></div><p>Now, use <code>sign</code> to decide if the number is positive or negative, put it into the stack, then update <code>sign</code> and reset <code>num</code> to get ready for the next pair.</p><p>Also, not only when you meet a new operator should you push to the stack. When <code>i</code> reaches the end of the string (<code>i == s.size() - 1</code>), you should also put the last number into the stack for the final calculation.</p><div class=\"img-content\"><img src=\"/algo/images/calculator/2.jpg\" alt class=\"myimage\" loading=\"lazy\" photo-swipe=\"\"></div><p>That's it. This is the algorithm for compact addition and subtraction strings. Make sure you understand this part. The next steps just change this base framework a bit.</p><h2 id=\"_3-handling-multiplication-and-division\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#_3-handling-multiplication-and-division\"><span>3. Handling Multiplication and Division</span></a></h2><p>The idea is almost the same as just handling addition and subtraction. Let's use the string <code>2-3*4+5</code> as an example. The core idea is still to break the string into pairs of symbols and numbers.</p><p>For example, this can be split into <code>+2</code>, <code>-3</code>, <code>*4</code>, <code>+5</code>. Before, we didn't handle multiplication and division. That's easy. <strong>Everything else stays the same</strong>. Just add the cases for multiplication and division in the <code>switch</code> part:</p><div class=\"vp-code-tabs\"><div class=\"vp-code-tabs-nav\" role=\"tablist\"><button type=\"button\" class=\"vp-code-tab-nav active\" role=\"tab\" aria-controls=\"codetab-210-0\" aria-selected=\"true\">java</button><button type=\"button\" class=\"vp-code-tab-nav\" role=\"tab\" aria-controls=\"codetab-210-1\" aria-selected=\"false\">cpp</button><button type=\"button\" class=\"vp-code-tab-nav\" role=\"tab\" aria-controls=\"codetab-210-2\" aria-selected=\"false\">python</button><button type=\"button\" class=\"vp-code-tab-nav\" role=\"tab\" aria-controls=\"codetab-210-3\" aria-selected=\"false\">go</button><button type=\"button\" class=\"vp-code-tab-nav\" role=\"tab\" aria-controls=\"codetab-210-4\" aria-selected=\"false\">javascript</button></div><!--[--><div class=\"vp-code-tab active\" id=\"codetab-210-0\" role=\"tabpanel\" aria-expanded=\"true\"><div class=\"vp-code-tab-title\">java</div><!--[--><div class=\"language-java line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"java\" style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;\"><pre class=\"shiki shiki-themes light-plus dark-plus vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\"> calculate</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">String</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> s) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">    Stack</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">&lt;</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">Integer</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">&gt; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">new</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\"> Stack</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">&lt;&gt;();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // record the numbers in the formula</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">    int</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // record the sign before num, initialized as +</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">    char</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> sign</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    for</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">; i &lt; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">length</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(); i++) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">        char</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">charAt</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(i);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">Character</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">isDigit</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(c)) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            num = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">10</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> * num + (c - </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'0'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        }</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (c == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || c == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'-'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || c == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'/'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || c == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'*'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || i == </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">length</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">() - </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">            int</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> pre</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">            switch</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (sign) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '+'</span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(num); </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">break</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '-'</span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(-num); </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">break</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">                // just take out the previous number and perform corresponding operation</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '*'</span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">                    pre = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">pop</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(pre * num);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                    break</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '/'</span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">                    pre = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">pop</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(pre / num);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                    break</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">            // update the sign to the current sign, reset the number to zero</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            sign = c;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            num = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // sum up all the results in the stack to get the answer</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">    int</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> res</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    while</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (!</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">isEmpty</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">()) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        res += </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">pop</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    return</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> res;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">}</span></span></code></pre><div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0;\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><!--]--></div><div class=\"vp-code-tab\" id=\"codetab-210-1\" role=\"tabpanel\" aria-expanded=\"false\"><div class=\"vp-code-tab-title\">cpp</div><!--[--><div class=\"language-cpp line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"cpp\" style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;\"><pre class=\"shiki shiki-themes light-plus dark-plus vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">int</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\"> calculate</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">string</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    stack&lt;</span><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">&gt; stk;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // record the numbers in the formula</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> num = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // record the sign before num, initialized to +</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    char</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> sign = </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    for</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> i = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">; i &lt; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">length</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(); i++) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">        char</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> c = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">[i];</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">isdigit</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(c)) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            num = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">10</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> * num + (c - </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'0'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        }</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (c == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || c == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'-'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || c == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'/'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || c == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'*'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || i == </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">length</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">() - </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">            int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> pre;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">            switch</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (sign) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(num); </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">break</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '-'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(-num); </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">break</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">                // just take out the previous number for the corresponding operation</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '*'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">                    pre = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">top</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(); </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">pop</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(pre * num);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                    break</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '/'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">                    pre = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">top</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(); </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">pop</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(pre / num);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                    break</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">            // update the sign to the current sign, reset the number to zero</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            sign = c;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            num = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // summing up all the results in the stack gives the answer</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> res = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    while</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (!</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">empty</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">()) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        res += </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">top</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(); </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">pop</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    return</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> res;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">}</span></span></code></pre><div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0;\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><!--]--></div><div class=\"vp-code-tab\" id=\"codetab-210-2\" role=\"tabpanel\" aria-expanded=\"false\"><div class=\"vp-code-tab-title\">python</div><!--[--><div class=\"language-python line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"python\" style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;\"><pre class=\"shiki shiki-themes light-plus dark-plus vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">def</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\"> calculate</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">: </span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">str</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) -&gt; </span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    stk = []</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    # record the numbers in the equation</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    num = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    # record the sign before num, initialized as +</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    sign = </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">\"+\"</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    for</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> i </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">in</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\"> range</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">len</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(s)):</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> s[i].isdigit():</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            num = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">10</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> * num + </span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(s[i])</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        # encounter +,-,*,/ or reach the end</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> s[i] </span><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">in</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> \"+-*/\"</span><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\"> or</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> i == </span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">len</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(s) - </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">            if</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> sign == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">\"+\"</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">                stk.append(num)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">            elif</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> sign == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">\"-\"</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">                stk.append(-num)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">            # just take out the previous number and perform the corresponding operation</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">            elif</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> sign == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">\"*\"</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">                stk[-</span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">] *= num</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">            else</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">                # encounter division sign, need to take out the</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">                # previous number and perform division</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">                stk[-</span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">] = </span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(stk[-</span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">] / num)</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">            # update the sign to the current sign, reset the number to zero</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            sign = s[i]</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            num = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    # sum all results in the stack to get the answer</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    return</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\"> sum</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(stk)</span></span></code></pre><div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0;\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><!--]--></div><div class=\"vp-code-tab\" id=\"codetab-210-3\" role=\"tabpanel\" aria-expanded=\"false\"><div class=\"vp-code-tab-title\">go</div><!--[--><div class=\"language-go line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"go\" style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;\"><pre class=\"shiki shiki-themes light-plus dark-plus vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">func</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\"> calculate</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\"> string</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) </span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">  // initialize stack stk</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">  stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> := </span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">make</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">([]</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">, </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">  // record numbers in the expression</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">  num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> := </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">  // record the sign before num, initialized to +</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">  sign</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> := </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">  </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">  for</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">, </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> := </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">range</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    if</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> unicode</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">IsDigit</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">      num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">10</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">*</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> + </span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">-</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'0'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    if</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">==</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">==</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'-'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">==</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'/'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">==</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'*'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">==</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">len</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)-</span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">      var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> pre</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\"> int</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">      switch</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> sign</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">      case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // if the sign is +, push the number onto the stack</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">        stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">append</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">, </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">      case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '-'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // if the sign is -, push the negated number onto the stack</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">        stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">append</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">, -</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">      case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '*'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // if the sign is *, pop the top element of the stack, multiply it by</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // the current number, and push the result back onto the stack</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">        pre</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">[</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">len</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)-</span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">]</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">        stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">[:</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">len</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)-</span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">]</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">        stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">append</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">, </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">pre</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">*</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">      case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '/'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // if the sign is /, pop the top element of the stack, divide it by</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // the current number, and push the result back onto the stack</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">        pre</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">[</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">len</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)-</span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">]</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">        stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">[:</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">len</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)-</span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">]</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">        stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">append</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">, </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">pre</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">/</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">      }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">      // update the sign to the current sign, and reset the number to 0</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">      sign</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">rune</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">      num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">  }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">  // sum all the results in the stack to get the answer</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">  res</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> := </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">  for</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> _</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">, </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">v</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> := </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">range</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">    res</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> += </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">v</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">  }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">  </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">  return</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> res</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">}</span></span></code></pre><div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0;\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><!--]--></div><div class=\"vp-code-tab\" id=\"codetab-210-4\" role=\"tabpanel\" aria-expanded=\"false\"><div class=\"vp-code-tab-title\">javascript</div><!--[--><div class=\"language-javascript line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"javascript\" style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;\"><pre class=\"shiki shiki-themes light-plus dark-plus vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">var</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\"> calculate</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">function</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> stack</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = [];</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // record the numbers in the formula</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // record the sign before num, initialized to +</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> sign</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    for</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> &lt; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">length</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">++) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">        var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">[</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">];</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (!</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">isNaN</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">            num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">10</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> * </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> + (</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> - </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'0'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        }</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> === </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> === </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'-'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> === </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'/'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> === </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'*'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> === </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">length</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> - </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">            var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> pre</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">            switch</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">sign</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">                // just take out the previous number and perform the corresponding operation</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stack</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">); </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">break</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '-'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stack</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(-</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">); </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">break</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '*'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    pre</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stack</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">pop</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stack</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">pre</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> * </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">); </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                    break</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '/'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    pre</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stack</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">pop</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stack</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">Math</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">trunc</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">pre</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> / </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">));</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                    break</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">            // update the sign to the current sign, and reset the number to zero</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">            sign</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">            num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // sum all the results in the stack to get the answer</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> res</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    while</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stack</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">length</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> !== </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">        res</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> += </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stack</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">pop</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    return</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> res</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">};</span></span></code></pre><div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0;\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><!--]--></div><!--]--></div><div class=\"img-content\"><img src=\"/algo/images/calculator/3.jpg\" alt class=\"myimage\" loading=\"lazy\" photo-swipe=\"\"></div><p><strong>Multiplication and division have higher priority than addition and subtraction. This means you combine them with the top number in the stack, while addition and subtraction just push their number into the stack.</strong></p><p>Now let's think about spaces in the string. In our code, there is no need to handle spaces specially. Look at the <code>if</code> conditions: if the character <code>c</code> is a space, we just skip it.</p><p>Now, our algorithm can calculate addition, subtraction, multiplication, and division correctly, and automatically ignores spaces. The last step is to make the algorithm handle parentheses correctly.</p><h2 class=\"hidden-for-toc\" id=\"_4-handling-parentheses\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#_4-handling-parentheses\"><span>4. Handling Parentheses</span></a></h2><h2 class=\"hidden-for-toc\" id=\"_5-summary\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#_5-summary\"><span>5. Summary</span></a></h2><div id=\"hidden_part\" class=\"paywall\"><div><div class=\"css-1p3hq3p ant-spin ant-spin-spinning\" aria-live=\"polite\" aria-busy=\"true\"><span class=\"ant-spin-dot ant-spin-dot-spin\"><i class=\"ant-spin-dot-item\"></i><i class=\"ant-spin-dot-item\"></i><i class=\"ant-spin-dot-item\"></i><i class=\"ant-spin-dot-item\"></i></span><!----></div><p>loading...</p></div></div></div><!----><!----><!----></div> <div id=\"markdown-content\"><div style=\"display:none;\"><h3 tabindex=\"-1\"> 224. Basic Calculator https://leetcode.com/problems/basic-calculator </h3><h3 tabindex=\"-1\"> 227. Basic Calculator II https://leetcode.com/problems/basic-calculator-ii </h3><h3 tabindex=\"-1\"> 772. Basic Calculator III https://leetcode.com/problems/basic-calculator-iii </h3></div><div class=\"hint-container note\"><p class=\"hint-container-title\">This article will resolve</p><table><thead><tr><th style=\"text-align:center;\">LeetCode</th><th style=\"text-align:center;\">Difficulty</th></tr></thead><tbody><tr><td style=\"text-align:center;\"><a href=\"https://leetcode.com/problems/basic-calculator/\" target=\"_blank\" rel=\"noopener noreferrer\">224. Basic Calculator</a></td><td style=\"text-align:center;\">ðŸ”´</td></tr><tr><td style=\"text-align:center;\"><a href=\"https://leetcode.com/problems/basic-calculator-ii/\" target=\"_blank\" rel=\"noopener noreferrer\">227. Basic Calculator II</a></td><td style=\"text-align:center;\">ðŸŸ </td></tr><tr><td style=\"text-align:center;\"><a href=\"https://leetcode.com/problems/basic-calculator-iii/\" target=\"_blank\" rel=\"noopener noreferrer\">772. Basic Calculator III</a>ðŸ”’</td><td style=\"text-align:center;\">ðŸ”´</td></tr></tbody></table></div><div class=\"hint-container info\"><p class=\"hint-container-title\">Prerequisites</p><p>Before reading this article, you need to learn:</p><ul><li><a class=\"route-link\" href=\"/algo/en/data-structure-basic/queue-stack-basic/\">Principles of Queue/Stack</a></li></ul></div><p>The calculator we want to build will have these features:</p><ol><li><p>You input a string. It can have <code>+ - * /</code>, numbers, parentheses, and spaces. Your algorithm returns the result.</p></li><li><p>The calculation follows the normal math rules. Parentheses have the highest priority. Multiply and divide come before add and subtract.</p></li><li><p>Division is integer division. No matter positive or negative, round toward zero (5/2=2, -5/2=-2).</p></li><li><p>You can assume the input is always valid. There will not be integer overflow, and no division by zero.</p></li></ol><p>For example, if you input this string, the algorithm will return 9:</p><div class=\"language-java line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"java\" style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;\"><pre class=\"shiki shiki-themes light-plus dark-plus vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">  3</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> * (</span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">2</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> - </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">6</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> / (</span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">3</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> - </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">7</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">))</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">= </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">3</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> * (</span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">2</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> - </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">6</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> / (-</span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">4</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">))</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">= </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">3</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> * (</span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">2</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> - (-</span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">))</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">= </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">9</span></span></code></pre><div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0;\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><p>As you can see, this is already very close to a real calculator. Although we all have used calculators before, if you think about how to implement its algorithm, it is not that easy:</p><ol><li><p>To handle parentheses, you must calculate the innermost ones first, then simplify step by step. Even when doing it by hand, it's easy to make mistakes. Writing it as an algorithm is even harder.</p></li><li><p>You must handle multiplication and division before addition and subtraction. This is not so hard for kids to learn, but it is tricky for computers.</p></li><li><p>You need to deal with spaces. For better readability, we often put spaces between numbers and operators. But during calculation, these spaces should be ignored.</p></li></ol><p>I remember many data structure textbooks use calculators as an example when explaining stacks. But honestly, the explanation is not good. Many future computer scientists may have been discouraged by such a simple data structure.</p><p>So in this article, let's talk about how to build a fully functional calculator. <strong>The key is to break down the problem step by step, solve each part one by one.</strong> With a few simple algorithm rules, you can handle very complex calculations. I believe this way of thinking can help you solve many hard problems.</p><p>Let's start by breaking down the problem, beginning with the simplest one.</p><h2 id=\"_1-string-to-integer\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#_1-string-to-integer\"><span>1. String to Integer</span></a></h2><p>Yes, this is a simple problem. First, tell me how to convert a string that represents a <strong>positive integer</strong> into an int type?</p><div class=\"vp-code-tabs\"><div class=\"vp-code-tabs-nav\" role=\"tablist\"><button type=\"button\" class=\"vp-code-tab-nav active\" role=\"tab\" aria-controls=\"codetab-121-0\" aria-selected=\"true\">java</button><button type=\"button\" class=\"vp-code-tab-nav\" role=\"tab\" aria-controls=\"codetab-121-1\" aria-selected=\"false\">cpp</button><button type=\"button\" class=\"vp-code-tab-nav\" role=\"tab\" aria-controls=\"codetab-121-2\" aria-selected=\"false\">python</button><button type=\"button\" class=\"vp-code-tab-nav\" role=\"tab\" aria-controls=\"codetab-121-3\" aria-selected=\"false\">go</button><button type=\"button\" class=\"vp-code-tab-nav\" role=\"tab\" aria-controls=\"codetab-121-4\" aria-selected=\"false\">javascript</button></div><!--[--><div class=\"vp-code-tab active\" id=\"codetab-121-0\" role=\"tabpanel\" aria-expanded=\"true\"><div class=\"vp-code-tab-title\">java</div><!--[--><div class=\"language-java line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"java\" style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;\"><pre class=\"shiki shiki-themes light-plus dark-plus vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">String</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">\"458\"</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> n</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">for</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">; i &lt; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">length</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(); i++) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">    char</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">charAt</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(i);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    n = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">10</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> * n + (c - </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'0'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">}</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">// n is now equal to 458</span></span></code></pre><div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0;\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><!--]--></div><div class=\"vp-code-tab\" id=\"codetab-121-1\" role=\"tabpanel\" aria-expanded=\"false\"><div class=\"vp-code-tab-title\">cpp</div><!--[--><div class=\"language-cpp line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"cpp\" style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;\"><pre class=\"shiki shiki-themes light-plus dark-plus vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">std</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">::string s = </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">\"458\"</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> n = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">for</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> i = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">; i &lt; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">length</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(); i++) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    char</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> c = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">[i];</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    n = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">10</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> * n + (c - </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'0'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">}</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">// n is now equal to 458</span></span></code></pre><div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0;\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><!--]--></div><div class=\"vp-code-tab\" id=\"codetab-121-2\" role=\"tabpanel\" aria-expanded=\"false\"><div class=\"vp-code-tab-title\">python</div><!--[--><div class=\"language-python line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"python\" style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;\"><pre class=\"shiki shiki-themes light-plus dark-plus vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">s = </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">\"458\"</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">n = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">for</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> i </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">in</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\"> range</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">len</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(s)):</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    c = s[i]</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    n = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">10</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> * n + (</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">ord</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(c) - </span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">ord</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'0'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">))</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\"># n is now equal to 458</span></span></code></pre><div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0;\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><!--]--></div><div class=\"vp-code-tab\" id=\"codetab-121-3\" role=\"tabpanel\" aria-expanded=\"false\"><div class=\"vp-code-tab-title\">go</div><!--[--><div class=\"language-go line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"go\" style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;\"><pre class=\"shiki shiki-themes light-plus dark-plus vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> := </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">\"458\"</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">n</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> := </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">for</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> := </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> &lt; </span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">len</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">); </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">++ {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">    c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> := </span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">[</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">] - </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'0'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">    n</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">10</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">*</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">n</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> + </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">}</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">// n is now equal to 458</span></span></code></pre><div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0;\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><!--]--></div><div class=\"vp-code-tab\" id=\"codetab-121-4\" role=\"tabpanel\" aria-expanded=\"false\"><div class=\"vp-code-tab-title\">javascript</div><!--[--><div class=\"language-javascript line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"javascript\" style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;\"><pre class=\"shiki shiki-themes light-plus dark-plus vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">\"458\"</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> n</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">for</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> &lt; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">length</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">++) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">charAt</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">    n</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">10</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> * </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">n</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> + (</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">charCodeAt</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) - </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'0'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">charCodeAt</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">));</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">}</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">// n is now equal to 458</span></span></code></pre><div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0;\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><!--]--></div><!--]--></div><p>This is very simple and a common routine. But even for such a simple problem, there is a pitfall: <strong>You cannot remove the parentheses in <code>(c - '0')</code>, or it may cause integer overflow</strong>.</p><p>Because the variable <code>c</code> is an ASCII code. Without parentheses, addition may happen before subtraction. If <code>s</code> is close to INT_MAX, this can cause overflow. So, use parentheses to make sure subtraction happens first.</p><h2 id=\"_2-handling-addition-and-subtraction\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#_2-handling-addition-and-subtraction\"><span>2. Handling Addition and Subtraction</span></a></h2><p>Now, let's move on. <strong>If the input formula only contains addition and subtraction, and there are no spaces</strong>, how can you calculate the result? Let's use the string <code>1-12+3</code> as an example:</p><ol><li><p>Add a default <code>+</code> sign before the first number, so it becomes <code>+1-12+3</code>.</p></li><li><p>Combine each operator and number into a pair. For example: <code>+1</code>, <code>-12</code>, <code>+3</code>. Convert them to numbers, then put them into a stack.</p></li><li><p>Add up all the numbers in the stack. The sum is the result of the formula.</p></li></ol><p>Let's look at the code and a picture to make it clear:</p><div class=\"vp-code-tabs\"><div class=\"vp-code-tabs-nav\" role=\"tablist\"><button type=\"button\" class=\"vp-code-tab-nav active\" role=\"tab\" aria-controls=\"codetab-170-0\" aria-selected=\"true\">java</button><button type=\"button\" class=\"vp-code-tab-nav\" role=\"tab\" aria-controls=\"codetab-170-1\" aria-selected=\"false\">cpp</button><button type=\"button\" class=\"vp-code-tab-nav\" role=\"tab\" aria-controls=\"codetab-170-2\" aria-selected=\"false\">python</button><button type=\"button\" class=\"vp-code-tab-nav\" role=\"tab\" aria-controls=\"codetab-170-3\" aria-selected=\"false\">go</button><button type=\"button\" class=\"vp-code-tab-nav\" role=\"tab\" aria-controls=\"codetab-170-4\" aria-selected=\"false\">javascript</button></div><!--[--><div class=\"vp-code-tab active\" id=\"codetab-170-0\" role=\"tabpanel\" aria-expanded=\"true\"><div class=\"vp-code-tab-title\">java</div><!--[--><div class=\"language-java line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"java\" style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;\"><pre class=\"shiki shiki-themes light-plus dark-plus vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\"> calculate</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">String</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> s) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">    Stack</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">&lt;</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">Integer</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">&gt; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">new</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\"> Stack</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">&lt;&gt;();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // record the numbers in the expression</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">    int</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // record the sign before num, initialize as +</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">    char</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> sign</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    for</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">; i &lt; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">length</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(); i++) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">        char</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">charAt</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(i);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // if it's a digit, continuously read it into num</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">Character</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">isDigit</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(c)) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            num = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">10</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> * num + (c - </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'0'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // if it's not a digit, it means we encountered the</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // next sign or the end of the expression</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // then the previous number and sign should be pushed into the stack</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (c == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || c == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'-'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || i == </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">length</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">() - </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">            switch</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (sign) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '+'</span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(num); </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">break</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '-'</span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(-num); </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">break</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">            // update the sign to the current one, reset num to zero</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            sign = c;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            num = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // sum up all the results in the stack to get the answer</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">    int</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> res</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    while</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (!</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">isEmpty</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">()) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        res += </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">pop</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    return</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> res;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">}</span></span></code></pre><div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0;\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><!--]--></div><div class=\"vp-code-tab\" id=\"codetab-170-1\" role=\"tabpanel\" aria-expanded=\"false\"><div class=\"vp-code-tab-title\">cpp</div><!--[--><div class=\"language-cpp line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"cpp\" style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;\"><pre class=\"shiki shiki-themes light-plus dark-plus vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">int</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\"> calculate</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">string</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    stack&lt;</span><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">&gt; stk;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // record the numbers in the expression</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> num = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">; </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // record the sign before num, initialize as +</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    char</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> sign = </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;  </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    for</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> i = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">; i &lt; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">length</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(); i++) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">        char</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> c = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">[i];</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // if it's a digit, continuously read into num</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">isdigit</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(c)) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            num = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">10</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> * num + (c - </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'0'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // if it's not a digit, it means encountering the next sign or the end of the expression</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // then the previous number and sign should be stored in the stack</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (c == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || c == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'-'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || i == </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">length</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">() - </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">            switch</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (sign) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(num); </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">break</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '-'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(-num); </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">break</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">            // update the sign to the current sign, reset the number to zero</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            sign = c;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            num = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // sum all results in the stack to get the answer</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> res = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    while</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (!</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">empty</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">()) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        res += </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">top</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">        stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">pop</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    return</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> res;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">}</span></span></code></pre><div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0;\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><!--]--></div><div class=\"vp-code-tab\" id=\"codetab-170-2\" role=\"tabpanel\" aria-expanded=\"false\"><div class=\"vp-code-tab-title\">python</div><!--[--><div class=\"language-python line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"python\" style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;\"><pre class=\"shiki shiki-themes light-plus dark-plus vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">def</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\"> calculate</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">):</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    stk = []</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    # record the numbers in the formula</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    num = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    # record the sign before num, initialized to +</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    sign = </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    for</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> i </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">in</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\"> range</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">len</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(s)):</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        c = s[i]</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        # if it's a digit, read it continuously into num</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> c.isdigit():</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            num = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">10</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> * num + </span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(c)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        # if it's not a digit, then it means we've</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        # encountered the next sign or the end of the formula</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        # then the previous number and sign should be stored in the stack</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> c == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\"> or</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> c == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'-'</span><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\"> or</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> i == </span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">len</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(s) - </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">            if</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> sign == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">                stk.append(num)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">            elif</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> sign == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'-'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">                stk.append(-num)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">            # update the sign to the current sign and reset the number to zero</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            sign = c</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            num = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    # the answer is the sum of all results in the stack</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    res = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    while</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> stk:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        res += stk.pop()</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    return</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> res</span></span></code></pre><div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0;\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><!--]--></div><div class=\"vp-code-tab\" id=\"codetab-170-3\" role=\"tabpanel\" aria-expanded=\"false\"><div class=\"vp-code-tab-title\">go</div><!--[--><div class=\"language-go line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"go\" style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;\"><pre class=\"shiki shiki-themes light-plus dark-plus vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">func</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\"> calculate</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\"> string</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) </span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // record the number in the expression</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> num</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\"> int</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // final result</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> res</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\"> int</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // record the sign before num, initialize to +</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> sign</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\"> int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // stack initialization</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">    stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> := </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stack</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">New</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">()</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // start traversing s in order</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    for</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> := </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> &lt; </span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">len</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">); </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">++ {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // if it's a digit, continuously read into num</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\"> isDigit</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">[</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">]) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">            num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">10</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">*</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> + </span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">[</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">]-</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'0'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // if it's not a digit, it means encountering the next sign or the end of the expression</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // then the previous number and sign should be stored in the stack</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">[</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">] == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">[</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">] == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'-'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> == </span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">len</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)-</span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">            // store the number and sign in the stack</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">            if</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> sign</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> == </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">Push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            } </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">else</span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\"> if</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> sign</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> == -</span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">Push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(-</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">            // update the sign to the current sign, reset the number to zero</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">            num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">            if</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">[</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">] == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                sign</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            } </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">else</span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\"> if</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">[</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">] == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'-'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                sign</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = -</span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // sum all the results in the stack to get the answer</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    for</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">Len</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">() != </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">        res</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> += </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">Pop</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">().(</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // return the result</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    return</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> res</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">// helper function, determine if a character is a digit</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">func</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\"> isDigit</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">n</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\"> byte</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) </span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">bool</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    if</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '0'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> &lt;= </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">n</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> &amp;&amp; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">n</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> &lt;= </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'9'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        return</span><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\"> true</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    return</span><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\"> false</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">}</span></span></code></pre><div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0;\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><!--]--></div><div class=\"vp-code-tab\" id=\"codetab-170-4\" role=\"tabpanel\" aria-expanded=\"false\"><div class=\"vp-code-tab-title\">javascript</div><!--[--><div class=\"language-javascript line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"javascript\" style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;\"><pre class=\"shiki shiki-themes light-plus dark-plus vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">var</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\"> calculate</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">function</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // declare an array to replace the original Java stack</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = [];</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // record the numbers in the formula</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // record the sign before num, initialized as +</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> sign</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    for</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> &lt; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">length</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">++) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">        var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">charAt</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // if it's a number, continuously read into num</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (!</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">isNaN</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">            num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">10</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> * </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> + (</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> - </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'0'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // if it's not a number, it means we encountered</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // the next sign, or the end of the formula</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // then the previous number and sign should be stored into the stack</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> === </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> === </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'-'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> === </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">length</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> - </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">            switch</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">sign</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                    break</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '-'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(-</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                    break</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">            // update the sign to the current sign, and reset the number to zero</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">            sign</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">            num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // summing all the results in the stack gives the answer</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> res</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    while</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">length</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> !== </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">        res</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> += </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">pop</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    return</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> res</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">}</span></span></code></pre><div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0;\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><!--]--></div><!--]--></div><p>Maybe the part with the <code>switch</code> statement is a bit hard to understand. <code>i</code> scans from left to right, and <code>sign</code> and <code>num</code> follow it. When <code>s[i]</code> meets an operator, here's what happens:</p><div class=\"img-content\"><img src=\"/algo/images/calculator/1.jpg\" alt class=\"myimage\" loading=\"lazy\" photo-swipe=\"\"></div><p>Now, use <code>sign</code> to decide if the number is positive or negative, put it into the stack, then update <code>sign</code> and reset <code>num</code> to get ready for the next pair.</p><p>Also, not only when you meet a new operator should you push to the stack. When <code>i</code> reaches the end of the string (<code>i == s.size() - 1</code>), you should also put the last number into the stack for the final calculation.</p><div class=\"img-content\"><img src=\"/algo/images/calculator/2.jpg\" alt class=\"myimage\" loading=\"lazy\" photo-swipe=\"\"></div><p>That's it. This is the algorithm for compact addition and subtraction strings. Make sure you understand this part. The next steps just change this base framework a bit.</p><h2 id=\"_3-handling-multiplication-and-division\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#_3-handling-multiplication-and-division\"><span>3. Handling Multiplication and Division</span></a></h2><p>The idea is almost the same as just handling addition and subtraction. Let's use the string <code>2-3*4+5</code> as an example. The core idea is still to break the string into pairs of symbols and numbers.</p><p>For example, this can be split into <code>+2</code>, <code>-3</code>, <code>*4</code>, <code>+5</code>. Before, we didn't handle multiplication and division. That's easy. <strong>Everything else stays the same</strong>. Just add the cases for multiplication and division in the <code>switch</code> part:</p><div class=\"vp-code-tabs\"><div class=\"vp-code-tabs-nav\" role=\"tablist\"><button type=\"button\" class=\"vp-code-tab-nav active\" role=\"tab\" aria-controls=\"codetab-210-0\" aria-selected=\"true\">java</button><button type=\"button\" class=\"vp-code-tab-nav\" role=\"tab\" aria-controls=\"codetab-210-1\" aria-selected=\"false\">cpp</button><button type=\"button\" class=\"vp-code-tab-nav\" role=\"tab\" aria-controls=\"codetab-210-2\" aria-selected=\"false\">python</button><button type=\"button\" class=\"vp-code-tab-nav\" role=\"tab\" aria-controls=\"codetab-210-3\" aria-selected=\"false\">go</button><button type=\"button\" class=\"vp-code-tab-nav\" role=\"tab\" aria-controls=\"codetab-210-4\" aria-selected=\"false\">javascript</button></div><!--[--><div class=\"vp-code-tab active\" id=\"codetab-210-0\" role=\"tabpanel\" aria-expanded=\"true\"><div class=\"vp-code-tab-title\">java</div><!--[--><div class=\"language-java line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"java\" style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;\"><pre class=\"shiki shiki-themes light-plus dark-plus vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\"> calculate</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">String</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> s) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">    Stack</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">&lt;</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">Integer</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">&gt; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">new</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\"> Stack</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">&lt;&gt;();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // record the numbers in the formula</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">    int</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // record the sign before num, initialized as +</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">    char</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> sign</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    for</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">; i &lt; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">length</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(); i++) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">        char</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">charAt</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(i);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">Character</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">isDigit</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(c)) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            num = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">10</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> * num + (c - </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'0'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        }</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (c == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || c == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'-'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || c == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'/'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || c == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'*'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || i == </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">length</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">() - </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">            int</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> pre</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">            switch</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (sign) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '+'</span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(num); </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">break</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '-'</span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(-num); </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">break</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">                // just take out the previous number and perform corresponding operation</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '*'</span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">                    pre = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">pop</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(pre * num);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                    break</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '/'</span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">                    pre = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">pop</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(pre / num);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                    break</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">            // update the sign to the current sign, reset the number to zero</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            sign = c;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            num = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // sum up all the results in the stack to get the answer</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">    int</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> res</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    while</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (!</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">isEmpty</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">()) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        res += </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">pop</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    return</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> res;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">}</span></span></code></pre><div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0;\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><!--]--></div><div class=\"vp-code-tab\" id=\"codetab-210-1\" role=\"tabpanel\" aria-expanded=\"false\"><div class=\"vp-code-tab-title\">cpp</div><!--[--><div class=\"language-cpp line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"cpp\" style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;\"><pre class=\"shiki shiki-themes light-plus dark-plus vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">int</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\"> calculate</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">string</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    stack&lt;</span><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">&gt; stk;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // record the numbers in the formula</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> num = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // record the sign before num, initialized to +</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    char</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> sign = </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    for</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> i = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">; i &lt; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">length</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(); i++) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">        char</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> c = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">[i];</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">isdigit</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(c)) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            num = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">10</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> * num + (c - </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'0'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        }</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (c == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || c == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'-'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || c == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'/'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || c == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'*'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || i == </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">length</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">() - </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">            int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> pre;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">            switch</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (sign) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(num); </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">break</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '-'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(-num); </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">break</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">                // just take out the previous number for the corresponding operation</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '*'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">                    pre = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">top</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(); </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">pop</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(pre * num);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                    break</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '/'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">                    pre = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">top</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(); </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">pop</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(pre / num);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                    break</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">            // update the sign to the current sign, reset the number to zero</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            sign = c;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            num = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // summing up all the results in the stack gives the answer</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> res = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    while</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (!</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">empty</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">()) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        res += </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">top</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(); </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">pop</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    return</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> res;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">}</span></span></code></pre><div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0;\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><!--]--></div><div class=\"vp-code-tab\" id=\"codetab-210-2\" role=\"tabpanel\" aria-expanded=\"false\"><div class=\"vp-code-tab-title\">python</div><!--[--><div class=\"language-python line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"python\" style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;\"><pre class=\"shiki shiki-themes light-plus dark-plus vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">def</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\"> calculate</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">: </span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">str</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) -&gt; </span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    stk = []</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    # record the numbers in the equation</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    num = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    # record the sign before num, initialized as +</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    sign = </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">\"+\"</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    for</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> i </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">in</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\"> range</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">len</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(s)):</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> s[i].isdigit():</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            num = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">10</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> * num + </span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(s[i])</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        # encounter +,-,*,/ or reach the end</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> s[i] </span><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">in</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> \"+-*/\"</span><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\"> or</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> i == </span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">len</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(s) - </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">            if</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> sign == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">\"+\"</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">                stk.append(num)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">            elif</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> sign == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">\"-\"</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">                stk.append(-num)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">            # just take out the previous number and perform the corresponding operation</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">            elif</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> sign == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">\"*\"</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">                stk[-</span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">] *= num</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">            else</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">                # encounter division sign, need to take out the</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">                # previous number and perform division</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">                stk[-</span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">] = </span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(stk[-</span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">] / num)</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">            # update the sign to the current sign, reset the number to zero</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            sign = s[i]</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            num = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    # sum all results in the stack to get the answer</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    return</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\"> sum</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(stk)</span></span></code></pre><div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0;\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><!--]--></div><div class=\"vp-code-tab\" id=\"codetab-210-3\" role=\"tabpanel\" aria-expanded=\"false\"><div class=\"vp-code-tab-title\">go</div><!--[--><div class=\"language-go line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"go\" style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;\"><pre class=\"shiki shiki-themes light-plus dark-plus vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">func</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\"> calculate</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\"> string</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) </span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">  // initialize stack stk</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">  stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> := </span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">make</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">([]</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">, </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">  // record numbers in the expression</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">  num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> := </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">  // record the sign before num, initialized to +</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">  sign</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> := </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">  </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">  for</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">, </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> := </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">range</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    if</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> unicode</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">IsDigit</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">      num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">10</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">*</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> + </span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">-</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'0'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    if</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">==</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">==</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'-'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">==</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'/'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">==</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'*'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">==</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">len</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)-</span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">      var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> pre</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\"> int</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">      switch</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> sign</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">      case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // if the sign is +, push the number onto the stack</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">        stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">append</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">, </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">      case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '-'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // if the sign is -, push the negated number onto the stack</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">        stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">append</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">, -</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">      case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '*'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // if the sign is *, pop the top element of the stack, multiply it by</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // the current number, and push the result back onto the stack</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">        pre</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">[</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">len</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)-</span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">]</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">        stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">[:</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">len</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)-</span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">]</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">        stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">append</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">, </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">pre</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">*</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">      case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '/'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // if the sign is /, pop the top element of the stack, divide it by</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // the current number, and push the result back onto the stack</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">        pre</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">[</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">len</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)-</span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">]</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">        stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">[:</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">len</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)-</span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">]</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">        stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">append</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">, </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">pre</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">/</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">      }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">      // update the sign to the current sign, and reset the number to 0</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">      sign</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">rune</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">      num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">  }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">  // sum all the results in the stack to get the answer</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">  res</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> := </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">  for</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> _</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">, </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">v</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> := </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">range</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">    res</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> += </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">v</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">  }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">  </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">  return</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> res</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">}</span></span></code></pre><div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0;\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><!--]--></div><div class=\"vp-code-tab\" id=\"codetab-210-4\" role=\"tabpanel\" aria-expanded=\"false\"><div class=\"vp-code-tab-title\">javascript</div><!--[--><div class=\"language-javascript line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"javascript\" style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;\"><pre class=\"shiki shiki-themes light-plus dark-plus vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">var</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\"> calculate</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">function</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> stack</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = [];</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // record the numbers in the formula</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // record the sign before num, initialized to +</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> sign</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    for</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> &lt; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">length</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">++) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">        var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">[</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">];</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (!</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">isNaN</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">            num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">10</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> * </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> + (</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> - </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'0'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        }</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> === </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> === </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'-'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> === </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'/'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> === </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'*'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> === </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">length</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> - </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">            var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> pre</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">            switch</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">sign</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">                // just take out the previous number and perform the corresponding operation</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stack</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">); </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">break</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '-'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stack</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(-</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">); </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">break</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '*'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    pre</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stack</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">pop</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stack</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">pre</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> * </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">); </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                    break</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '/'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    pre</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stack</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">pop</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stack</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">Math</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">trunc</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">pre</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> / </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">));</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                    break</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">            // update the sign to the current sign, and reset the number to zero</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">            sign</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">            num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // sum all the results in the stack to get the answer</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> res</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    while</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stack</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">length</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> !== </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">        res</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> += </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stack</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">pop</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    return</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> res</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">};</span></span></code></pre><div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0;\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><!--]--></div><!--]--></div><div class=\"img-content\"><img src=\"/algo/images/calculator/3.jpg\" alt class=\"myimage\" loading=\"lazy\" photo-swipe=\"\"></div><p><strong>Multiplication and division have higher priority than addition and subtraction. This means you combine them with the top number in the stack, while addition and subtraction just push their number into the stack.</strong></p><p>Now let's think about spaces in the string. In our code, there is no need to handle spaces specially. Look at the <code>if</code> conditions: if the character <code>c</code> is a space, we just skip it.</p><p>Now, our algorithm can calculate addition, subtraction, multiplication, and division correctly, and automatically ignores spaces. The last step is to make the algorithm handle parentheses correctly.</p><h2 class=\"hidden-for-toc\" id=\"_4-handling-parentheses\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#_4-handling-parentheses\"><span>4. Handling Parentheses</span></a></h2><h2 class=\"hidden-for-toc\" id=\"_5-summary\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#_5-summary\"><span>5. Summary</span></a></h2><div id=\"hidden_part\" class=\"paywall\"><div><div class=\"css-1p3hq3p ant-spin ant-spin-spinning\" aria-live=\"polite\" aria-busy=\"true\"><span class=\"ant-spin-dot ant-spin-dot-spin\"><i class=\"ant-spin-dot-item\"></i><i class=\"ant-spin-dot-item\"></i><i class=\"ant-spin-dot-item\"></i><i class=\"ant-spin-dot-item\"></i></span><!----></div><p>loading...</p></div></div></div> <div style=\"display:none;\"><h3 tabindex=\"-1\"> 224. Basic Calculator https://leetcode.com/problems/basic-calculator </h3><h3 tabindex=\"-1\"> 227. Basic Calculator II https://leetcode.com/problems/basic-calculator-ii </h3><h3 tabindex=\"-1\"> 772. Basic Calculator III https://leetcode.com/problems/basic-calculator-iii </h3></div> <h3 tabindex=\"-1\"> 224. Basic Calculator https://leetcode.com/problems/basic-calculator </h3> <h3 tabindex=\"-1\"> 227. Basic Calculator II https://leetcode.com/problems/basic-calculator-ii </h3> <h3 tabindex=\"-1\"> 772. Basic Calculator III https://leetcode.com/problems/basic-calculator-iii </h3> <div class=\"hint-container note\"><p class=\"hint-container-title\">This article will resolve</p><table><thead><tr><th style=\"text-align:center;\">LeetCode</th><th style=\"text-align:center;\">Difficulty</th></tr></thead><tbody><tr><td style=\"text-align:center;\"><a href=\"https://leetcode.com/problems/basic-calculator/\" target=\"_blank\" rel=\"noopener noreferrer\">224. Basic Calculator</a></td><td style=\"text-align:center;\">ðŸ”´</td></tr><tr><td style=\"text-align:center;\"><a href=\"https://leetcode.com/problems/basic-calculator-ii/\" target=\"_blank\" rel=\"noopener noreferrer\">227. Basic Calculator II</a></td><td style=\"text-align:center;\">ðŸŸ </td></tr><tr><td style=\"text-align:center;\"><a href=\"https://leetcode.com/problems/basic-calculator-iii/\" target=\"_blank\" rel=\"noopener noreferrer\">772. Basic Calculator III</a>ðŸ”’</td><td style=\"text-align:center;\">ðŸ”´</td></tr></tbody></table></div> <p class=\"hint-container-title\">This article will resolve</p> <table><thead><tr><th style=\"text-align:center;\">LeetCode</th><th style=\"text-align:center;\">Difficulty</th></tr></thead><tbody><tr><td style=\"text-align:center;\"><a href=\"https://leetcode.com/problems/basic-calculator/\" target=\"_blank\" rel=\"noopener noreferrer\">224. Basic Calculator</a></td><td style=\"text-align:center;\">ðŸ”´</td></tr><tr><td style=\"text-align:center;\"><a href=\"https://leetcode.com/problems/basic-calculator-ii/\" target=\"_blank\" rel=\"noopener noreferrer\">227. Basic Calculator II</a></td><td style=\"text-align:center;\">ðŸŸ </td></tr><tr><td style=\"text-align:center;\"><a href=\"https://leetcode.com/problems/basic-calculator-iii/\" target=\"_blank\" rel=\"noopener noreferrer\">772. Basic Calculator III</a>ðŸ”’</td><td style=\"text-align:center;\">ðŸ”´</td></tr></tbody></table> <thead><tr><th style=\"text-align:center;\">LeetCode</th><th style=\"text-align:center;\">Difficulty</th></tr></thead> <tr><th style=\"text-align:center;\">LeetCode</th><th style=\"text-align:center;\">Difficulty</th></tr> <th style=\"text-align:center;\">LeetCode</th> <th style=\"text-align:center;\">Difficulty</th> <tbody><tr><td style=\"text-align:center;\"><a href=\"https://leetcode.com/problems/basic-calculator/\" target=\"_blank\" rel=\"noopener noreferrer\">224. Basic Calculator</a></td><td style=\"text-align:center;\">ðŸ”´</td></tr><tr><td style=\"text-align:center;\"><a href=\"https://leetcode.com/problems/basic-calculator-ii/\" target=\"_blank\" rel=\"noopener noreferrer\">227. Basic Calculator II</a></td><td style=\"text-align:center;\">ðŸŸ </td></tr><tr><td style=\"text-align:center;\"><a href=\"https://leetcode.com/problems/basic-calculator-iii/\" target=\"_blank\" rel=\"noopener noreferrer\">772. Basic Calculator III</a>ðŸ”’</td><td style=\"text-align:center;\">ðŸ”´</td></tr></tbody> <tr><td style=\"text-align:center;\"><a href=\"https://leetcode.com/problems/basic-calculator/\" target=\"_blank\" rel=\"noopener noreferrer\">224. Basic Calculator</a></td><td style=\"text-align:center;\">ðŸ”´</td></tr> <td style=\"text-align:center;\"><a href=\"https://leetcode.com/problems/basic-calculator/\" target=\"_blank\" rel=\"noopener noreferrer\">224. Basic Calculator</a></td> <a href=\"https://leetcode.com/problems/basic-calculator/\" target=\"_blank\" rel=\"noopener noreferrer\">224. Basic Calculator</a> <td style=\"text-align:center;\">ðŸ”´</td> <tr><td style=\"text-align:center;\"><a href=\"https://leetcode.com/problems/basic-calculator-ii/\" target=\"_blank\" rel=\"noopener noreferrer\">227. Basic Calculator II</a></td><td style=\"text-align:center;\">ðŸŸ </td></tr> <td style=\"text-align:center;\"><a href=\"https://leetcode.com/problems/basic-calculator-ii/\" target=\"_blank\" rel=\"noopener noreferrer\">227. Basic Calculator II</a></td> <a href=\"https://leetcode.com/problems/basic-calculator-ii/\" target=\"_blank\" rel=\"noopener noreferrer\">227. Basic Calculator II</a> <td style=\"text-align:center;\">ðŸŸ </td> <tr><td style=\"text-align:center;\"><a href=\"https://leetcode.com/problems/basic-calculator-iii/\" target=\"_blank\" rel=\"noopener noreferrer\">772. Basic Calculator III</a>ðŸ”’</td><td style=\"text-align:center;\">ðŸ”´</td></tr> <td style=\"text-align:center;\"><a href=\"https://leetcode.com/problems/basic-calculator-iii/\" target=\"_blank\" rel=\"noopener noreferrer\">772. Basic Calculator III</a>ðŸ”’</td> <a href=\"https://leetcode.com/problems/basic-calculator-iii/\" target=\"_blank\" rel=\"noopener noreferrer\">772. Basic Calculator III</a> <td style=\"text-align:center;\">ðŸ”´</td> <div class=\"hint-container info\"><p class=\"hint-container-title\">Prerequisites</p><p>Before reading this article, you need to learn:</p><ul><li><a class=\"route-link\" href=\"/algo/en/data-structure-basic/queue-stack-basic/\">Principles of Queue/Stack</a></li></ul></div> <p class=\"hint-container-title\">Prerequisites</p> <p>Before reading this article, you need to learn:</p> <ul><li><a class=\"route-link\" href=\"/algo/en/data-structure-basic/queue-stack-basic/\">Principles of Queue/Stack</a></li></ul> <li><a class=\"route-link\" href=\"/algo/en/data-structure-basic/queue-stack-basic/\">Principles of Queue/Stack</a></li> <a class=\"route-link\" href=\"/algo/en/data-structure-basic/queue-stack-basic/\">Principles of Queue/Stack</a> <p>The calculator we want to build will have these features:</p> <ol><li><p>You input a string. It can have <code>+ - * /</code>, numbers, parentheses, and spaces. Your algorithm returns the result.</p></li><li><p>The calculation follows the normal math rules. Parentheses have the highest priority. Multiply and divide come before add and subtract.</p></li><li><p>Division is integer division. No matter positive or negative, round toward zero (5/2=2, -5/2=-2).</p></li><li><p>You can assume the input is always valid. There will not be integer overflow, and no division by zero.</p></li></ol> <li><p>You input a string. It can have <code>+ - * /</code>, numbers, parentheses, and spaces. Your algorithm returns the result.</p></li> <p>You input a string. It can have <code>+ - * /</code>, numbers, parentheses, and spaces. Your algorithm returns the result.</p> <code>+ - * /</code> <li><p>The calculation follows the normal math rules. Parentheses have the highest priority. Multiply and divide come before add and subtract.</p></li> <p>The calculation follows the normal math rules. Parentheses have the highest priority. Multiply and divide come before add and subtract.</p> <li><p>Division is integer division. No matter positive or negative, round toward zero (5/2=2, -5/2=-2).</p></li> <p>Division is integer division. No matter positive or negative, round toward zero (5/2=2, -5/2=-2).</p> <li><p>You can assume the input is always valid. There will not be integer overflow, and no division by zero.</p></li> <p>You can assume the input is always valid. There will not be integer overflow, and no division by zero.</p> <p>For example, if you input this string, the algorithm will return 9:</p> <div class=\"language-java line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"java\" style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;\"><pre class=\"shiki shiki-themes light-plus dark-plus vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">  3</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> * (</span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">2</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> - </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">6</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> / (</span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">3</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> - </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">7</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">))</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">= </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">3</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> * (</span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">2</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> - </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">6</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> / (-</span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">4</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">))</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">= </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">3</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> * (</span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">2</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> - (-</span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">))</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">= </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">9</span></span></code></pre><div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0;\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div> <pre class=\"shiki shiki-themes light-plus dark-plus vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">  3</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> * (</span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">2</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> - </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">6</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> / (</span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">3</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> - </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">7</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">))</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">= </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">3</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> * (</span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">2</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> - </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">6</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> / (-</span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">4</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">))</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">= </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">3</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> * (</span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">2</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> - (-</span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">))</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">= </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">9</span></span></code></pre> <code><span class=\"line\"><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">  3</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> * (</span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">2</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> - </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">6</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> / (</span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">3</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> - </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">7</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">))</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">= </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">3</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> * (</span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">2</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> - </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">6</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> / (-</span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">4</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">))</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">= </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">3</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> * (</span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">2</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> - (-</span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">))</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">= </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">9</span></span></code> <span class=\"line\"><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">  3</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> * (</span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">2</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> - </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">6</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> / (</span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">3</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> - </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">7</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">))</span></span> <span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">  3</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> * (</span> <span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">2</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> - </span> <span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">6</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> / (</span> <span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">3</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> - </span> <span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">7</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">))</span> <span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">= </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">3</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> * (</span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">2</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> - </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">6</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> / (-</span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">4</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">))</span></span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">= </span> <span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">3</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> * (</span> <span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">2</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> - </span> <span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">6</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> / (-</span> <span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">4</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">))</span> <span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">= </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">3</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> * (</span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">2</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> - (-</span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">))</span></span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">= </span> <span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">3</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> * (</span> <span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">2</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> - (-</span> <span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">))</span> <span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">= </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">9</span></span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">= </span> <span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">9</span> <div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0;\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <p>As you can see, this is already very close to a real calculator. Although we all have used calculators before, if you think about how to implement its algorithm, it is not that easy:</p> <ol><li><p>To handle parentheses, you must calculate the innermost ones first, then simplify step by step. Even when doing it by hand, it's easy to make mistakes. Writing it as an algorithm is even harder.</p></li><li><p>You must handle multiplication and division before addition and subtraction. This is not so hard for kids to learn, but it is tricky for computers.</p></li><li><p>You need to deal with spaces. For better readability, we often put spaces between numbers and operators. But during calculation, these spaces should be ignored.</p></li></ol> <li><p>To handle parentheses, you must calculate the innermost ones first, then simplify step by step. Even when doing it by hand, it's easy to make mistakes. Writing it as an algorithm is even harder.</p></li> <p>To handle parentheses, you must calculate the innermost ones first, then simplify step by step. Even when doing it by hand, it's easy to make mistakes. Writing it as an algorithm is even harder.</p> <li><p>You must handle multiplication and division before addition and subtraction. This is not so hard for kids to learn, but it is tricky for computers.</p></li> <p>You must handle multiplication and division before addition and subtraction. This is not so hard for kids to learn, but it is tricky for computers.</p> <li><p>You need to deal with spaces. For better readability, we often put spaces between numbers and operators. But during calculation, these spaces should be ignored.</p></li> <p>You need to deal with spaces. For better readability, we often put spaces between numbers and operators. But during calculation, these spaces should be ignored.</p> <p>I remember many data structure textbooks use calculators as an example when explaining stacks. But honestly, the explanation is not good. Many future computer scientists may have been discouraged by such a simple data structure.</p> <p>So in this article, let's talk about how to build a fully functional calculator. <strong>The key is to break down the problem step by step, solve each part one by one.</strong> With a few simple algorithm rules, you can handle very complex calculations. I believe this way of thinking can help you solve many hard problems.</p> <strong>The key is to break down the problem step by step, solve each part one by one.</strong> <p>Let's start by breaking down the problem, beginning with the simplest one.</p> <h2 id=\"_1-string-to-integer\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#_1-string-to-integer\"><span>1. String to Integer</span></a></h2> <a class=\"header-anchor\" href=\"#_1-string-to-integer\"><span>1. String to Integer</span></a> <span>1. String to Integer</span> <p>Yes, this is a simple problem. First, tell me how to convert a string that represents a <strong>positive integer</strong> into an int type?</p> <strong>positive integer</strong> <div class=\"vp-code-tabs\"><div class=\"vp-code-tabs-nav\" role=\"tablist\"><button type=\"button\" class=\"vp-code-tab-nav active\" role=\"tab\" aria-controls=\"codetab-121-0\" aria-selected=\"true\">java</button><button type=\"button\" class=\"vp-code-tab-nav\" role=\"tab\" aria-controls=\"codetab-121-1\" aria-selected=\"false\">cpp</button><button type=\"button\" class=\"vp-code-tab-nav\" role=\"tab\" aria-controls=\"codetab-121-2\" aria-selected=\"false\">python</button><button type=\"button\" class=\"vp-code-tab-nav\" role=\"tab\" aria-controls=\"codetab-121-3\" aria-selected=\"false\">go</button><button type=\"button\" class=\"vp-code-tab-nav\" role=\"tab\" aria-controls=\"codetab-121-4\" aria-selected=\"false\">javascript</button></div><!--[--><div class=\"vp-code-tab active\" id=\"codetab-121-0\" role=\"tabpanel\" aria-expanded=\"true\"><div class=\"vp-code-tab-title\">java</div><!--[--><div class=\"language-java line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"java\" style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;\"><pre class=\"shiki shiki-themes light-plus dark-plus vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">String</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">\"458\"</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> n</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">for</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">; i &lt; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">length</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(); i++) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">    char</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">charAt</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(i);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    n = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">10</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> * n + (c - </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'0'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">}</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">// n is now equal to 458</span></span></code></pre><div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0;\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><!--]--></div><div class=\"vp-code-tab\" id=\"codetab-121-1\" role=\"tabpanel\" aria-expanded=\"false\"><div class=\"vp-code-tab-title\">cpp</div><!--[--><div class=\"language-cpp line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"cpp\" style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;\"><pre class=\"shiki shiki-themes light-plus dark-plus vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">std</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">::string s = </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">\"458\"</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> n = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">for</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> i = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">; i &lt; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">length</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(); i++) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    char</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> c = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">[i];</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    n = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">10</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> * n + (c - </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'0'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">}</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">// n is now equal to 458</span></span></code></pre><div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0;\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><!--]--></div><div class=\"vp-code-tab\" id=\"codetab-121-2\" role=\"tabpanel\" aria-expanded=\"false\"><div class=\"vp-code-tab-title\">python</div><!--[--><div class=\"language-python line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"python\" style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;\"><pre class=\"shiki shiki-themes light-plus dark-plus vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">s = </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">\"458\"</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">n = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">for</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> i </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">in</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\"> range</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">len</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(s)):</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    c = s[i]</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    n = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">10</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> * n + (</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">ord</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(c) - </span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">ord</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'0'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">))</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\"># n is now equal to 458</span></span></code></pre><div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0;\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><!--]--></div><div class=\"vp-code-tab\" id=\"codetab-121-3\" role=\"tabpanel\" aria-expanded=\"false\"><div class=\"vp-code-tab-title\">go</div><!--[--><div class=\"language-go line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"go\" style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;\"><pre class=\"shiki shiki-themes light-plus dark-plus vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> := </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">\"458\"</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">n</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> := </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">for</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> := </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> &lt; </span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">len</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">); </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">++ {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">    c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> := </span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">[</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">] - </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'0'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">    n</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">10</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">*</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">n</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> + </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">}</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">// n is now equal to 458</span></span></code></pre><div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0;\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><!--]--></div><div class=\"vp-code-tab\" id=\"codetab-121-4\" role=\"tabpanel\" aria-expanded=\"false\"><div class=\"vp-code-tab-title\">javascript</div><!--[--><div class=\"language-javascript line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"javascript\" style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;\"><pre class=\"shiki shiki-themes light-plus dark-plus vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">\"458\"</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> n</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">for</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> &lt; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">length</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">++) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">charAt</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">    n</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">10</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> * </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">n</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> + (</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">charCodeAt</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) - </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'0'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">charCodeAt</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">));</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">}</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">// n is now equal to 458</span></span></code></pre><div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0;\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><!--]--></div><!--]--></div> <div class=\"vp-code-tabs-nav\" role=\"tablist\"><button type=\"button\" class=\"vp-code-tab-nav active\" role=\"tab\" aria-controls=\"codetab-121-0\" aria-selected=\"true\">java</button><button type=\"button\" class=\"vp-code-tab-nav\" role=\"tab\" aria-controls=\"codetab-121-1\" aria-selected=\"false\">cpp</button><button type=\"button\" class=\"vp-code-tab-nav\" role=\"tab\" aria-controls=\"codetab-121-2\" aria-selected=\"false\">python</button><button type=\"button\" class=\"vp-code-tab-nav\" role=\"tab\" aria-controls=\"codetab-121-3\" aria-selected=\"false\">go</button><button type=\"button\" class=\"vp-code-tab-nav\" role=\"tab\" aria-controls=\"codetab-121-4\" aria-selected=\"false\">javascript</button></div> <button type=\"button\" class=\"vp-code-tab-nav active\" role=\"tab\" aria-controls=\"codetab-121-0\" aria-selected=\"true\">java</button> <button type=\"button\" class=\"vp-code-tab-nav\" role=\"tab\" aria-controls=\"codetab-121-1\" aria-selected=\"false\">cpp</button> <button type=\"button\" class=\"vp-code-tab-nav\" role=\"tab\" aria-controls=\"codetab-121-2\" aria-selected=\"false\">python</button> <button type=\"button\" class=\"vp-code-tab-nav\" role=\"tab\" aria-controls=\"codetab-121-3\" aria-selected=\"false\">go</button> <button type=\"button\" class=\"vp-code-tab-nav\" role=\"tab\" aria-controls=\"codetab-121-4\" aria-selected=\"false\">javascript</button> <div class=\"vp-code-tab active\" id=\"codetab-121-0\" role=\"tabpanel\" aria-expanded=\"true\"><div class=\"vp-code-tab-title\">java</div><!--[--><div class=\"language-java line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"java\" style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;\"><pre class=\"shiki shiki-themes light-plus dark-plus vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">String</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">\"458\"</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> n</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">for</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">; i &lt; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">length</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(); i++) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">    char</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">charAt</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(i);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    n = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">10</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> * n + (c - </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'0'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">}</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">// n is now equal to 458</span></span></code></pre><div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0;\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><!--]--></div> <div class=\"vp-code-tab-title\">java</div> <div class=\"language-java line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"java\" style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;\"><pre class=\"shiki shiki-themes light-plus dark-plus vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">String</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">\"458\"</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> n</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">for</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">; i &lt; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">length</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(); i++) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">    char</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">charAt</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(i);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    n = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">10</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> * n + (c - </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'0'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">}</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">// n is now equal to 458</span></span></code></pre><div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0;\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div> <pre class=\"shiki shiki-themes light-plus dark-plus vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">String</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">\"458\"</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> n</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">for</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">; i &lt; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">length</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(); i++) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">    char</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">charAt</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(i);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    n = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">10</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> * n + (c - </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'0'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">}</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">// n is now equal to 458</span></span></code></pre> <code><span class=\"line\"><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">String</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">\"458\"</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> n</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">for</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">; i &lt; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">length</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(); i++) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">    char</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">charAt</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(i);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    n = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">10</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> * n + (c - </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'0'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">}</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">// n is now equal to 458</span></span></code> <span class=\"line\"><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">String</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">\"458\"</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span> <span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">String</span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> s</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span> <span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">\"458\"</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span> <span class=\"line\"></span> <span class=\"line\"><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> n</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span> <span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> n</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span> <span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span> <span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">for</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">; i &lt; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">length</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(); i++) {</span></span> <span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">for</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span> <span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> i</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span> <span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">; i &lt; </span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span> <span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">length</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(); i++) {</span> <span class=\"line\"><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">    char</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">charAt</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(i);</span></span> <span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">    char</span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> c</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span> <span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">charAt</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(i);</span> <span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    n = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">10</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> * n + (c - </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'0'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">);</span></span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    n = </span> <span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">10</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> * n + (c - </span> <span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'0'</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">);</span> <span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">}</span></span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">}</span> <span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">// n is now equal to 458</span></span> <span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">// n is now equal to 458</span> <div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0;\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"vp-code-tab\" id=\"codetab-121-1\" role=\"tabpanel\" aria-expanded=\"false\"><div class=\"vp-code-tab-title\">cpp</div><!--[--><div class=\"language-cpp line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"cpp\" style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;\"><pre class=\"shiki shiki-themes light-plus dark-plus vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">std</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">::string s = </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">\"458\"</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> n = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">for</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> i = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">; i &lt; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">length</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(); i++) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    char</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> c = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">[i];</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    n = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">10</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> * n + (c - </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'0'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">}</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">// n is now equal to 458</span></span></code></pre><div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0;\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><!--]--></div> <div class=\"vp-code-tab-title\">cpp</div> <div class=\"language-cpp line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"cpp\" style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;\"><pre class=\"shiki shiki-themes light-plus dark-plus vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">std</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">::string s = </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">\"458\"</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> n = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">for</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> i = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">; i &lt; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">length</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(); i++) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    char</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> c = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">[i];</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    n = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">10</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> * n + (c - </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'0'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">}</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">// n is now equal to 458</span></span></code></pre><div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0;\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div> <pre class=\"shiki shiki-themes light-plus dark-plus vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">std</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">::string s = </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">\"458\"</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> n = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">for</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> i = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">; i &lt; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">length</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(); i++) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    char</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> c = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">[i];</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    n = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">10</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> * n + (c - </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'0'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">}</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">// n is now equal to 458</span></span></code></pre> <code><span class=\"line\"><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">std</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">::string s = </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">\"458\"</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> n = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">for</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> i = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">; i &lt; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">length</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(); i++) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    char</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> c = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">[i];</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    n = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">10</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> * n + (c - </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'0'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">}</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">// n is now equal to 458</span></span></code> <span class=\"line\"><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">std</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">::string s = </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">\"458\"</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span> <span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">std</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">::string s = </span> <span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">\"458\"</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span> <span class=\"line\"></span> <span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> n = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span> <span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">int</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> n = </span> <span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span> <span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">for</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> i = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">; i &lt; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">length</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(); i++) {</span></span> <span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">for</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span> <span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">int</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> i = </span> <span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">; i &lt; </span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span> <span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">length</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(); i++) {</span> <span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    char</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> c = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">[i];</span></span> <span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    char</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> c = </span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">[i];</span> <span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    n = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">10</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> * n + (c - </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'0'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">);</span></span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    n = </span> <span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">10</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> * n + (c - </span> <span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'0'</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">);</span> <span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">}</span></span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">}</span> <span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">// n is now equal to 458</span></span> <span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">// n is now equal to 458</span> <div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0;\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"vp-code-tab\" id=\"codetab-121-2\" role=\"tabpanel\" aria-expanded=\"false\"><div class=\"vp-code-tab-title\">python</div><!--[--><div class=\"language-python line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"python\" style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;\"><pre class=\"shiki shiki-themes light-plus dark-plus vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">s = </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">\"458\"</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">n = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">for</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> i </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">in</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\"> range</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">len</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(s)):</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    c = s[i]</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    n = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">10</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> * n + (</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">ord</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(c) - </span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">ord</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'0'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">))</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\"># n is now equal to 458</span></span></code></pre><div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0;\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><!--]--></div> <div class=\"vp-code-tab-title\">python</div> <div class=\"language-python line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"python\" style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;\"><pre class=\"shiki shiki-themes light-plus dark-plus vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">s = </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">\"458\"</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">n = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">for</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> i </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">in</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\"> range</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">len</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(s)):</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    c = s[i]</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    n = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">10</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> * n + (</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">ord</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(c) - </span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">ord</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'0'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">))</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\"># n is now equal to 458</span></span></code></pre><div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0;\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div> <pre class=\"shiki shiki-themes light-plus dark-plus vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">s = </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">\"458\"</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">n = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">for</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> i </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">in</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\"> range</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">len</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(s)):</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    c = s[i]</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    n = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">10</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> * n + (</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">ord</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(c) - </span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">ord</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'0'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">))</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\"># n is now equal to 458</span></span></code></pre> <code><span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">s = </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">\"458\"</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">n = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">for</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> i </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">in</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\"> range</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">len</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(s)):</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    c = s[i]</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    n = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">10</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> * n + (</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">ord</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(c) - </span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">ord</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'0'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">))</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\"># n is now equal to 458</span></span></code> <span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">s = </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">\"458\"</span></span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">s = </span> <span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">\"458\"</span> <span class=\"line\"></span> <span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">n = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span></span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">n = </span> <span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span> <span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">for</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> i </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">in</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\"> range</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">len</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(s)):</span></span> <span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">for</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> i </span> <span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">in</span> <span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\"> range</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span> <span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">len</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(s)):</span> <span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    c = s[i]</span></span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    c = s[i]</span> <span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    n = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">10</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> * n + (</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">ord</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(c) - </span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">ord</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'0'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">))</span></span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    n = </span> <span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">10</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> * n + (</span> <span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">ord</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(c) - </span> <span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">ord</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span> <span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'0'</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">))</span> <span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\"># n is now equal to 458</span></span> <span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\"># n is now equal to 458</span> <div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0;\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"vp-code-tab\" id=\"codetab-121-3\" role=\"tabpanel\" aria-expanded=\"false\"><div class=\"vp-code-tab-title\">go</div><!--[--><div class=\"language-go line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"go\" style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;\"><pre class=\"shiki shiki-themes light-plus dark-plus vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> := </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">\"458\"</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">n</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> := </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">for</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> := </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> &lt; </span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">len</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">); </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">++ {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">    c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> := </span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">[</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">] - </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'0'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">    n</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">10</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">*</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">n</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> + </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">}</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">// n is now equal to 458</span></span></code></pre><div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0;\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><!--]--></div> <div class=\"vp-code-tab-title\">go</div> <div class=\"language-go line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"go\" style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;\"><pre class=\"shiki shiki-themes light-plus dark-plus vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> := </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">\"458\"</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">n</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> := </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">for</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> := </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> &lt; </span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">len</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">); </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">++ {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">    c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> := </span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">[</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">] - </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'0'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">    n</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">10</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">*</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">n</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> + </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">}</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">// n is now equal to 458</span></span></code></pre><div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0;\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div> <pre class=\"shiki shiki-themes light-plus dark-plus vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> := </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">\"458\"</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">n</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> := </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">for</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> := </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> &lt; </span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">len</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">); </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">++ {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">    c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> := </span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">[</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">] - </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'0'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">    n</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">10</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">*</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">n</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> + </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">}</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">// n is now equal to 458</span></span></code></pre> <code><span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> := </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">\"458\"</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">n</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> := </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">for</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> := </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> &lt; </span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">len</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">); </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">++ {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">    c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> := </span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">[</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">] - </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'0'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">    n</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">10</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">*</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">n</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> + </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">}</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">// n is now equal to 458</span></span></code> <span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> := </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">\"458\"</span></span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> := </span> <span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">\"458\"</span> <span class=\"line\"></span> <span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">n</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> := </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span></span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">n</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> := </span> <span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span> <span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">for</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> := </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> &lt; </span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">len</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">); </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">++ {</span></span> <span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">for</span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> i</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> := </span> <span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">; </span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> &lt; </span> <span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">len</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">); </span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">++ {</span> <span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">    c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> := </span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">[</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">] - </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'0'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)</span></span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">    c</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> := </span> <span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">[</span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">] - </span> <span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'0'</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)</span> <span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">    n</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">10</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">*</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">n</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> + </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span></span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">    n</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span> <span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">10</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">*</span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">n</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> + </span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span> <span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">}</span></span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">}</span> <span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">// n is now equal to 458</span></span> <span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">// n is now equal to 458</span> <div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0;\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"vp-code-tab\" id=\"codetab-121-4\" role=\"tabpanel\" aria-expanded=\"false\"><div class=\"vp-code-tab-title\">javascript</div><!--[--><div class=\"language-javascript line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"javascript\" style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;\"><pre class=\"shiki shiki-themes light-plus dark-plus vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">\"458\"</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> n</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">for</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> &lt; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">length</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">++) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">charAt</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">    n</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">10</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> * </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">n</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> + (</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">charCodeAt</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) - </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'0'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">charCodeAt</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">));</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">}</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">// n is now equal to 458</span></span></code></pre><div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0;\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><!--]--></div> <div class=\"vp-code-tab-title\">javascript</div> <div class=\"language-javascript line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"javascript\" style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;\"><pre class=\"shiki shiki-themes light-plus dark-plus vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">\"458\"</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> n</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">for</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> &lt; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">length</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">++) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">charAt</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">    n</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">10</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> * </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">n</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> + (</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">charCodeAt</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) - </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'0'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">charCodeAt</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">));</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">}</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">// n is now equal to 458</span></span></code></pre><div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0;\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div> <pre class=\"shiki shiki-themes light-plus dark-plus vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">\"458\"</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> n</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">for</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> &lt; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">length</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">++) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">charAt</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">    n</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">10</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> * </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">n</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> + (</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">charCodeAt</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) - </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'0'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">charCodeAt</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">));</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">}</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">// n is now equal to 458</span></span></code></pre> <code><span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">\"458\"</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> n</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">for</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> &lt; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">length</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">++) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">charAt</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">    n</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">10</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> * </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">n</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> + (</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">charCodeAt</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) - </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'0'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">charCodeAt</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">));</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">}</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">// n is now equal to 458</span></span></code> <span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">\"458\"</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span> <span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">var</span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> s</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span> <span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">\"458\"</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span> <span class=\"line\"></span> <span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> n</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span> <span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">var</span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> n</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span> <span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span> <span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">for</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> &lt; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">length</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">++) {</span></span> <span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">for</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span> <span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">var</span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> i</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span> <span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">; </span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> &lt; </span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">length</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">; </span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">++) {</span> <span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">charAt</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">);</span></span> <span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    var</span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> c</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span> <span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">charAt</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">);</span> <span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">    n</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">10</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> * </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">n</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> + (</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">charCodeAt</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) - </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'0'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">charCodeAt</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">));</span></span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">    n</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span> <span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">10</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> * </span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">n</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> + (</span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span> <span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">charCodeAt</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span> <span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) - </span> <span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'0'</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span> <span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">charCodeAt</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span> <span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">));</span> <span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">}</span></span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">}</span> <span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">// n is now equal to 458</span></span> <span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">// n is now equal to 458</span> <div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0;\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <p>This is very simple and a common routine. But even for such a simple problem, there is a pitfall: <strong>You cannot remove the parentheses in <code>(c - '0')</code>, or it may cause integer overflow</strong>.</p> <strong>You cannot remove the parentheses in <code>(c - '0')</code>, or it may cause integer overflow</strong> <code>(c - '0')</code> <p>Because the variable <code>c</code> is an ASCII code. Without parentheses, addition may happen before subtraction. If <code>s</code> is close to INT_MAX, this can cause overflow. So, use parentheses to make sure subtraction happens first.</p> <code>c</code> <code>s</code> <h2 id=\"_2-handling-addition-and-subtraction\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#_2-handling-addition-and-subtraction\"><span>2. Handling Addition and Subtraction</span></a></h2> <a class=\"header-anchor\" href=\"#_2-handling-addition-and-subtraction\"><span>2. Handling Addition and Subtraction</span></a> <span>2. Handling Addition and Subtraction</span> <p>Now, let's move on. <strong>If the input formula only contains addition and subtraction, and there are no spaces</strong>, how can you calculate the result? Let's use the string <code>1-12+3</code> as an example:</p> <strong>If the input formula only contains addition and subtraction, and there are no spaces</strong> <code>1-12+3</code> <ol><li><p>Add a default <code>+</code> sign before the first number, so it becomes <code>+1-12+3</code>.</p></li><li><p>Combine each operator and number into a pair. For example: <code>+1</code>, <code>-12</code>, <code>+3</code>. Convert them to numbers, then put them into a stack.</p></li><li><p>Add up all the numbers in the stack. The sum is the result of the formula.</p></li></ol> <li><p>Add a default <code>+</code> sign before the first number, so it becomes <code>+1-12+3</code>.</p></li> <p>Add a default <code>+</code> sign before the first number, so it becomes <code>+1-12+3</code>.</p> <code>+</code> <code>+1-12+3</code> <li><p>Combine each operator and number into a pair. For example: <code>+1</code>, <code>-12</code>, <code>+3</code>. Convert them to numbers, then put them into a stack.</p></li> <p>Combine each operator and number into a pair. For example: <code>+1</code>, <code>-12</code>, <code>+3</code>. Convert them to numbers, then put them into a stack.</p> <code>+1</code> <code>-12</code> <code>+3</code> <li><p>Add up all the numbers in the stack. The sum is the result of the formula.</p></li> <p>Add up all the numbers in the stack. The sum is the result of the formula.</p> <p>Let's look at the code and a picture to make it clear:</p> <div class=\"vp-code-tabs\"><div class=\"vp-code-tabs-nav\" role=\"tablist\"><button type=\"button\" class=\"vp-code-tab-nav active\" role=\"tab\" aria-controls=\"codetab-170-0\" aria-selected=\"true\">java</button><button type=\"button\" class=\"vp-code-tab-nav\" role=\"tab\" aria-controls=\"codetab-170-1\" aria-selected=\"false\">cpp</button><button type=\"button\" class=\"vp-code-tab-nav\" role=\"tab\" aria-controls=\"codetab-170-2\" aria-selected=\"false\">python</button><button type=\"button\" class=\"vp-code-tab-nav\" role=\"tab\" aria-controls=\"codetab-170-3\" aria-selected=\"false\">go</button><button type=\"button\" class=\"vp-code-tab-nav\" role=\"tab\" aria-controls=\"codetab-170-4\" aria-selected=\"false\">javascript</button></div><!--[--><div class=\"vp-code-tab active\" id=\"codetab-170-0\" role=\"tabpanel\" aria-expanded=\"true\"><div class=\"vp-code-tab-title\">java</div><!--[--><div class=\"language-java line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"java\" style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;\"><pre class=\"shiki shiki-themes light-plus dark-plus vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\"> calculate</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">String</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> s) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">    Stack</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">&lt;</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">Integer</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">&gt; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">new</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\"> Stack</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">&lt;&gt;();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // record the numbers in the expression</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">    int</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // record the sign before num, initialize as +</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">    char</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> sign</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    for</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">; i &lt; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">length</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(); i++) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">        char</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">charAt</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(i);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // if it's a digit, continuously read it into num</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">Character</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">isDigit</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(c)) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            num = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">10</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> * num + (c - </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'0'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // if it's not a digit, it means we encountered the</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // next sign or the end of the expression</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // then the previous number and sign should be pushed into the stack</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (c == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || c == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'-'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || i == </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">length</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">() - </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">            switch</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (sign) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '+'</span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(num); </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">break</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '-'</span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(-num); </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">break</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">            // update the sign to the current one, reset num to zero</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            sign = c;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            num = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // sum up all the results in the stack to get the answer</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">    int</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> res</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    while</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (!</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">isEmpty</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">()) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        res += </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">pop</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    return</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> res;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">}</span></span></code></pre><div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0;\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><!--]--></div><div class=\"vp-code-tab\" id=\"codetab-170-1\" role=\"tabpanel\" aria-expanded=\"false\"><div class=\"vp-code-tab-title\">cpp</div><!--[--><div class=\"language-cpp line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"cpp\" style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;\"><pre class=\"shiki shiki-themes light-plus dark-plus vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">int</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\"> calculate</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">string</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    stack&lt;</span><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">&gt; stk;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // record the numbers in the expression</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> num = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">; </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // record the sign before num, initialize as +</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    char</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> sign = </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;  </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    for</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> i = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">; i &lt; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">length</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(); i++) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">        char</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> c = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">[i];</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // if it's a digit, continuously read into num</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">isdigit</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(c)) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            num = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">10</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> * num + (c - </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'0'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // if it's not a digit, it means encountering the next sign or the end of the expression</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // then the previous number and sign should be stored in the stack</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (c == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || c == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'-'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || i == </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">length</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">() - </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">            switch</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (sign) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(num); </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">break</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '-'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(-num); </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">break</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">            // update the sign to the current sign, reset the number to zero</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            sign = c;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            num = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // sum all results in the stack to get the answer</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> res = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    while</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (!</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">empty</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">()) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        res += </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">top</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">        stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">pop</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    return</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> res;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">}</span></span></code></pre><div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0;\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><!--]--></div><div class=\"vp-code-tab\" id=\"codetab-170-2\" role=\"tabpanel\" aria-expanded=\"false\"><div class=\"vp-code-tab-title\">python</div><!--[--><div class=\"language-python line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"python\" style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;\"><pre class=\"shiki shiki-themes light-plus dark-plus vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">def</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\"> calculate</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">):</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    stk = []</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    # record the numbers in the formula</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    num = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    # record the sign before num, initialized to +</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    sign = </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    for</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> i </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">in</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\"> range</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">len</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(s)):</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        c = s[i]</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        # if it's a digit, read it continuously into num</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> c.isdigit():</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            num = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">10</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> * num + </span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(c)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        # if it's not a digit, then it means we've</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        # encountered the next sign or the end of the formula</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        # then the previous number and sign should be stored in the stack</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> c == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\"> or</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> c == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'-'</span><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\"> or</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> i == </span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">len</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(s) - </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">            if</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> sign == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">                stk.append(num)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">            elif</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> sign == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'-'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">                stk.append(-num)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">            # update the sign to the current sign and reset the number to zero</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            sign = c</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            num = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    # the answer is the sum of all results in the stack</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    res = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    while</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> stk:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        res += stk.pop()</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    return</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> res</span></span></code></pre><div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0;\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><!--]--></div><div class=\"vp-code-tab\" id=\"codetab-170-3\" role=\"tabpanel\" aria-expanded=\"false\"><div class=\"vp-code-tab-title\">go</div><!--[--><div class=\"language-go line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"go\" style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;\"><pre class=\"shiki shiki-themes light-plus dark-plus vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">func</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\"> calculate</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\"> string</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) </span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // record the number in the expression</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> num</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\"> int</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // final result</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> res</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\"> int</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // record the sign before num, initialize to +</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> sign</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\"> int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // stack initialization</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">    stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> := </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stack</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">New</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">()</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // start traversing s in order</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    for</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> := </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> &lt; </span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">len</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">); </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">++ {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // if it's a digit, continuously read into num</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\"> isDigit</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">[</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">]) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">            num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">10</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">*</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> + </span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">[</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">]-</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'0'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // if it's not a digit, it means encountering the next sign or the end of the expression</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // then the previous number and sign should be stored in the stack</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">[</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">] == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">[</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">] == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'-'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> == </span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">len</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)-</span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">            // store the number and sign in the stack</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">            if</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> sign</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> == </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">Push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            } </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">else</span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\"> if</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> sign</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> == -</span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">Push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(-</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">            // update the sign to the current sign, reset the number to zero</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">            num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">            if</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">[</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">] == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                sign</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            } </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">else</span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\"> if</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">[</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">] == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'-'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                sign</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = -</span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // sum all the results in the stack to get the answer</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    for</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">Len</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">() != </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">        res</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> += </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">Pop</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">().(</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // return the result</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    return</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> res</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">// helper function, determine if a character is a digit</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">func</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\"> isDigit</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">n</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\"> byte</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) </span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">bool</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    if</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '0'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> &lt;= </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">n</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> &amp;&amp; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">n</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> &lt;= </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'9'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        return</span><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\"> true</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    return</span><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\"> false</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">}</span></span></code></pre><div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0;\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><!--]--></div><div class=\"vp-code-tab\" id=\"codetab-170-4\" role=\"tabpanel\" aria-expanded=\"false\"><div class=\"vp-code-tab-title\">javascript</div><!--[--><div class=\"language-javascript line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"javascript\" style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;\"><pre class=\"shiki shiki-themes light-plus dark-plus vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">var</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\"> calculate</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">function</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // declare an array to replace the original Java stack</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = [];</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // record the numbers in the formula</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // record the sign before num, initialized as +</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> sign</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    for</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> &lt; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">length</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">++) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">        var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">charAt</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // if it's a number, continuously read into num</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (!</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">isNaN</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">            num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">10</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> * </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> + (</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> - </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'0'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // if it's not a number, it means we encountered</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // the next sign, or the end of the formula</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // then the previous number and sign should be stored into the stack</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> === </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> === </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'-'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> === </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">length</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> - </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">            switch</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">sign</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                    break</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '-'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(-</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                    break</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">            // update the sign to the current sign, and reset the number to zero</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">            sign</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">            num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // summing all the results in the stack gives the answer</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> res</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    while</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">length</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> !== </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">        res</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> += </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">pop</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    return</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> res</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">}</span></span></code></pre><div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0;\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><!--]--></div><!--]--></div> <div class=\"vp-code-tabs-nav\" role=\"tablist\"><button type=\"button\" class=\"vp-code-tab-nav active\" role=\"tab\" aria-controls=\"codetab-170-0\" aria-selected=\"true\">java</button><button type=\"button\" class=\"vp-code-tab-nav\" role=\"tab\" aria-controls=\"codetab-170-1\" aria-selected=\"false\">cpp</button><button type=\"button\" class=\"vp-code-tab-nav\" role=\"tab\" aria-controls=\"codetab-170-2\" aria-selected=\"false\">python</button><button type=\"button\" class=\"vp-code-tab-nav\" role=\"tab\" aria-controls=\"codetab-170-3\" aria-selected=\"false\">go</button><button type=\"button\" class=\"vp-code-tab-nav\" role=\"tab\" aria-controls=\"codetab-170-4\" aria-selected=\"false\">javascript</button></div> <button type=\"button\" class=\"vp-code-tab-nav active\" role=\"tab\" aria-controls=\"codetab-170-0\" aria-selected=\"true\">java</button> <button type=\"button\" class=\"vp-code-tab-nav\" role=\"tab\" aria-controls=\"codetab-170-1\" aria-selected=\"false\">cpp</button> <button type=\"button\" class=\"vp-code-tab-nav\" role=\"tab\" aria-controls=\"codetab-170-2\" aria-selected=\"false\">python</button> <button type=\"button\" class=\"vp-code-tab-nav\" role=\"tab\" aria-controls=\"codetab-170-3\" aria-selected=\"false\">go</button> <button type=\"button\" class=\"vp-code-tab-nav\" role=\"tab\" aria-controls=\"codetab-170-4\" aria-selected=\"false\">javascript</button> <div class=\"vp-code-tab active\" id=\"codetab-170-0\" role=\"tabpanel\" aria-expanded=\"true\"><div class=\"vp-code-tab-title\">java</div><!--[--><div class=\"language-java line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"java\" style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;\"><pre class=\"shiki shiki-themes light-plus dark-plus vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\"> calculate</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">String</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> s) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">    Stack</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">&lt;</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">Integer</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">&gt; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">new</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\"> Stack</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">&lt;&gt;();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // record the numbers in the expression</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">    int</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // record the sign before num, initialize as +</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">    char</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> sign</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    for</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">; i &lt; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">length</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(); i++) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">        char</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">charAt</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(i);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // if it's a digit, continuously read it into num</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">Character</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">isDigit</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(c)) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            num = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">10</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> * num + (c - </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'0'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // if it's not a digit, it means we encountered the</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // next sign or the end of the expression</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // then the previous number and sign should be pushed into the stack</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (c == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || c == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'-'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || i == </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">length</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">() - </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">            switch</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (sign) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '+'</span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(num); </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">break</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '-'</span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(-num); </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">break</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">            // update the sign to the current one, reset num to zero</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            sign = c;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            num = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // sum up all the results in the stack to get the answer</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">    int</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> res</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    while</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (!</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">isEmpty</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">()) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        res += </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">pop</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    return</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> res;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">}</span></span></code></pre><div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0;\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><!--]--></div> <div class=\"vp-code-tab-title\">java</div> <div class=\"language-java line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"java\" style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;\"><pre class=\"shiki shiki-themes light-plus dark-plus vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\"> calculate</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">String</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> s) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">    Stack</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">&lt;</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">Integer</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">&gt; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">new</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\"> Stack</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">&lt;&gt;();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // record the numbers in the expression</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">    int</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // record the sign before num, initialize as +</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">    char</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> sign</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    for</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">; i &lt; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">length</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(); i++) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">        char</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">charAt</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(i);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // if it's a digit, continuously read it into num</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">Character</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">isDigit</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(c)) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            num = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">10</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> * num + (c - </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'0'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // if it's not a digit, it means we encountered the</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // next sign or the end of the expression</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // then the previous number and sign should be pushed into the stack</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (c == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || c == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'-'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || i == </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">length</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">() - </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">            switch</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (sign) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '+'</span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(num); </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">break</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '-'</span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(-num); </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">break</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">            // update the sign to the current one, reset num to zero</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            sign = c;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            num = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // sum up all the results in the stack to get the answer</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">    int</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> res</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    while</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (!</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">isEmpty</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">()) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        res += </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">pop</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    return</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> res;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">}</span></span></code></pre><div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0;\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div> <pre class=\"shiki shiki-themes light-plus dark-plus vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\"> calculate</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">String</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> s) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">    Stack</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">&lt;</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">Integer</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">&gt; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">new</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\"> Stack</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">&lt;&gt;();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // record the numbers in the expression</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">    int</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // record the sign before num, initialize as +</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">    char</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> sign</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    for</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">; i &lt; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">length</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(); i++) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">        char</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">charAt</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(i);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // if it's a digit, continuously read it into num</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">Character</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">isDigit</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(c)) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            num = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">10</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> * num + (c - </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'0'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // if it's not a digit, it means we encountered the</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // next sign or the end of the expression</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // then the previous number and sign should be pushed into the stack</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (c == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || c == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'-'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || i == </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">length</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">() - </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">            switch</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (sign) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '+'</span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(num); </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">break</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '-'</span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(-num); </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">break</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">            // update the sign to the current one, reset num to zero</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            sign = c;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            num = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // sum up all the results in the stack to get the answer</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">    int</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> res</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    while</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (!</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">isEmpty</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">()) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        res += </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">pop</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    return</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> res;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">}</span></span></code></pre> <code><span class=\"line\"><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\"> calculate</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">String</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> s) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">    Stack</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">&lt;</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">Integer</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">&gt; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">new</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\"> Stack</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">&lt;&gt;();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // record the numbers in the expression</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">    int</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // record the sign before num, initialize as +</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">    char</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> sign</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    for</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">; i &lt; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">length</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(); i++) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">        char</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">charAt</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(i);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // if it's a digit, continuously read it into num</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">Character</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">isDigit</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(c)) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            num = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">10</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> * num + (c - </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'0'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // if it's not a digit, it means we encountered the</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // next sign or the end of the expression</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // then the previous number and sign should be pushed into the stack</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (c == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || c == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'-'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || i == </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">length</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">() - </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">            switch</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (sign) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '+'</span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(num); </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">break</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '-'</span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(-num); </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">break</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">            // update the sign to the current one, reset num to zero</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            sign = c;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            num = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // sum up all the results in the stack to get the answer</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">    int</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> res</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    while</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (!</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">isEmpty</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">()) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        res += </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">pop</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    return</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> res;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">}</span></span></code> <span class=\"line\"><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\"> calculate</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">String</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> s) {</span></span> <span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span> <span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\"> calculate</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span> <span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">String</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> s) {</span> <span class=\"line\"><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">    Stack</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">&lt;</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">Integer</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">&gt; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">new</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\"> Stack</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">&lt;&gt;();</span></span> <span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">    Stack</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">&lt;</span> <span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">Integer</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">&gt; </span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span> <span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">new</span> <span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\"> Stack</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">&lt;&gt;();</span> <span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // record the numbers in the expression</span></span> <span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // record the numbers in the expression</span> <span class=\"line\"><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">    int</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span> <span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">    int</span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> num</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span> <span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span> <span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // record the sign before num, initialize as +</span></span> <span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // record the sign before num, initialize as +</span> <span class=\"line\"><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">    char</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> sign</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span> <span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">    char</span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> sign</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span> <span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span> <span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    for</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">; i &lt; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">length</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(); i++) {</span></span> <span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    for</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span> <span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> i</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span> <span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">; i &lt; </span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span> <span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">length</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(); i++) {</span> <span class=\"line\"><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">        char</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">charAt</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(i);</span></span> <span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">        char</span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> c</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span> <span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">charAt</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(i);</span> <span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // if it's a digit, continuously read it into num</span></span> <span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // if it's a digit, continuously read it into num</span> <span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">Character</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">isDigit</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(c)) {</span></span> <span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">Character</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span> <span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">isDigit</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(c)) {</span> <span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            num = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">10</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> * num + (c - </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'0'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">);</span></span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            num = </span> <span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">10</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> * num + (c - </span> <span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'0'</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">);</span> <span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        }</span></span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        }</span> <span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // if it's not a digit, it means we encountered the</span></span> <span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // if it's not a digit, it means we encountered the</span> <span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // next sign or the end of the expression</span></span> <span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // next sign or the end of the expression</span> <span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // then the previous number and sign should be pushed into the stack</span></span> <span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // then the previous number and sign should be pushed into the stack</span> <span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (c == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || c == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'-'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || i == </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">length</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">() - </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) {</span></span> <span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (c == </span> <span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || c == </span> <span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'-'</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || i == </span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span> <span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">length</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">() - </span> <span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) {</span> <span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">            switch</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (sign) {</span></span> <span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">            switch</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (sign) {</span> <span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '+'</span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">:</span></span> <span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span> <span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '+'</span> <span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">:</span> <span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(num); </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">break</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stk</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span> <span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(num); </span> <span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">break</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span> <span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '-'</span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">:</span></span> <span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span> <span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '-'</span> <span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">:</span> <span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(-num); </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">break</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stk</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span> <span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(-num); </span> <span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">break</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span> <span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            }</span></span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            }</span> <span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">            // update the sign to the current one, reset num to zero</span></span> <span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">            // update the sign to the current one, reset num to zero</span> <span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            sign = c;</span></span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            sign = c;</span> <span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            num = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            num = </span> <span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span> <span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        }</span></span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        }</span> <span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span></span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span> <span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // sum up all the results in the stack to get the answer</span></span> <span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // sum up all the results in the stack to get the answer</span> <span class=\"line\"><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">    int</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> res</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span> <span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">    int</span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> res</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span> <span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span> <span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    while</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (!</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">isEmpty</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">()) {</span></span> <span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    while</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (!</span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span> <span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">isEmpty</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">()) {</span> <span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        res += </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">pop</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">();</span></span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        res += </span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span> <span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">pop</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">();</span> <span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span></span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span> <span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    return</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> res;</span></span> <span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    return</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> res;</span> <span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">}</span></span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">}</span> <div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0;\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"vp-code-tab\" id=\"codetab-170-1\" role=\"tabpanel\" aria-expanded=\"false\"><div class=\"vp-code-tab-title\">cpp</div><!--[--><div class=\"language-cpp line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"cpp\" style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;\"><pre class=\"shiki shiki-themes light-plus dark-plus vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">int</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\"> calculate</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">string</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    stack&lt;</span><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">&gt; stk;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // record the numbers in the expression</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> num = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">; </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // record the sign before num, initialize as +</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    char</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> sign = </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;  </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    for</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> i = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">; i &lt; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">length</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(); i++) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">        char</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> c = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">[i];</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // if it's a digit, continuously read into num</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">isdigit</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(c)) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            num = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">10</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> * num + (c - </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'0'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // if it's not a digit, it means encountering the next sign or the end of the expression</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // then the previous number and sign should be stored in the stack</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (c == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || c == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'-'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || i == </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">length</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">() - </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">            switch</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (sign) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(num); </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">break</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '-'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(-num); </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">break</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">            // update the sign to the current sign, reset the number to zero</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            sign = c;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            num = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // sum all results in the stack to get the answer</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> res = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    while</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (!</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">empty</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">()) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        res += </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">top</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">        stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">pop</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    return</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> res;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">}</span></span></code></pre><div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0;\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><!--]--></div> <div class=\"vp-code-tab-title\">cpp</div> <div class=\"language-cpp line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"cpp\" style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;\"><pre class=\"shiki shiki-themes light-plus dark-plus vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">int</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\"> calculate</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">string</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    stack&lt;</span><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">&gt; stk;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // record the numbers in the expression</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> num = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">; </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // record the sign before num, initialize as +</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    char</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> sign = </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;  </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    for</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> i = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">; i &lt; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">length</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(); i++) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">        char</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> c = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">[i];</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // if it's a digit, continuously read into num</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">isdigit</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(c)) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            num = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">10</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> * num + (c - </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'0'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // if it's not a digit, it means encountering the next sign or the end of the expression</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // then the previous number and sign should be stored in the stack</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (c == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || c == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'-'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || i == </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">length</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">() - </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">            switch</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (sign) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(num); </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">break</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '-'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(-num); </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">break</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">            // update the sign to the current sign, reset the number to zero</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            sign = c;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            num = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // sum all results in the stack to get the answer</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> res = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    while</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (!</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">empty</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">()) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        res += </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">top</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">        stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">pop</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    return</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> res;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">}</span></span></code></pre><div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0;\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div> <pre class=\"shiki shiki-themes light-plus dark-plus vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">int</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\"> calculate</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">string</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    stack&lt;</span><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">&gt; stk;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // record the numbers in the expression</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> num = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">; </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // record the sign before num, initialize as +</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    char</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> sign = </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;  </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    for</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> i = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">; i &lt; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">length</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(); i++) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">        char</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> c = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">[i];</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // if it's a digit, continuously read into num</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">isdigit</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(c)) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            num = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">10</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> * num + (c - </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'0'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // if it's not a digit, it means encountering the next sign or the end of the expression</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // then the previous number and sign should be stored in the stack</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (c == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || c == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'-'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || i == </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">length</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">() - </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">            switch</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (sign) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(num); </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">break</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '-'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(-num); </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">break</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">            // update the sign to the current sign, reset the number to zero</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            sign = c;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            num = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // sum all results in the stack to get the answer</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> res = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    while</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (!</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">empty</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">()) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        res += </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">top</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">        stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">pop</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    return</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> res;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">}</span></span></code></pre> <code><span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">int</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\"> calculate</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">string</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    stack&lt;</span><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">&gt; stk;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // record the numbers in the expression</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> num = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">; </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // record the sign before num, initialize as +</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    char</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> sign = </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;  </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    for</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> i = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">; i &lt; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">length</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(); i++) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">        char</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> c = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">[i];</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // if it's a digit, continuously read into num</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">isdigit</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(c)) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            num = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">10</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> * num + (c - </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'0'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // if it's not a digit, it means encountering the next sign or the end of the expression</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // then the previous number and sign should be stored in the stack</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (c == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || c == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'-'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || i == </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">length</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">() - </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">            switch</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (sign) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(num); </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">break</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '-'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(-num); </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">break</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">            // update the sign to the current sign, reset the number to zero</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            sign = c;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            num = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // sum all results in the stack to get the answer</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> res = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    while</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (!</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">empty</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">()) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        res += </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">top</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">        stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">pop</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    return</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> res;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">}</span></span></code> <span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">int</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\"> calculate</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">string</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) {</span></span> <span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">int</span> <span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\"> calculate</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span> <span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">string</span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> s</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) {</span> <span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    stack&lt;</span><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">&gt; stk;</span></span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    stack&lt;</span> <span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">int</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">&gt; stk;</span> <span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // record the numbers in the expression</span></span> <span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // record the numbers in the expression</span> <span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> num = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">; </span></span> <span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    int</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> num = </span> <span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">; </span> <span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // record the sign before num, initialize as +</span></span> <span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // record the sign before num, initialize as +</span> <span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    char</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> sign = </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;  </span></span> <span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    char</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> sign = </span> <span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;  </span> <span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    for</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> i = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">; i &lt; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">length</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(); i++) {</span></span> <span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    for</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span> <span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">int</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> i = </span> <span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">; i &lt; </span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span> <span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">length</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(); i++) {</span> <span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">        char</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> c = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">[i];</span></span> <span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">        char</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> c = </span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">[i];</span> <span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // if it's a digit, continuously read into num</span></span> <span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // if it's a digit, continuously read into num</span> <span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">isdigit</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(c)) {</span></span> <span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span> <span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">isdigit</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(c)) {</span> <span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            num = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">10</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> * num + (c - </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'0'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">);</span></span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            num = </span> <span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">10</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> * num + (c - </span> <span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'0'</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">);</span> <span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        }</span></span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        }</span> <span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // if it's not a digit, it means encountering the next sign or the end of the expression</span></span> <span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // if it's not a digit, it means encountering the next sign or the end of the expression</span> <span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // then the previous number and sign should be stored in the stack</span></span> <span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // then the previous number and sign should be stored in the stack</span> <span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (c == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || c == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'-'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || i == </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">length</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">() - </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) {</span></span> <span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (c == </span> <span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || c == </span> <span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'-'</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || i == </span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span> <span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">length</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">() - </span> <span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) {</span> <span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">            switch</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (sign) {</span></span> <span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">            switch</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (sign) {</span> <span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span> <span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span> <span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '+'</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span> <span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(num); </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">break</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stk</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span> <span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(num); </span> <span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">break</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span> <span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '-'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span> <span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span> <span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '-'</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span> <span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(-num); </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">break</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stk</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span> <span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(-num); </span> <span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">break</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span> <span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            }</span></span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            }</span> <span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">            // update the sign to the current sign, reset the number to zero</span></span> <span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">            // update the sign to the current sign, reset the number to zero</span> <span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            sign = c;</span></span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            sign = c;</span> <span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            num = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            num = </span> <span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span> <span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        }</span></span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        }</span> <span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span></span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span> <span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // sum all results in the stack to get the answer</span></span> <span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // sum all results in the stack to get the answer</span> <span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> res = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span> <span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    int</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> res = </span> <span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span> <span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    while</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (!</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">empty</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">()) {</span></span> <span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    while</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (!</span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span> <span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">empty</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">()) {</span> <span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        res += </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">top</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">();</span></span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        res += </span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span> <span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">top</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">();</span> <span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">        stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">pop</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">();</span></span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">        stk</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span> <span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">pop</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">();</span> <span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span></span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span> <span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    return</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> res;</span></span> <span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    return</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> res;</span> <span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">}</span></span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">}</span> <div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0;\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"vp-code-tab\" id=\"codetab-170-2\" role=\"tabpanel\" aria-expanded=\"false\"><div class=\"vp-code-tab-title\">python</div><!--[--><div class=\"language-python line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"python\" style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;\"><pre class=\"shiki shiki-themes light-plus dark-plus vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">def</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\"> calculate</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">):</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    stk = []</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    # record the numbers in the formula</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    num = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    # record the sign before num, initialized to +</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    sign = </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    for</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> i </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">in</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\"> range</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">len</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(s)):</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        c = s[i]</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        # if it's a digit, read it continuously into num</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> c.isdigit():</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            num = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">10</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> * num + </span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(c)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        # if it's not a digit, then it means we've</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        # encountered the next sign or the end of the formula</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        # then the previous number and sign should be stored in the stack</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> c == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\"> or</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> c == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'-'</span><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\"> or</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> i == </span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">len</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(s) - </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">            if</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> sign == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">                stk.append(num)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">            elif</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> sign == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'-'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">                stk.append(-num)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">            # update the sign to the current sign and reset the number to zero</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            sign = c</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            num = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    # the answer is the sum of all results in the stack</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    res = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    while</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> stk:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        res += stk.pop()</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    return</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> res</span></span></code></pre><div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0;\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><!--]--></div> <div class=\"vp-code-tab-title\">python</div> <div class=\"language-python line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"python\" style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;\"><pre class=\"shiki shiki-themes light-plus dark-plus vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">def</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\"> calculate</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">):</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    stk = []</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    # record the numbers in the formula</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    num = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    # record the sign before num, initialized to +</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    sign = </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    for</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> i </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">in</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\"> range</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">len</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(s)):</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        c = s[i]</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        # if it's a digit, read it continuously into num</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> c.isdigit():</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            num = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">10</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> * num + </span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(c)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        # if it's not a digit, then it means we've</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        # encountered the next sign or the end of the formula</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        # then the previous number and sign should be stored in the stack</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> c == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\"> or</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> c == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'-'</span><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\"> or</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> i == </span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">len</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(s) - </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">            if</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> sign == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">                stk.append(num)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">            elif</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> sign == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'-'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">                stk.append(-num)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">            # update the sign to the current sign and reset the number to zero</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            sign = c</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            num = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    # the answer is the sum of all results in the stack</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    res = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    while</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> stk:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        res += stk.pop()</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    return</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> res</span></span></code></pre><div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0;\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div> <pre class=\"shiki shiki-themes light-plus dark-plus vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">def</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\"> calculate</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">):</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    stk = []</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    # record the numbers in the formula</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    num = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    # record the sign before num, initialized to +</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    sign = </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    for</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> i </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">in</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\"> range</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">len</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(s)):</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        c = s[i]</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        # if it's a digit, read it continuously into num</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> c.isdigit():</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            num = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">10</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> * num + </span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(c)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        # if it's not a digit, then it means we've</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        # encountered the next sign or the end of the formula</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        # then the previous number and sign should be stored in the stack</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> c == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\"> or</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> c == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'-'</span><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\"> or</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> i == </span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">len</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(s) - </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">            if</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> sign == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">                stk.append(num)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">            elif</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> sign == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'-'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">                stk.append(-num)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">            # update the sign to the current sign and reset the number to zero</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            sign = c</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            num = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    # the answer is the sum of all results in the stack</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    res = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    while</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> stk:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        res += stk.pop()</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    return</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> res</span></span></code></pre> <code><span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">def</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\"> calculate</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">):</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    stk = []</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    # record the numbers in the formula</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    num = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    # record the sign before num, initialized to +</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    sign = </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    for</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> i </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">in</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\"> range</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">len</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(s)):</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        c = s[i]</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        # if it's a digit, read it continuously into num</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> c.isdigit():</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            num = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">10</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> * num + </span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(c)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        # if it's not a digit, then it means we've</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        # encountered the next sign or the end of the formula</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        # then the previous number and sign should be stored in the stack</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> c == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\"> or</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> c == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'-'</span><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\"> or</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> i == </span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">len</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(s) - </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">            if</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> sign == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">                stk.append(num)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">            elif</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> sign == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'-'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">                stk.append(-num)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">            # update the sign to the current sign and reset the number to zero</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            sign = c</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            num = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    # the answer is the sum of all results in the stack</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    res = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    while</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> stk:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        res += stk.pop()</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    return</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> res</span></span></code> <span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">def</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\"> calculate</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">):</span></span> <span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">def</span> <span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\"> calculate</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">):</span> <span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    stk = []</span></span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    stk = []</span> <span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    # record the numbers in the formula</span></span> <span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    # record the numbers in the formula</span> <span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    num = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span></span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    num = </span> <span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span> <span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    # record the sign before num, initialized to +</span></span> <span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    # record the sign before num, initialized to +</span> <span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    sign = </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span></span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    sign = </span> <span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span> <span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    for</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> i </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">in</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\"> range</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">len</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(s)):</span></span> <span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    for</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> i </span> <span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">in</span> <span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\"> range</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span> <span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">len</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(s)):</span> <span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        c = s[i]</span></span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        c = s[i]</span> <span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        # if it's a digit, read it continuously into num</span></span> <span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        # if it's a digit, read it continuously into num</span> <span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> c.isdigit():</span></span> <span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> c.isdigit():</span> <span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            num = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">10</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> * num + </span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(c)</span></span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            num = </span> <span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">10</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> * num + </span> <span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(c)</span> <span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        # if it's not a digit, then it means we've</span></span> <span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        # if it's not a digit, then it means we've</span> <span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        # encountered the next sign or the end of the formula</span></span> <span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        # encountered the next sign or the end of the formula</span> <span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        # then the previous number and sign should be stored in the stack</span></span> <span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        # then the previous number and sign should be stored in the stack</span> <span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> c == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\"> or</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> c == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'-'</span><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\"> or</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> i == </span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">len</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(s) - </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span> <span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> c == </span> <span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span> <span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\"> or</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> c == </span> <span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'-'</span> <span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\"> or</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> i == </span> <span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">len</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(s) - </span> <span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span> <span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">            if</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> sign == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span> <span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">            if</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> sign == </span> <span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span> <span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">                stk.append(num)</span></span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">                stk.append(num)</span> <span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">            elif</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> sign == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'-'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span> <span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">            elif</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> sign == </span> <span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'-'</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span> <span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">                stk.append(-num)</span></span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">                stk.append(-num)</span> <span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">            # update the sign to the current sign and reset the number to zero</span></span> <span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">            # update the sign to the current sign and reset the number to zero</span> <span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            sign = c</span></span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            sign = c</span> <span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            num = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span></span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            num = </span> <span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span> <span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    # the answer is the sum of all results in the stack</span></span> <span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    # the answer is the sum of all results in the stack</span> <span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    res = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span></span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    res = </span> <span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span> <span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    while</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> stk:</span></span> <span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    while</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> stk:</span> <span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        res += stk.pop()</span></span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        res += stk.pop()</span> <span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    return</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> res</span></span> <span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    return</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> res</span> <div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0;\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"vp-code-tab\" id=\"codetab-170-3\" role=\"tabpanel\" aria-expanded=\"false\"><div class=\"vp-code-tab-title\">go</div><!--[--><div class=\"language-go line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"go\" style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;\"><pre class=\"shiki shiki-themes light-plus dark-plus vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">func</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\"> calculate</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\"> string</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) </span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // record the number in the expression</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> num</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\"> int</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // final result</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> res</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\"> int</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // record the sign before num, initialize to +</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> sign</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\"> int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // stack initialization</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">    stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> := </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stack</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">New</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">()</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // start traversing s in order</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    for</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> := </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> &lt; </span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">len</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">); </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">++ {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // if it's a digit, continuously read into num</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\"> isDigit</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">[</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">]) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">            num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">10</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">*</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> + </span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">[</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">]-</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'0'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // if it's not a digit, it means encountering the next sign or the end of the expression</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // then the previous number and sign should be stored in the stack</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">[</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">] == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">[</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">] == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'-'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> == </span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">len</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)-</span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">            // store the number and sign in the stack</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">            if</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> sign</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> == </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">Push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            } </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">else</span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\"> if</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> sign</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> == -</span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">Push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(-</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">            // update the sign to the current sign, reset the number to zero</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">            num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">            if</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">[</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">] == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                sign</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            } </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">else</span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\"> if</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">[</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">] == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'-'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                sign</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = -</span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // sum all the results in the stack to get the answer</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    for</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">Len</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">() != </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">        res</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> += </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">Pop</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">().(</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // return the result</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    return</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> res</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">// helper function, determine if a character is a digit</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">func</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\"> isDigit</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">n</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\"> byte</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) </span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">bool</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    if</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '0'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> &lt;= </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">n</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> &amp;&amp; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">n</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> &lt;= </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'9'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        return</span><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\"> true</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    return</span><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\"> false</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">}</span></span></code></pre><div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0;\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><!--]--></div> <div class=\"vp-code-tab-title\">go</div> <div class=\"language-go line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"go\" style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;\"><pre class=\"shiki shiki-themes light-plus dark-plus vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">func</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\"> calculate</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\"> string</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) </span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // record the number in the expression</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> num</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\"> int</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // final result</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> res</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\"> int</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // record the sign before num, initialize to +</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> sign</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\"> int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // stack initialization</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">    stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> := </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stack</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">New</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">()</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // start traversing s in order</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    for</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> := </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> &lt; </span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">len</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">); </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">++ {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // if it's a digit, continuously read into num</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\"> isDigit</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">[</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">]) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">            num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">10</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">*</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> + </span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">[</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">]-</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'0'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // if it's not a digit, it means encountering the next sign or the end of the expression</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // then the previous number and sign should be stored in the stack</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">[</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">] == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">[</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">] == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'-'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> == </span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">len</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)-</span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">            // store the number and sign in the stack</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">            if</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> sign</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> == </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">Push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            } </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">else</span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\"> if</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> sign</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> == -</span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">Push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(-</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">            // update the sign to the current sign, reset the number to zero</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">            num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">            if</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">[</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">] == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                sign</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            } </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">else</span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\"> if</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">[</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">] == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'-'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                sign</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = -</span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // sum all the results in the stack to get the answer</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    for</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">Len</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">() != </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">        res</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> += </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">Pop</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">().(</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // return the result</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    return</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> res</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">// helper function, determine if a character is a digit</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">func</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\"> isDigit</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">n</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\"> byte</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) </span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">bool</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    if</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '0'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> &lt;= </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">n</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> &amp;&amp; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">n</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> &lt;= </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'9'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        return</span><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\"> true</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    return</span><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\"> false</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">}</span></span></code></pre><div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0;\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div> <pre class=\"shiki shiki-themes light-plus dark-plus vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">func</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\"> calculate</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\"> string</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) </span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // record the number in the expression</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> num</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\"> int</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // final result</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> res</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\"> int</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // record the sign before num, initialize to +</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> sign</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\"> int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // stack initialization</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">    stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> := </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stack</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">New</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">()</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // start traversing s in order</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    for</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> := </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> &lt; </span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">len</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">); </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">++ {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // if it's a digit, continuously read into num</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\"> isDigit</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">[</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">]) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">            num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">10</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">*</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> + </span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">[</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">]-</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'0'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // if it's not a digit, it means encountering the next sign or the end of the expression</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // then the previous number and sign should be stored in the stack</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">[</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">] == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">[</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">] == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'-'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> == </span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">len</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)-</span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">            // store the number and sign in the stack</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">            if</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> sign</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> == </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">Push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            } </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">else</span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\"> if</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> sign</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> == -</span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">Push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(-</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">            // update the sign to the current sign, reset the number to zero</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">            num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">            if</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">[</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">] == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                sign</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            } </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">else</span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\"> if</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">[</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">] == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'-'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                sign</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = -</span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // sum all the results in the stack to get the answer</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    for</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">Len</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">() != </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">        res</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> += </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">Pop</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">().(</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // return the result</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    return</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> res</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">// helper function, determine if a character is a digit</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">func</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\"> isDigit</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">n</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\"> byte</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) </span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">bool</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    if</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '0'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> &lt;= </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">n</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> &amp;&amp; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">n</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> &lt;= </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'9'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        return</span><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\"> true</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    return</span><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\"> false</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">}</span></span></code></pre> <code><span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">func</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\"> calculate</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\"> string</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) </span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // record the number in the expression</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> num</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\"> int</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // final result</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> res</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\"> int</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // record the sign before num, initialize to +</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> sign</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\"> int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // stack initialization</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">    stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> := </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stack</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">New</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">()</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // start traversing s in order</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    for</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> := </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> &lt; </span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">len</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">); </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">++ {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // if it's a digit, continuously read into num</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\"> isDigit</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">[</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">]) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">            num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">10</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">*</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> + </span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">[</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">]-</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'0'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // if it's not a digit, it means encountering the next sign or the end of the expression</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // then the previous number and sign should be stored in the stack</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">[</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">] == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">[</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">] == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'-'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> == </span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">len</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)-</span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">            // store the number and sign in the stack</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">            if</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> sign</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> == </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">Push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            } </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">else</span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\"> if</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> sign</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> == -</span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">Push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(-</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">            // update the sign to the current sign, reset the number to zero</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">            num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">            if</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">[</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">] == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                sign</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            } </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">else</span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\"> if</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">[</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">] == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'-'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                sign</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = -</span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // sum all the results in the stack to get the answer</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    for</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">Len</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">() != </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">        res</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> += </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">Pop</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">().(</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // return the result</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    return</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> res</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">// helper function, determine if a character is a digit</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">func</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\"> isDigit</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">n</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\"> byte</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) </span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">bool</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    if</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '0'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> &lt;= </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">n</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> &amp;&amp; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">n</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> &lt;= </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'9'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        return</span><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\"> true</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    return</span><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\"> false</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">}</span></span></code> <span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">func</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\"> calculate</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\"> string</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) </span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> {</span></span> <span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">func</span> <span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\"> calculate</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span> <span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\"> string</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) </span> <span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> {</span> <span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // record the number in the expression</span></span> <span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // record the number in the expression</span> <span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> num</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\"> int</span></span> <span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    var</span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> num</span> <span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\"> int</span> <span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // final result</span></span> <span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // final result</span> <span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> res</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\"> int</span></span> <span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    var</span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> res</span> <span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\"> int</span> <span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // record the sign before num, initialize to +</span></span> <span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // record the sign before num, initialize to +</span> <span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> sign</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\"> int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span></span> <span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    var</span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> sign</span> <span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\"> int</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span> <span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span> <span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // stack initialization</span></span> <span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // stack initialization</span> <span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">    stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> := </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stack</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">New</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">()</span></span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">    stk</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> := </span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stack</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span> <span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">New</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">()</span> <span class=\"line\"></span> <span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // start traversing s in order</span></span> <span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // start traversing s in order</span> <span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    for</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> := </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> &lt; </span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">len</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">); </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">++ {</span></span> <span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    for</span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> i</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> := </span> <span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">; </span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> &lt; </span> <span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">len</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">); </span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">++ {</span> <span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // if it's a digit, continuously read into num</span></span> <span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // if it's a digit, continuously read into num</span> <span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\"> isDigit</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">[</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">]) {</span></span> <span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span> <span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\"> isDigit</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">[</span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">]) {</span> <span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">            num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">10</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">*</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> + </span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">[</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">]-</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'0'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)</span></span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">            num</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span> <span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">10</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">*</span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">num</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> + </span> <span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">[</span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">]-</span> <span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'0'</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)</span> <span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        }</span></span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        }</span> <span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // if it's not a digit, it means encountering the next sign or the end of the expression</span></span> <span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // if it's not a digit, it means encountering the next sign or the end of the expression</span> <span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // then the previous number and sign should be stored in the stack</span></span> <span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // then the previous number and sign should be stored in the stack</span> <span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">[</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">] == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">[</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">] == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'-'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> == </span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">len</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)-</span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> {</span></span> <span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> s</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">[</span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">] == </span> <span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || </span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">[</span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">] == </span> <span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'-'</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || </span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> == </span> <span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">len</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)-</span> <span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> {</span> <span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">            // store the number and sign in the stack</span></span> <span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">            // store the number and sign in the stack</span> <span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">            if</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> sign</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> == </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> {</span></span> <span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">            if</span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> sign</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> == </span> <span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> {</span> <span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">Push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)</span></span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                stk</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span> <span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">Push</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">num</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)</span> <span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            } </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">else</span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\"> if</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> sign</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> == -</span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> {</span></span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            } </span> <span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">else</span> <span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\"> if</span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> sign</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> == -</span> <span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> {</span> <span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">Push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(-</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)</span></span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                stk</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span> <span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">Push</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(-</span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">num</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)</span> <span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            }</span></span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            }</span> <span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">            // update the sign to the current sign, reset the number to zero</span></span> <span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">            // update the sign to the current sign, reset the number to zero</span> <span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">            num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span></span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">            num</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span> <span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span> <span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">            if</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">[</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">] == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> {</span></span> <span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">            if</span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> s</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">[</span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">] == </span> <span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> {</span> <span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                sign</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span></span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                sign</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span> <span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span> <span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            } </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">else</span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\"> if</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">[</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">] == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'-'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> {</span></span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            } </span> <span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">else</span> <span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\"> if</span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> s</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">[</span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">] == </span> <span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'-'</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> {</span> <span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                sign</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = -</span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span></span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                sign</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = -</span> <span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span> <span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            }</span></span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            }</span> <span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        }</span></span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        }</span> <span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span></span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span> <span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // sum all the results in the stack to get the answer</span></span> <span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // sum all the results in the stack to get the answer</span> <span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    for</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">Len</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">() != </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> {</span></span> <span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    for</span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> stk</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span> <span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">Len</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">() != </span> <span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> {</span> <span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">        res</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> += </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">Pop</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">().(</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)</span></span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">        res</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> += </span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span> <span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">Pop</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">().(</span> <span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)</span> <span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span></span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span> <span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // return the result</span></span> <span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // return the result</span> <span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    return</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> res</span></span> <span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    return</span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> res</span> <span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">}</span></span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">}</span> <span class=\"line\"></span> <span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">// helper function, determine if a character is a digit</span></span> <span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">// helper function, determine if a character is a digit</span> <span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">func</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\"> isDigit</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">n</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\"> byte</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) </span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">bool</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> {</span></span> <span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">func</span> <span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\"> isDigit</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">n</span> <span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\"> byte</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) </span> <span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">bool</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> {</span> <span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    if</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '0'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> &lt;= </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">n</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> &amp;&amp; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">n</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> &lt;= </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'9'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> {</span></span> <span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    if</span> <span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '0'</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> &lt;= </span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">n</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> &amp;&amp; </span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">n</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> &lt;= </span> <span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'9'</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> {</span> <span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        return</span><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\"> true</span></span> <span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        return</span> <span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\"> true</span> <span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span></span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span> <span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    return</span><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\"> false</span></span> <span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    return</span> <span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\"> false</span> <span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">}</span></span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">}</span> <div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0;\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"vp-code-tab\" id=\"codetab-170-4\" role=\"tabpanel\" aria-expanded=\"false\"><div class=\"vp-code-tab-title\">javascript</div><!--[--><div class=\"language-javascript line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"javascript\" style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;\"><pre class=\"shiki shiki-themes light-plus dark-plus vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">var</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\"> calculate</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">function</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // declare an array to replace the original Java stack</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = [];</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // record the numbers in the formula</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // record the sign before num, initialized as +</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> sign</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    for</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> &lt; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">length</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">++) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">        var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">charAt</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // if it's a number, continuously read into num</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (!</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">isNaN</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">            num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">10</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> * </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> + (</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> - </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'0'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // if it's not a number, it means we encountered</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // the next sign, or the end of the formula</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // then the previous number and sign should be stored into the stack</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> === </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> === </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'-'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> === </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">length</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> - </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">            switch</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">sign</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                    break</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '-'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(-</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                    break</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">            // update the sign to the current sign, and reset the number to zero</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">            sign</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">            num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // summing all the results in the stack gives the answer</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> res</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    while</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">length</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> !== </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">        res</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> += </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">pop</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    return</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> res</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">}</span></span></code></pre><div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0;\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><!--]--></div> <div class=\"vp-code-tab-title\">javascript</div> <div class=\"language-javascript line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"javascript\" style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;\"><pre class=\"shiki shiki-themes light-plus dark-plus vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">var</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\"> calculate</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">function</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // declare an array to replace the original Java stack</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = [];</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // record the numbers in the formula</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // record the sign before num, initialized as +</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> sign</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    for</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> &lt; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">length</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">++) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">        var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">charAt</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // if it's a number, continuously read into num</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (!</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">isNaN</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">            num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">10</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> * </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> + (</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> - </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'0'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // if it's not a number, it means we encountered</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // the next sign, or the end of the formula</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // then the previous number and sign should be stored into the stack</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> === </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> === </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'-'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> === </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">length</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> - </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">            switch</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">sign</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                    break</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '-'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(-</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                    break</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">            // update the sign to the current sign, and reset the number to zero</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">            sign</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">            num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // summing all the results in the stack gives the answer</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> res</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    while</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">length</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> !== </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">        res</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> += </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">pop</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    return</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> res</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">}</span></span></code></pre><div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0;\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div> <pre class=\"shiki shiki-themes light-plus dark-plus vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">var</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\"> calculate</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">function</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // declare an array to replace the original Java stack</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = [];</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // record the numbers in the formula</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // record the sign before num, initialized as +</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> sign</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    for</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> &lt; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">length</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">++) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">        var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">charAt</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // if it's a number, continuously read into num</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (!</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">isNaN</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">            num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">10</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> * </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> + (</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> - </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'0'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // if it's not a number, it means we encountered</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // the next sign, or the end of the formula</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // then the previous number and sign should be stored into the stack</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> === </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> === </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'-'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> === </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">length</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> - </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">            switch</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">sign</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                    break</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '-'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(-</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                    break</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">            // update the sign to the current sign, and reset the number to zero</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">            sign</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">            num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // summing all the results in the stack gives the answer</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> res</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    while</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">length</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> !== </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">        res</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> += </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">pop</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    return</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> res</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">}</span></span></code></pre> <code><span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">var</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\"> calculate</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">function</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // declare an array to replace the original Java stack</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = [];</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // record the numbers in the formula</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // record the sign before num, initialized as +</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> sign</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    for</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> &lt; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">length</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">++) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">        var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">charAt</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // if it's a number, continuously read into num</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (!</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">isNaN</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">            num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">10</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> * </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> + (</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> - </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'0'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // if it's not a number, it means we encountered</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // the next sign, or the end of the formula</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // then the previous number and sign should be stored into the stack</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> === </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> === </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'-'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> === </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">length</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> - </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">            switch</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">sign</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                    break</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '-'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(-</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                    break</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">            // update the sign to the current sign, and reset the number to zero</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">            sign</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">            num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // summing all the results in the stack gives the answer</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> res</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    while</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">length</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> !== </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">        res</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> += </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">pop</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    return</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> res</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">}</span></span></code> <span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">var</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\"> calculate</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">function</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) {</span></span> <span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">var</span> <span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\"> calculate</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span> <span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">function</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) {</span> <span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // declare an array to replace the original Java stack</span></span> <span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // declare an array to replace the original Java stack</span> <span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = [];</span></span> <span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    var</span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> stk</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = [];</span> <span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // record the numbers in the formula</span></span> <span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // record the numbers in the formula</span> <span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span> <span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    var</span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> num</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span> <span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span> <span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // record the sign before num, initialized as +</span></span> <span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // record the sign before num, initialized as +</span> <span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> sign</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span> <span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    var</span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> sign</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span> <span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span> <span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    for</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> &lt; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">length</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">++) {</span></span> <span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    for</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span> <span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">var</span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> i</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span> <span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">; </span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> &lt; </span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">length</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">; </span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">++) {</span> <span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">        var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">charAt</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">);</span></span> <span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">        var</span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> c</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span> <span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">charAt</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">);</span> <span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // if it's a number, continuously read into num</span></span> <span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // if it's a number, continuously read into num</span> <span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (!</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">isNaN</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)) {</span></span> <span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (!</span> <span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">isNaN</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)) {</span> <span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">            num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">10</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> * </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> + (</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> - </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'0'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">);</span></span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">            num</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span> <span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">10</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> * </span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">num</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> + (</span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> - </span> <span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'0'</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">);</span> <span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        }</span></span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        }</span> <span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // if it's not a number, it means we encountered</span></span> <span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // if it's not a number, it means we encountered</span> <span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // the next sign, or the end of the formula</span></span> <span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // the next sign, or the end of the formula</span> <span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // then the previous number and sign should be stored into the stack</span></span> <span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // then the previous number and sign should be stored into the stack</span> <span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> === </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> === </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'-'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> === </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">length</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> - </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) {</span></span> <span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> === </span> <span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || </span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> === </span> <span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'-'</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || </span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> === </span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">length</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> - </span> <span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) {</span> <span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">            switch</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">sign</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) {</span></span> <span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">            switch</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">sign</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) {</span> <span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span> <span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span> <span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '+'</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span> <span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">);</span></span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stk</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span> <span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">num</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">);</span> <span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                    break</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span> <span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                    break</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span> <span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '-'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span> <span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span> <span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '-'</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span> <span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(-</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">);</span></span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stk</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span> <span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(-</span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">num</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">);</span> <span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                    break</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span> <span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                    break</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span> <span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            }</span></span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            }</span> <span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">            // update the sign to the current sign, and reset the number to zero</span></span> <span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">            // update the sign to the current sign, and reset the number to zero</span> <span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">            sign</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">            sign</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span> <span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">            num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">            num</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span> <span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span> <span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        }</span></span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        }</span> <span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span></span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span> <span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // summing all the results in the stack gives the answer</span></span> <span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // summing all the results in the stack gives the answer</span> <span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> res</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span> <span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    var</span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> res</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span> <span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span> <span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    while</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">length</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> !== </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) {</span></span> <span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    while</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">length</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> !== </span> <span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) {</span> <span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">        res</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> += </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">pop</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">();</span></span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">        res</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> += </span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span> <span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">pop</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">();</span> <span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span></span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span> <span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    return</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> res</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span> <span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    return</span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> res</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span> <span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">}</span></span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">}</span> <div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0;\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <p>Maybe the part with the <code>switch</code> statement is a bit hard to understand. <code>i</code> scans from left to right, and <code>sign</code> and <code>num</code> follow it. When <code>s[i]</code> meets an operator, here's what happens:</p> <code>switch</code> <code>i</code> <code>sign</code> <code>num</code> <code>s[i]</code> <div class=\"img-content\"><img src=\"/algo/images/calculator/1.jpg\" alt class=\"myimage\" loading=\"lazy\" photo-swipe=\"\"></div> <img src=\"/algo/images/calculator/1.jpg\" alt class=\"myimage\" loading=\"lazy\" photo-swipe=\"\"> <p>Now, use <code>sign</code> to decide if the number is positive or negative, put it into the stack, then update <code>sign</code> and reset <code>num</code> to get ready for the next pair.</p> <code>sign</code> <code>sign</code> <code>num</code> <p>Also, not only when you meet a new operator should you push to the stack. When <code>i</code> reaches the end of the string (<code>i == s.size() - 1</code>), you should also put the last number into the stack for the final calculation.</p> <code>i</code> <code>i == s.size() - 1</code> <div class=\"img-content\"><img src=\"/algo/images/calculator/2.jpg\" alt class=\"myimage\" loading=\"lazy\" photo-swipe=\"\"></div> <img src=\"/algo/images/calculator/2.jpg\" alt class=\"myimage\" loading=\"lazy\" photo-swipe=\"\"> <p>That's it. This is the algorithm for compact addition and subtraction strings. Make sure you understand this part. The next steps just change this base framework a bit.</p> <h2 id=\"_3-handling-multiplication-and-division\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#_3-handling-multiplication-and-division\"><span>3. Handling Multiplication and Division</span></a></h2> <a class=\"header-anchor\" href=\"#_3-handling-multiplication-and-division\"><span>3. Handling Multiplication and Division</span></a> <span>3. Handling Multiplication and Division</span> <p>The idea is almost the same as just handling addition and subtraction. Let's use the string <code>2-3*4+5</code> as an example. The core idea is still to break the string into pairs of symbols and numbers.</p> <code>2-3*4+5</code> <p>For example, this can be split into <code>+2</code>, <code>-3</code>, <code>*4</code>, <code>+5</code>. Before, we didn't handle multiplication and division. That's easy. <strong>Everything else stays the same</strong>. Just add the cases for multiplication and division in the <code>switch</code> part:</p> <code>+2</code> <code>-3</code> <code>*4</code> <code>+5</code> <strong>Everything else stays the same</strong> <code>switch</code> <div class=\"vp-code-tabs\"><div class=\"vp-code-tabs-nav\" role=\"tablist\"><button type=\"button\" class=\"vp-code-tab-nav active\" role=\"tab\" aria-controls=\"codetab-210-0\" aria-selected=\"true\">java</button><button type=\"button\" class=\"vp-code-tab-nav\" role=\"tab\" aria-controls=\"codetab-210-1\" aria-selected=\"false\">cpp</button><button type=\"button\" class=\"vp-code-tab-nav\" role=\"tab\" aria-controls=\"codetab-210-2\" aria-selected=\"false\">python</button><button type=\"button\" class=\"vp-code-tab-nav\" role=\"tab\" aria-controls=\"codetab-210-3\" aria-selected=\"false\">go</button><button type=\"button\" class=\"vp-code-tab-nav\" role=\"tab\" aria-controls=\"codetab-210-4\" aria-selected=\"false\">javascript</button></div><!--[--><div class=\"vp-code-tab active\" id=\"codetab-210-0\" role=\"tabpanel\" aria-expanded=\"true\"><div class=\"vp-code-tab-title\">java</div><!--[--><div class=\"language-java line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"java\" style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;\"><pre class=\"shiki shiki-themes light-plus dark-plus vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\"> calculate</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">String</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> s) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">    Stack</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">&lt;</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">Integer</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">&gt; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">new</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\"> Stack</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">&lt;&gt;();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // record the numbers in the formula</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">    int</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // record the sign before num, initialized as +</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">    char</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> sign</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    for</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">; i &lt; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">length</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(); i++) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">        char</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">charAt</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(i);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">Character</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">isDigit</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(c)) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            num = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">10</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> * num + (c - </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'0'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        }</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (c == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || c == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'-'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || c == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'/'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || c == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'*'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || i == </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">length</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">() - </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">            int</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> pre</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">            switch</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (sign) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '+'</span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(num); </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">break</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '-'</span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(-num); </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">break</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">                // just take out the previous number and perform corresponding operation</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '*'</span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">                    pre = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">pop</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(pre * num);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                    break</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '/'</span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">                    pre = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">pop</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(pre / num);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                    break</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">            // update the sign to the current sign, reset the number to zero</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            sign = c;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            num = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // sum up all the results in the stack to get the answer</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">    int</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> res</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    while</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (!</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">isEmpty</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">()) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        res += </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">pop</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    return</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> res;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">}</span></span></code></pre><div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0;\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><!--]--></div><div class=\"vp-code-tab\" id=\"codetab-210-1\" role=\"tabpanel\" aria-expanded=\"false\"><div class=\"vp-code-tab-title\">cpp</div><!--[--><div class=\"language-cpp line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"cpp\" style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;\"><pre class=\"shiki shiki-themes light-plus dark-plus vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">int</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\"> calculate</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">string</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    stack&lt;</span><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">&gt; stk;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // record the numbers in the formula</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> num = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // record the sign before num, initialized to +</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    char</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> sign = </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    for</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> i = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">; i &lt; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">length</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(); i++) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">        char</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> c = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">[i];</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">isdigit</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(c)) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            num = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">10</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> * num + (c - </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'0'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        }</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (c == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || c == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'-'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || c == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'/'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || c == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'*'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || i == </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">length</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">() - </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">            int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> pre;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">            switch</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (sign) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(num); </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">break</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '-'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(-num); </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">break</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">                // just take out the previous number for the corresponding operation</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '*'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">                    pre = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">top</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(); </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">pop</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(pre * num);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                    break</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '/'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">                    pre = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">top</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(); </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">pop</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(pre / num);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                    break</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">            // update the sign to the current sign, reset the number to zero</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            sign = c;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            num = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // summing up all the results in the stack gives the answer</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> res = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    while</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (!</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">empty</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">()) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        res += </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">top</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(); </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">pop</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    return</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> res;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">}</span></span></code></pre><div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0;\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><!--]--></div><div class=\"vp-code-tab\" id=\"codetab-210-2\" role=\"tabpanel\" aria-expanded=\"false\"><div class=\"vp-code-tab-title\">python</div><!--[--><div class=\"language-python line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"python\" style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;\"><pre class=\"shiki shiki-themes light-plus dark-plus vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">def</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\"> calculate</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">: </span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">str</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) -&gt; </span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    stk = []</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    # record the numbers in the equation</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    num = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    # record the sign before num, initialized as +</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    sign = </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">\"+\"</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    for</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> i </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">in</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\"> range</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">len</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(s)):</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> s[i].isdigit():</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            num = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">10</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> * num + </span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(s[i])</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        # encounter +,-,*,/ or reach the end</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> s[i] </span><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">in</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> \"+-*/\"</span><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\"> or</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> i == </span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">len</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(s) - </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">            if</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> sign == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">\"+\"</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">                stk.append(num)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">            elif</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> sign == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">\"-\"</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">                stk.append(-num)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">            # just take out the previous number and perform the corresponding operation</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">            elif</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> sign == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">\"*\"</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">                stk[-</span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">] *= num</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">            else</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">                # encounter division sign, need to take out the</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">                # previous number and perform division</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">                stk[-</span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">] = </span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(stk[-</span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">] / num)</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">            # update the sign to the current sign, reset the number to zero</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            sign = s[i]</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            num = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    # sum all results in the stack to get the answer</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    return</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\"> sum</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(stk)</span></span></code></pre><div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0;\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><!--]--></div><div class=\"vp-code-tab\" id=\"codetab-210-3\" role=\"tabpanel\" aria-expanded=\"false\"><div class=\"vp-code-tab-title\">go</div><!--[--><div class=\"language-go line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"go\" style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;\"><pre class=\"shiki shiki-themes light-plus dark-plus vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">func</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\"> calculate</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\"> string</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) </span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">  // initialize stack stk</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">  stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> := </span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">make</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">([]</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">, </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">  // record numbers in the expression</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">  num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> := </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">  // record the sign before num, initialized to +</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">  sign</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> := </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">  </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">  for</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">, </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> := </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">range</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    if</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> unicode</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">IsDigit</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">      num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">10</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">*</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> + </span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">-</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'0'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    if</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">==</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">==</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'-'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">==</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'/'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">==</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'*'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">==</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">len</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)-</span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">      var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> pre</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\"> int</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">      switch</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> sign</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">      case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // if the sign is +, push the number onto the stack</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">        stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">append</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">, </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">      case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '-'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // if the sign is -, push the negated number onto the stack</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">        stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">append</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">, -</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">      case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '*'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // if the sign is *, pop the top element of the stack, multiply it by</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // the current number, and push the result back onto the stack</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">        pre</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">[</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">len</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)-</span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">]</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">        stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">[:</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">len</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)-</span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">]</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">        stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">append</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">, </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">pre</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">*</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">      case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '/'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // if the sign is /, pop the top element of the stack, divide it by</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // the current number, and push the result back onto the stack</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">        pre</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">[</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">len</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)-</span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">]</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">        stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">[:</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">len</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)-</span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">]</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">        stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">append</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">, </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">pre</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">/</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">      }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">      // update the sign to the current sign, and reset the number to 0</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">      sign</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">rune</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">      num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">  }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">  // sum all the results in the stack to get the answer</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">  res</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> := </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">  for</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> _</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">, </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">v</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> := </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">range</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">    res</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> += </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">v</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">  }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">  </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">  return</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> res</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">}</span></span></code></pre><div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0;\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><!--]--></div><div class=\"vp-code-tab\" id=\"codetab-210-4\" role=\"tabpanel\" aria-expanded=\"false\"><div class=\"vp-code-tab-title\">javascript</div><!--[--><div class=\"language-javascript line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"javascript\" style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;\"><pre class=\"shiki shiki-themes light-plus dark-plus vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">var</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\"> calculate</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">function</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> stack</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = [];</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // record the numbers in the formula</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // record the sign before num, initialized to +</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> sign</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    for</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> &lt; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">length</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">++) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">        var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">[</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">];</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (!</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">isNaN</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">            num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">10</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> * </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> + (</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> - </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'0'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        }</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> === </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> === </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'-'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> === </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'/'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> === </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'*'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> === </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">length</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> - </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">            var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> pre</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">            switch</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">sign</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">                // just take out the previous number and perform the corresponding operation</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stack</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">); </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">break</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '-'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stack</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(-</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">); </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">break</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '*'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    pre</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stack</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">pop</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stack</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">pre</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> * </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">); </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                    break</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '/'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    pre</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stack</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">pop</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stack</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">Math</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">trunc</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">pre</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> / </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">));</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                    break</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">            // update the sign to the current sign, and reset the number to zero</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">            sign</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">            num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // sum all the results in the stack to get the answer</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> res</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    while</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stack</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">length</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> !== </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">        res</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> += </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stack</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">pop</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    return</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> res</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">};</span></span></code></pre><div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0;\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><!--]--></div><!--]--></div> <div class=\"vp-code-tabs-nav\" role=\"tablist\"><button type=\"button\" class=\"vp-code-tab-nav active\" role=\"tab\" aria-controls=\"codetab-210-0\" aria-selected=\"true\">java</button><button type=\"button\" class=\"vp-code-tab-nav\" role=\"tab\" aria-controls=\"codetab-210-1\" aria-selected=\"false\">cpp</button><button type=\"button\" class=\"vp-code-tab-nav\" role=\"tab\" aria-controls=\"codetab-210-2\" aria-selected=\"false\">python</button><button type=\"button\" class=\"vp-code-tab-nav\" role=\"tab\" aria-controls=\"codetab-210-3\" aria-selected=\"false\">go</button><button type=\"button\" class=\"vp-code-tab-nav\" role=\"tab\" aria-controls=\"codetab-210-4\" aria-selected=\"false\">javascript</button></div> <button type=\"button\" class=\"vp-code-tab-nav active\" role=\"tab\" aria-controls=\"codetab-210-0\" aria-selected=\"true\">java</button> <button type=\"button\" class=\"vp-code-tab-nav\" role=\"tab\" aria-controls=\"codetab-210-1\" aria-selected=\"false\">cpp</button> <button type=\"button\" class=\"vp-code-tab-nav\" role=\"tab\" aria-controls=\"codetab-210-2\" aria-selected=\"false\">python</button> <button type=\"button\" class=\"vp-code-tab-nav\" role=\"tab\" aria-controls=\"codetab-210-3\" aria-selected=\"false\">go</button> <button type=\"button\" class=\"vp-code-tab-nav\" role=\"tab\" aria-controls=\"codetab-210-4\" aria-selected=\"false\">javascript</button> <div class=\"vp-code-tab active\" id=\"codetab-210-0\" role=\"tabpanel\" aria-expanded=\"true\"><div class=\"vp-code-tab-title\">java</div><!--[--><div class=\"language-java line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"java\" style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;\"><pre class=\"shiki shiki-themes light-plus dark-plus vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\"> calculate</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">String</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> s) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">    Stack</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">&lt;</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">Integer</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">&gt; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">new</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\"> Stack</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">&lt;&gt;();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // record the numbers in the formula</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">    int</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // record the sign before num, initialized as +</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">    char</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> sign</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    for</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">; i &lt; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">length</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(); i++) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">        char</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">charAt</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(i);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">Character</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">isDigit</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(c)) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            num = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">10</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> * num + (c - </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'0'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        }</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (c == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || c == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'-'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || c == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'/'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || c == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'*'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || i == </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">length</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">() - </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">            int</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> pre</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">            switch</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (sign) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '+'</span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(num); </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">break</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '-'</span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(-num); </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">break</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">                // just take out the previous number and perform corresponding operation</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '*'</span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">                    pre = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">pop</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(pre * num);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                    break</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '/'</span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">                    pre = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">pop</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(pre / num);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                    break</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">            // update the sign to the current sign, reset the number to zero</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            sign = c;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            num = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // sum up all the results in the stack to get the answer</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">    int</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> res</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    while</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (!</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">isEmpty</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">()) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        res += </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">pop</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    return</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> res;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">}</span></span></code></pre><div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0;\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><!--]--></div> <div class=\"vp-code-tab-title\">java</div> <div class=\"language-java line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"java\" style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;\"><pre class=\"shiki shiki-themes light-plus dark-plus vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\"> calculate</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">String</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> s) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">    Stack</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">&lt;</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">Integer</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">&gt; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">new</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\"> Stack</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">&lt;&gt;();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // record the numbers in the formula</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">    int</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // record the sign before num, initialized as +</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">    char</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> sign</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    for</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">; i &lt; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">length</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(); i++) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">        char</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">charAt</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(i);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">Character</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">isDigit</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(c)) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            num = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">10</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> * num + (c - </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'0'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        }</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (c == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || c == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'-'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || c == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'/'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || c == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'*'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || i == </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">length</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">() - </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">            int</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> pre</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">            switch</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (sign) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '+'</span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(num); </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">break</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '-'</span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(-num); </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">break</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">                // just take out the previous number and perform corresponding operation</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '*'</span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">                    pre = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">pop</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(pre * num);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                    break</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '/'</span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">                    pre = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">pop</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(pre / num);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                    break</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">            // update the sign to the current sign, reset the number to zero</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            sign = c;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            num = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // sum up all the results in the stack to get the answer</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">    int</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> res</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    while</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (!</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">isEmpty</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">()) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        res += </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">pop</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    return</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> res;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">}</span></span></code></pre><div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0;\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div> <pre class=\"shiki shiki-themes light-plus dark-plus vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\"> calculate</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">String</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> s) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">    Stack</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">&lt;</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">Integer</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">&gt; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">new</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\"> Stack</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">&lt;&gt;();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // record the numbers in the formula</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">    int</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // record the sign before num, initialized as +</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">    char</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> sign</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    for</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">; i &lt; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">length</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(); i++) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">        char</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">charAt</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(i);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">Character</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">isDigit</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(c)) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            num = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">10</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> * num + (c - </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'0'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        }</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (c == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || c == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'-'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || c == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'/'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || c == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'*'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || i == </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">length</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">() - </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">            int</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> pre</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">            switch</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (sign) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '+'</span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(num); </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">break</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '-'</span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(-num); </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">break</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">                // just take out the previous number and perform corresponding operation</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '*'</span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">                    pre = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">pop</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(pre * num);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                    break</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '/'</span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">                    pre = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">pop</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(pre / num);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                    break</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">            // update the sign to the current sign, reset the number to zero</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            sign = c;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            num = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // sum up all the results in the stack to get the answer</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">    int</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> res</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    while</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (!</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">isEmpty</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">()) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        res += </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">pop</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    return</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> res;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">}</span></span></code></pre> <code><span class=\"line\"><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\"> calculate</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">String</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> s) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">    Stack</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">&lt;</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">Integer</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">&gt; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">new</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\"> Stack</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">&lt;&gt;();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // record the numbers in the formula</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">    int</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // record the sign before num, initialized as +</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">    char</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> sign</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    for</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">; i &lt; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">length</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(); i++) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">        char</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">charAt</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(i);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">Character</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">isDigit</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(c)) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            num = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">10</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> * num + (c - </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'0'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        }</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (c == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || c == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'-'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || c == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'/'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || c == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'*'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || i == </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">length</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">() - </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">            int</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> pre</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">            switch</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (sign) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '+'</span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(num); </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">break</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '-'</span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(-num); </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">break</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">                // just take out the previous number and perform corresponding operation</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '*'</span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">                    pre = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">pop</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(pre * num);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                    break</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '/'</span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">                    pre = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">pop</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(pre / num);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                    break</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">            // update the sign to the current sign, reset the number to zero</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            sign = c;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            num = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // sum up all the results in the stack to get the answer</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">    int</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> res</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    while</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (!</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">isEmpty</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">()) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        res += </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">pop</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    return</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> res;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">}</span></span></code> <span class=\"line\"><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\"> calculate</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">String</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> s) {</span></span> <span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span> <span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\"> calculate</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span> <span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">String</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> s) {</span> <span class=\"line\"><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">    Stack</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">&lt;</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">Integer</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">&gt; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">new</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\"> Stack</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">&lt;&gt;();</span></span> <span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">    Stack</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">&lt;</span> <span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">Integer</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">&gt; </span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span> <span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">new</span> <span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\"> Stack</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">&lt;&gt;();</span> <span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // record the numbers in the formula</span></span> <span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // record the numbers in the formula</span> <span class=\"line\"><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">    int</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span> <span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">    int</span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> num</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span> <span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span> <span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // record the sign before num, initialized as +</span></span> <span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // record the sign before num, initialized as +</span> <span class=\"line\"><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">    char</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> sign</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span> <span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">    char</span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> sign</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span> <span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span> <span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    for</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">; i &lt; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">length</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(); i++) {</span></span> <span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    for</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span> <span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> i</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span> <span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">; i &lt; </span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span> <span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">length</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(); i++) {</span> <span class=\"line\"><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">        char</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">charAt</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(i);</span></span> <span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">        char</span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> c</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span> <span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">charAt</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(i);</span> <span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">Character</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">isDigit</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(c)) {</span></span> <span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">Character</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span> <span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">isDigit</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(c)) {</span> <span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            num = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">10</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> * num + (c - </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'0'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">);</span></span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            num = </span> <span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">10</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> * num + (c - </span> <span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'0'</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">);</span> <span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        }</span></span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        }</span> <span class=\"line\"></span> <span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (c == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || c == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'-'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || c == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'/'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || c == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'*'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || i == </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">length</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">() - </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) {</span></span> <span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (c == </span> <span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || c == </span> <span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'-'</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || c == </span> <span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'/'</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || c == </span> <span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'*'</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || i == </span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span> <span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">length</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">() - </span> <span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) {</span> <span class=\"line\"><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">            int</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> pre</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span> <span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">            int</span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> pre</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span> <span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">            switch</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (sign) {</span></span> <span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">            switch</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (sign) {</span> <span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '+'</span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">:</span></span> <span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span> <span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '+'</span> <span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">:</span> <span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(num); </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">break</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stk</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span> <span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(num); </span> <span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">break</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span> <span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '-'</span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">:</span></span> <span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span> <span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '-'</span> <span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">:</span> <span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(-num); </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">break</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stk</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span> <span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(-num); </span> <span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">break</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span> <span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">                // just take out the previous number and perform corresponding operation</span></span> <span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">                // just take out the previous number and perform corresponding operation</span> <span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '*'</span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">:</span></span> <span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span> <span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '*'</span> <span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">:</span> <span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">                    pre = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">pop</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">();</span></span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">                    pre = </span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span> <span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">pop</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">();</span> <span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(pre * num);</span></span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stk</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span> <span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(pre * num);</span> <span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                    break</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span> <span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                    break</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span> <span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '/'</span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">:</span></span> <span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span> <span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '/'</span> <span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">:</span> <span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">                    pre = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">pop</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">();</span></span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">                    pre = </span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span> <span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">pop</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">();</span> <span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(pre / num);</span></span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stk</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span> <span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(pre / num);</span> <span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                    break</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span> <span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                    break</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span> <span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            }</span></span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            }</span> <span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">            // update the sign to the current sign, reset the number to zero</span></span> <span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">            // update the sign to the current sign, reset the number to zero</span> <span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            sign = c;</span></span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            sign = c;</span> <span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            num = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            num = </span> <span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span> <span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        }</span></span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        }</span> <span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span></span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span> <span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // sum up all the results in the stack to get the answer</span></span> <span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // sum up all the results in the stack to get the answer</span> <span class=\"line\"><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">    int</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> res</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span> <span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">    int</span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> res</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span> <span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span> <span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    while</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (!</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">isEmpty</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">()) {</span></span> <span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    while</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (!</span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span> <span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">isEmpty</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">()) {</span> <span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        res += </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">pop</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">();</span></span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        res += </span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span> <span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">pop</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">();</span> <span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span></span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span> <span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    return</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> res;</span></span> <span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    return</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> res;</span> <span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">}</span></span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">}</span> <div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0;\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"vp-code-tab\" id=\"codetab-210-1\" role=\"tabpanel\" aria-expanded=\"false\"><div class=\"vp-code-tab-title\">cpp</div><!--[--><div class=\"language-cpp line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"cpp\" style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;\"><pre class=\"shiki shiki-themes light-plus dark-plus vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">int</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\"> calculate</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">string</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    stack&lt;</span><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">&gt; stk;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // record the numbers in the formula</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> num = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // record the sign before num, initialized to +</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    char</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> sign = </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    for</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> i = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">; i &lt; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">length</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(); i++) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">        char</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> c = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">[i];</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">isdigit</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(c)) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            num = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">10</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> * num + (c - </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'0'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        }</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (c == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || c == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'-'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || c == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'/'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || c == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'*'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || i == </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">length</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">() - </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">            int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> pre;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">            switch</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (sign) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(num); </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">break</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '-'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(-num); </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">break</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">                // just take out the previous number for the corresponding operation</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '*'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">                    pre = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">top</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(); </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">pop</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(pre * num);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                    break</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '/'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">                    pre = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">top</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(); </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">pop</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(pre / num);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                    break</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">            // update the sign to the current sign, reset the number to zero</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            sign = c;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            num = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // summing up all the results in the stack gives the answer</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> res = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    while</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (!</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">empty</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">()) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        res += </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">top</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(); </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">pop</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    return</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> res;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">}</span></span></code></pre><div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0;\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><!--]--></div> <div class=\"vp-code-tab-title\">cpp</div> <div class=\"language-cpp line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"cpp\" style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;\"><pre class=\"shiki shiki-themes light-plus dark-plus vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">int</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\"> calculate</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">string</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    stack&lt;</span><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">&gt; stk;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // record the numbers in the formula</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> num = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // record the sign before num, initialized to +</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    char</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> sign = </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    for</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> i = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">; i &lt; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">length</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(); i++) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">        char</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> c = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">[i];</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">isdigit</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(c)) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            num = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">10</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> * num + (c - </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'0'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        }</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (c == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || c == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'-'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || c == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'/'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || c == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'*'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || i == </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">length</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">() - </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">            int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> pre;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">            switch</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (sign) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(num); </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">break</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '-'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(-num); </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">break</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">                // just take out the previous number for the corresponding operation</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '*'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">                    pre = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">top</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(); </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">pop</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(pre * num);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                    break</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '/'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">                    pre = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">top</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(); </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">pop</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(pre / num);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                    break</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">            // update the sign to the current sign, reset the number to zero</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            sign = c;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            num = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // summing up all the results in the stack gives the answer</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> res = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    while</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (!</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">empty</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">()) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        res += </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">top</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(); </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">pop</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    return</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> res;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">}</span></span></code></pre><div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0;\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div> <pre class=\"shiki shiki-themes light-plus dark-plus vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">int</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\"> calculate</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">string</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    stack&lt;</span><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">&gt; stk;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // record the numbers in the formula</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> num = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // record the sign before num, initialized to +</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    char</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> sign = </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    for</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> i = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">; i &lt; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">length</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(); i++) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">        char</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> c = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">[i];</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">isdigit</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(c)) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            num = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">10</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> * num + (c - </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'0'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        }</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (c == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || c == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'-'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || c == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'/'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || c == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'*'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || i == </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">length</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">() - </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">            int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> pre;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">            switch</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (sign) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(num); </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">break</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '-'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(-num); </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">break</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">                // just take out the previous number for the corresponding operation</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '*'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">                    pre = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">top</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(); </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">pop</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(pre * num);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                    break</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '/'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">                    pre = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">top</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(); </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">pop</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(pre / num);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                    break</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">            // update the sign to the current sign, reset the number to zero</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            sign = c;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            num = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // summing up all the results in the stack gives the answer</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> res = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    while</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (!</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">empty</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">()) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        res += </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">top</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(); </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">pop</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    return</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> res;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">}</span></span></code></pre> <code><span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">int</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\"> calculate</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">string</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    stack&lt;</span><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">&gt; stk;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // record the numbers in the formula</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> num = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // record the sign before num, initialized to +</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    char</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> sign = </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    for</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> i = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">; i &lt; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">length</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(); i++) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">        char</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> c = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">[i];</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">isdigit</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(c)) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            num = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">10</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> * num + (c - </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'0'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        }</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (c == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || c == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'-'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || c == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'/'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || c == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'*'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || i == </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">length</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">() - </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">            int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> pre;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">            switch</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (sign) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(num); </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">break</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '-'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(-num); </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">break</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">                // just take out the previous number for the corresponding operation</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '*'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">                    pre = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">top</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(); </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">pop</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(pre * num);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                    break</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '/'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">                    pre = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">top</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(); </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">pop</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(pre / num);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                    break</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">            // update the sign to the current sign, reset the number to zero</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            sign = c;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            num = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // summing up all the results in the stack gives the answer</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> res = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    while</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (!</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">empty</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">()) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        res += </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">top</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(); </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">pop</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    return</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> res;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">}</span></span></code> <span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">int</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\"> calculate</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">string</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) {</span></span> <span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">int</span> <span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\"> calculate</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span> <span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">string</span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> s</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) {</span> <span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    stack&lt;</span><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">&gt; stk;</span></span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    stack&lt;</span> <span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">int</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">&gt; stk;</span> <span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // record the numbers in the formula</span></span> <span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // record the numbers in the formula</span> <span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> num = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span> <span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    int</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> num = </span> <span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span> <span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // record the sign before num, initialized to +</span></span> <span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // record the sign before num, initialized to +</span> <span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    char</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> sign = </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span> <span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    char</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> sign = </span> <span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span> <span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    for</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> i = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">; i &lt; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">length</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(); i++) {</span></span> <span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    for</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span> <span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">int</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> i = </span> <span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">; i &lt; </span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span> <span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">length</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(); i++) {</span> <span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">        char</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> c = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">[i];</span></span> <span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">        char</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> c = </span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">[i];</span> <span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">isdigit</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(c)) {</span></span> <span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span> <span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">isdigit</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(c)) {</span> <span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            num = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">10</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> * num + (c - </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'0'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">);</span></span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            num = </span> <span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">10</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> * num + (c - </span> <span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'0'</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">);</span> <span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        }</span></span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        }</span> <span class=\"line\"></span> <span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (c == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || c == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'-'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || c == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'/'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || c == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'*'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || i == </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">length</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">() - </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) {</span></span> <span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (c == </span> <span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || c == </span> <span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'-'</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || c == </span> <span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'/'</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || c == </span> <span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'*'</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || i == </span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span> <span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">length</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">() - </span> <span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) {</span> <span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">            int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> pre;</span></span> <span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">            int</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> pre;</span> <span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">            switch</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (sign) {</span></span> <span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">            switch</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (sign) {</span> <span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span> <span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span> <span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '+'</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span> <span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(num); </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">break</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stk</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span> <span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(num); </span> <span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">break</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span> <span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '-'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span> <span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span> <span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '-'</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span> <span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(-num); </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">break</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stk</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span> <span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(-num); </span> <span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">break</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span> <span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">                // just take out the previous number for the corresponding operation</span></span> <span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">                // just take out the previous number for the corresponding operation</span> <span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '*'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span> <span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span> <span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '*'</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span> <span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">                    pre = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">top</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(); </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">pop</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">();</span></span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">                    pre = </span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span> <span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">top</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(); </span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span> <span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">pop</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">();</span> <span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(pre * num);</span></span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stk</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span> <span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(pre * num);</span> <span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                    break</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span> <span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                    break</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span> <span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '/'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span> <span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span> <span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '/'</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span> <span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">                    pre = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">top</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(); </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">pop</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">();</span></span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">                    pre = </span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span> <span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">top</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(); </span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span> <span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">pop</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">();</span> <span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(pre / num);</span></span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stk</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span> <span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(pre / num);</span> <span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                    break</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span> <span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                    break</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span> <span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            }</span></span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            }</span> <span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">            // update the sign to the current sign, reset the number to zero</span></span> <span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">            // update the sign to the current sign, reset the number to zero</span> <span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            sign = c;</span></span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            sign = c;</span> <span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            num = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            num = </span> <span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span> <span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        }</span></span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        }</span> <span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span></span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span> <span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // summing up all the results in the stack gives the answer</span></span> <span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // summing up all the results in the stack gives the answer</span> <span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> res = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span> <span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    int</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> res = </span> <span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span> <span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    while</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (!</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">empty</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">()) {</span></span> <span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    while</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (!</span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span> <span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">empty</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">()) {</span> <span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        res += </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">top</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(); </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">pop</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">();</span></span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        res += </span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span> <span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">top</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(); </span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span> <span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">pop</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">();</span> <span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span></span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span> <span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    return</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> res;</span></span> <span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    return</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> res;</span> <span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">}</span></span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">}</span> <div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0;\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"vp-code-tab\" id=\"codetab-210-2\" role=\"tabpanel\" aria-expanded=\"false\"><div class=\"vp-code-tab-title\">python</div><!--[--><div class=\"language-python line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"python\" style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;\"><pre class=\"shiki shiki-themes light-plus dark-plus vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">def</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\"> calculate</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">: </span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">str</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) -&gt; </span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    stk = []</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    # record the numbers in the equation</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    num = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    # record the sign before num, initialized as +</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    sign = </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">\"+\"</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    for</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> i </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">in</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\"> range</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">len</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(s)):</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> s[i].isdigit():</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            num = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">10</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> * num + </span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(s[i])</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        # encounter +,-,*,/ or reach the end</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> s[i] </span><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">in</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> \"+-*/\"</span><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\"> or</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> i == </span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">len</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(s) - </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">            if</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> sign == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">\"+\"</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">                stk.append(num)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">            elif</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> sign == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">\"-\"</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">                stk.append(-num)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">            # just take out the previous number and perform the corresponding operation</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">            elif</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> sign == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">\"*\"</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">                stk[-</span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">] *= num</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">            else</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">                # encounter division sign, need to take out the</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">                # previous number and perform division</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">                stk[-</span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">] = </span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(stk[-</span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">] / num)</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">            # update the sign to the current sign, reset the number to zero</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            sign = s[i]</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            num = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    # sum all results in the stack to get the answer</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    return</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\"> sum</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(stk)</span></span></code></pre><div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0;\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><!--]--></div> <div class=\"vp-code-tab-title\">python</div> <div class=\"language-python line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"python\" style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;\"><pre class=\"shiki shiki-themes light-plus dark-plus vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">def</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\"> calculate</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">: </span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">str</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) -&gt; </span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    stk = []</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    # record the numbers in the equation</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    num = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    # record the sign before num, initialized as +</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    sign = </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">\"+\"</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    for</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> i </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">in</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\"> range</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">len</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(s)):</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> s[i].isdigit():</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            num = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">10</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> * num + </span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(s[i])</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        # encounter +,-,*,/ or reach the end</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> s[i] </span><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">in</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> \"+-*/\"</span><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\"> or</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> i == </span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">len</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(s) - </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">            if</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> sign == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">\"+\"</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">                stk.append(num)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">            elif</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> sign == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">\"-\"</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">                stk.append(-num)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">            # just take out the previous number and perform the corresponding operation</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">            elif</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> sign == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">\"*\"</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">                stk[-</span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">] *= num</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">            else</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">                # encounter division sign, need to take out the</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">                # previous number and perform division</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">                stk[-</span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">] = </span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(stk[-</span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">] / num)</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">            # update the sign to the current sign, reset the number to zero</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            sign = s[i]</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            num = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    # sum all results in the stack to get the answer</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    return</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\"> sum</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(stk)</span></span></code></pre><div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0;\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div> <pre class=\"shiki shiki-themes light-plus dark-plus vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">def</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\"> calculate</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">: </span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">str</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) -&gt; </span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    stk = []</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    # record the numbers in the equation</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    num = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    # record the sign before num, initialized as +</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    sign = </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">\"+\"</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    for</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> i </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">in</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\"> range</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">len</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(s)):</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> s[i].isdigit():</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            num = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">10</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> * num + </span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(s[i])</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        # encounter +,-,*,/ or reach the end</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> s[i] </span><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">in</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> \"+-*/\"</span><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\"> or</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> i == </span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">len</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(s) - </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">            if</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> sign == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">\"+\"</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">                stk.append(num)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">            elif</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> sign == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">\"-\"</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">                stk.append(-num)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">            # just take out the previous number and perform the corresponding operation</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">            elif</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> sign == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">\"*\"</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">                stk[-</span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">] *= num</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">            else</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">                # encounter division sign, need to take out the</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">                # previous number and perform division</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">                stk[-</span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">] = </span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(stk[-</span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">] / num)</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">            # update the sign to the current sign, reset the number to zero</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            sign = s[i]</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            num = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    # sum all results in the stack to get the answer</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    return</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\"> sum</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(stk)</span></span></code></pre> <code><span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">def</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\"> calculate</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">: </span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">str</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) -&gt; </span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    stk = []</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    # record the numbers in the equation</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    num = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    # record the sign before num, initialized as +</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    sign = </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">\"+\"</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    for</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> i </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">in</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\"> range</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">len</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(s)):</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> s[i].isdigit():</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            num = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">10</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> * num + </span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(s[i])</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        # encounter +,-,*,/ or reach the end</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> s[i] </span><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">in</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> \"+-*/\"</span><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\"> or</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> i == </span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">len</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(s) - </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">            if</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> sign == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">\"+\"</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">                stk.append(num)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">            elif</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> sign == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">\"-\"</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">                stk.append(-num)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">            # just take out the previous number and perform the corresponding operation</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">            elif</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> sign == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">\"*\"</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">                stk[-</span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">] *= num</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">            else</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">                # encounter division sign, need to take out the</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">                # previous number and perform division</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">                stk[-</span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">] = </span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(stk[-</span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">] / num)</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">            # update the sign to the current sign, reset the number to zero</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            sign = s[i]</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            num = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    # sum all results in the stack to get the answer</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    return</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\"> sum</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(stk)</span></span></code> <span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">def</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\"> calculate</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">: </span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">str</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) -&gt; </span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span> <span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">def</span> <span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\"> calculate</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">: </span> <span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">str</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) -&gt; </span> <span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span> <span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    stk = []</span></span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    stk = []</span> <span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    # record the numbers in the equation</span></span> <span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    # record the numbers in the equation</span> <span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    num = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span></span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    num = </span> <span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span> <span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    # record the sign before num, initialized as +</span></span> <span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    # record the sign before num, initialized as +</span> <span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    sign = </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">\"+\"</span></span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    sign = </span> <span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">\"+\"</span> <span class=\"line\"></span> <span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    for</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> i </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">in</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\"> range</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">len</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(s)):</span></span> <span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    for</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> i </span> <span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">in</span> <span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\"> range</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span> <span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">len</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(s)):</span> <span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> s[i].isdigit():</span></span> <span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> s[i].isdigit():</span> <span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            num = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">10</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> * num + </span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(s[i])</span></span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            num = </span> <span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">10</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> * num + </span> <span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(s[i])</span> <span class=\"line\"></span> <span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        # encounter +,-,*,/ or reach the end</span></span> <span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        # encounter +,-,*,/ or reach the end</span> <span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> s[i] </span><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">in</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> \"+-*/\"</span><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\"> or</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> i == </span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">len</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(s) - </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span> <span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> s[i] </span> <span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">in</span> <span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> \"+-*/\"</span> <span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\"> or</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> i == </span> <span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">len</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(s) - </span> <span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span> <span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">            if</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> sign == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">\"+\"</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span> <span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">            if</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> sign == </span> <span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">\"+\"</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span> <span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">                stk.append(num)</span></span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">                stk.append(num)</span> <span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">            elif</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> sign == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">\"-\"</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span> <span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">            elif</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> sign == </span> <span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">\"-\"</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span> <span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">                stk.append(-num)</span></span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">                stk.append(-num)</span> <span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">            # just take out the previous number and perform the corresponding operation</span></span> <span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">            # just take out the previous number and perform the corresponding operation</span> <span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">            elif</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> sign == </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">\"*\"</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span> <span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">            elif</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> sign == </span> <span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">\"*\"</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span> <span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">                stk[-</span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">] *= num</span></span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">                stk[-</span> <span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">] *= num</span> <span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">            else</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span> <span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">            else</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span> <span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">                # encounter division sign, need to take out the</span></span> <span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">                # encounter division sign, need to take out the</span> <span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">                # previous number and perform division</span></span> <span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">                # previous number and perform division</span> <span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">                stk[-</span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">] = </span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(stk[-</span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">] / num)</span></span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">                stk[-</span> <span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">] = </span> <span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(stk[-</span> <span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">] / num)</span> <span class=\"line\"></span> <span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">            # update the sign to the current sign, reset the number to zero</span></span> <span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">            # update the sign to the current sign, reset the number to zero</span> <span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            sign = s[i]</span></span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            sign = s[i]</span> <span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            num = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span></span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            num = </span> <span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span> <span class=\"line\"></span> <span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    # sum all results in the stack to get the answer</span></span> <span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    # sum all results in the stack to get the answer</span> <span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    return</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\"> sum</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(stk)</span></span> <span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    return</span> <span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\"> sum</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(stk)</span> <div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0;\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"vp-code-tab\" id=\"codetab-210-3\" role=\"tabpanel\" aria-expanded=\"false\"><div class=\"vp-code-tab-title\">go</div><!--[--><div class=\"language-go line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"go\" style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;\"><pre class=\"shiki shiki-themes light-plus dark-plus vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">func</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\"> calculate</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\"> string</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) </span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">  // initialize stack stk</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">  stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> := </span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">make</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">([]</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">, </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">  // record numbers in the expression</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">  num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> := </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">  // record the sign before num, initialized to +</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">  sign</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> := </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">  </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">  for</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">, </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> := </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">range</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    if</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> unicode</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">IsDigit</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">      num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">10</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">*</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> + </span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">-</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'0'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    if</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">==</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">==</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'-'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">==</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'/'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">==</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'*'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">==</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">len</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)-</span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">      var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> pre</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\"> int</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">      switch</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> sign</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">      case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // if the sign is +, push the number onto the stack</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">        stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">append</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">, </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">      case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '-'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // if the sign is -, push the negated number onto the stack</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">        stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">append</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">, -</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">      case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '*'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // if the sign is *, pop the top element of the stack, multiply it by</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // the current number, and push the result back onto the stack</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">        pre</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">[</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">len</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)-</span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">]</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">        stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">[:</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">len</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)-</span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">]</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">        stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">append</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">, </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">pre</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">*</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">      case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '/'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // if the sign is /, pop the top element of the stack, divide it by</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // the current number, and push the result back onto the stack</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">        pre</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">[</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">len</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)-</span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">]</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">        stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">[:</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">len</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)-</span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">]</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">        stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">append</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">, </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">pre</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">/</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">      }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">      // update the sign to the current sign, and reset the number to 0</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">      sign</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">rune</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">      num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">  }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">  // sum all the results in the stack to get the answer</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">  res</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> := </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">  for</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> _</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">, </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">v</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> := </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">range</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">    res</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> += </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">v</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">  }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">  </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">  return</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> res</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">}</span></span></code></pre><div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0;\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><!--]--></div> <div class=\"vp-code-tab-title\">go</div> <div class=\"language-go line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"go\" style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;\"><pre class=\"shiki shiki-themes light-plus dark-plus vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">func</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\"> calculate</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\"> string</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) </span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">  // initialize stack stk</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">  stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> := </span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">make</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">([]</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">, </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">  // record numbers in the expression</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">  num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> := </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">  // record the sign before num, initialized to +</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">  sign</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> := </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">  </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">  for</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">, </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> := </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">range</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    if</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> unicode</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">IsDigit</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">      num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">10</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">*</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> + </span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">-</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'0'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    if</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">==</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">==</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'-'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">==</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'/'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">==</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'*'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">==</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">len</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)-</span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">      var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> pre</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\"> int</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">      switch</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> sign</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">      case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // if the sign is +, push the number onto the stack</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">        stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">append</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">, </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">      case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '-'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // if the sign is -, push the negated number onto the stack</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">        stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">append</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">, -</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">      case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '*'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // if the sign is *, pop the top element of the stack, multiply it by</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // the current number, and push the result back onto the stack</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">        pre</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">[</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">len</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)-</span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">]</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">        stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">[:</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">len</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)-</span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">]</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">        stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">append</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">, </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">pre</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">*</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">      case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '/'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // if the sign is /, pop the top element of the stack, divide it by</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // the current number, and push the result back onto the stack</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">        pre</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">[</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">len</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)-</span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">]</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">        stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">[:</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">len</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)-</span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">]</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">        stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">append</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">, </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">pre</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">/</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">      }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">      // update the sign to the current sign, and reset the number to 0</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">      sign</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">rune</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">      num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">  }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">  // sum all the results in the stack to get the answer</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">  res</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> := </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">  for</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> _</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">, </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">v</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> := </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">range</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">    res</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> += </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">v</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">  }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">  </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">  return</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> res</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">}</span></span></code></pre><div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0;\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div> <pre class=\"shiki shiki-themes light-plus dark-plus vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">func</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\"> calculate</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\"> string</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) </span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">  // initialize stack stk</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">  stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> := </span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">make</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">([]</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">, </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">  // record numbers in the expression</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">  num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> := </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">  // record the sign before num, initialized to +</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">  sign</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> := </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">  </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">  for</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">, </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> := </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">range</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    if</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> unicode</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">IsDigit</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">      num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">10</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">*</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> + </span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">-</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'0'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    if</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">==</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">==</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'-'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">==</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'/'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">==</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'*'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">==</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">len</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)-</span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">      var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> pre</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\"> int</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">      switch</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> sign</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">      case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // if the sign is +, push the number onto the stack</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">        stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">append</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">, </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">      case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '-'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // if the sign is -, push the negated number onto the stack</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">        stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">append</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">, -</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">      case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '*'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // if the sign is *, pop the top element of the stack, multiply it by</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // the current number, and push the result back onto the stack</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">        pre</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">[</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">len</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)-</span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">]</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">        stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">[:</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">len</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)-</span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">]</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">        stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">append</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">, </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">pre</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">*</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">      case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '/'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // if the sign is /, pop the top element of the stack, divide it by</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // the current number, and push the result back onto the stack</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">        pre</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">[</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">len</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)-</span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">]</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">        stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">[:</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">len</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)-</span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">]</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">        stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">append</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">, </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">pre</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">/</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">      }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">      // update the sign to the current sign, and reset the number to 0</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">      sign</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">rune</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">      num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">  }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">  // sum all the results in the stack to get the answer</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">  res</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> := </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">  for</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> _</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">, </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">v</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> := </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">range</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">    res</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> += </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">v</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">  }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">  </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">  return</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> res</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">}</span></span></code></pre> <code><span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">func</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\"> calculate</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\"> string</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) </span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">  // initialize stack stk</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">  stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> := </span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">make</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">([]</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">, </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">  // record numbers in the expression</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">  num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> := </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">  // record the sign before num, initialized to +</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">  sign</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> := </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">  </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">  for</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">, </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> := </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">range</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    if</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> unicode</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">IsDigit</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">      num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">10</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">*</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> + </span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">-</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'0'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    if</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">==</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">==</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'-'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">==</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'/'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">==</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'*'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">==</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">len</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)-</span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">      var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> pre</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\"> int</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">      switch</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> sign</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">      case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // if the sign is +, push the number onto the stack</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">        stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">append</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">, </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">      case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '-'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // if the sign is -, push the negated number onto the stack</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">        stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">append</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">, -</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">      case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '*'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // if the sign is *, pop the top element of the stack, multiply it by</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // the current number, and push the result back onto the stack</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">        pre</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">[</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">len</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)-</span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">]</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">        stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">[:</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">len</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)-</span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">]</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">        stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">append</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">, </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">pre</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">*</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">      case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '/'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // if the sign is /, pop the top element of the stack, divide it by</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // the current number, and push the result back onto the stack</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">        pre</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">[</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">len</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)-</span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">]</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">        stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">[:</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">len</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)-</span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">]</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">        stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">append</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">, </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">pre</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">/</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">      }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">      // update the sign to the current sign, and reset the number to 0</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">      sign</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">rune</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">      num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">  }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">  // sum all the results in the stack to get the answer</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">  res</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> := </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">  for</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> _</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">, </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">v</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> := </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">range</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">    res</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> += </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">v</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">  }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">  </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">  return</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> res</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">}</span></span></code> <span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">func</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\"> calculate</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\"> string</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) </span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> {</span></span> <span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">func</span> <span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\"> calculate</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span> <span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\"> string</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) </span> <span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> {</span> <span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">  // initialize stack stk</span></span> <span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">  // initialize stack stk</span> <span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">  stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> := </span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">make</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">([]</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">, </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)</span></span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">  stk</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> := </span> <span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">make</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">([]</span> <span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">, </span> <span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)</span> <span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">  // record numbers in the expression</span></span> <span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">  // record numbers in the expression</span> <span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">  num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> := </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span></span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">  num</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> := </span> <span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span> <span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">  // record the sign before num, initialized to +</span></span> <span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">  // record the sign before num, initialized to +</span> <span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">  sign</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> := </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span></span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">  sign</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> := </span> <span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span> <span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">  </span></span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">  </span> <span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">  for</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">, </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> := </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">range</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> {</span></span> <span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">  for</span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> i</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">, </span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> := </span> <span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">range</span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> s</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> {</span> <span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    if</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> unicode</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">IsDigit</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) {</span></span> <span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    if</span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> unicode</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span> <span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">IsDigit</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) {</span> <span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">      num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">10</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">*</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> + </span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">-</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'0'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)</span></span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">      num</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span> <span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">10</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">*</span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">num</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> + </span> <span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">int</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">-</span> <span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'0'</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)</span> <span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span></span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span> <span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    </span></span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    </span> <span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    if</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">==</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">==</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'-'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">==</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'/'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">==</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'*'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">==</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">len</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)-</span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> {</span></span> <span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    if</span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> c</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">==</span> <span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || </span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">==</span> <span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'-'</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || </span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">==</span> <span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'/'</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || </span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">==</span> <span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'*'</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || </span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">==</span> <span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">len</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)-</span> <span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> {</span> <span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">      var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> pre</span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\"> int</span></span> <span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">      var</span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> pre</span> <span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\"> int</span> <span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">      switch</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> sign</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> {</span></span> <span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">      switch</span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> sign</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> {</span> <span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">      case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span> <span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">      case</span> <span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '+'</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span> <span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // if the sign is +, push the number onto the stack</span></span> <span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // if the sign is +, push the number onto the stack</span> <span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">        stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">append</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">, </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)</span></span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">        stk</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span> <span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">append</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">, </span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">num</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)</span> <span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">      case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '-'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span> <span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">      case</span> <span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '-'</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span> <span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // if the sign is -, push the negated number onto the stack</span></span> <span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // if the sign is -, push the negated number onto the stack</span> <span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">        stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">append</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">, -</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)</span></span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">        stk</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span> <span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">append</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">, -</span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">num</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)</span> <span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">      case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '*'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span> <span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">      case</span> <span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '*'</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span> <span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // if the sign is *, pop the top element of the stack, multiply it by</span></span> <span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // if the sign is *, pop the top element of the stack, multiply it by</span> <span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // the current number, and push the result back onto the stack</span></span> <span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // the current number, and push the result back onto the stack</span> <span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">        pre</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">[</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">len</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)-</span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">]</span></span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">        pre</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">[</span> <span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">len</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)-</span> <span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">]</span> <span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">        stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">[:</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">len</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)-</span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">]</span></span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">        stk</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">[:</span> <span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">len</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)-</span> <span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">]</span> <span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">        stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">append</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">, </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">pre</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">*</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)</span></span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">        stk</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span> <span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">append</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">, </span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">pre</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">*</span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">num</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)</span> <span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">      case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '/'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span> <span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">      case</span> <span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '/'</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span> <span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // if the sign is /, pop the top element of the stack, divide it by</span></span> <span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // if the sign is /, pop the top element of the stack, divide it by</span> <span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // the current number, and push the result back onto the stack</span></span> <span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">        // the current number, and push the result back onto the stack</span> <span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">        pre</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">[</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">len</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)-</span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">]</span></span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">        pre</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">[</span> <span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">len</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)-</span> <span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">]</span> <span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">        stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">[:</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">len</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)-</span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">]</span></span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">        stk</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">[:</span> <span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">len</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)-</span> <span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">]</span> <span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">        stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">append</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">, </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">pre</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">/</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)</span></span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">        stk</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span> <span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">append</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stk</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">, </span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">pre</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">/</span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">num</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)</span> <span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">      }</span></span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">      }</span> <span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">      // update the sign to the current sign, and reset the number to 0</span></span> <span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">      // update the sign to the current sign, and reset the number to 0</span> <span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">      sign</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">rune</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)</span></span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">      sign</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span> <span style=\"--shiki-light:#267F99;--shiki-dark:#4EC9B0;\">rune</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)</span> <span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">      num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span></span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">      num</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span> <span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span> <span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span></span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span> <span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">  }</span></span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">  }</span> <span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">  // sum all the results in the stack to get the answer</span></span> <span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">  // sum all the results in the stack to get the answer</span> <span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">  res</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> := </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span></span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">  res</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> := </span> <span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span> <span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">  for</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> _</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">, </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">v</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> := </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">range</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> stk</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> {</span></span> <span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">  for</span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> _</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">, </span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">v</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> := </span> <span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">range</span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> stk</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> {</span> <span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">    res</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> += </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">v</span></span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">    res</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> += </span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">v</span> <span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">  }</span></span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">  }</span> <span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">  </span></span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">  </span> <span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">  return</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> res</span></span> <span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">  return</span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> res</span> <span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">}</span></span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">}</span> <div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0;\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"vp-code-tab\" id=\"codetab-210-4\" role=\"tabpanel\" aria-expanded=\"false\"><div class=\"vp-code-tab-title\">javascript</div><!--[--><div class=\"language-javascript line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"javascript\" style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;\"><pre class=\"shiki shiki-themes light-plus dark-plus vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">var</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\"> calculate</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">function</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> stack</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = [];</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // record the numbers in the formula</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // record the sign before num, initialized to +</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> sign</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    for</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> &lt; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">length</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">++) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">        var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">[</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">];</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (!</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">isNaN</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">            num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">10</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> * </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> + (</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> - </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'0'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        }</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> === </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> === </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'-'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> === </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'/'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> === </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'*'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> === </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">length</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> - </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">            var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> pre</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">            switch</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">sign</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">                // just take out the previous number and perform the corresponding operation</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stack</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">); </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">break</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '-'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stack</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(-</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">); </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">break</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '*'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    pre</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stack</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">pop</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stack</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">pre</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> * </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">); </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                    break</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '/'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    pre</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stack</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">pop</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stack</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">Math</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">trunc</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">pre</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> / </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">));</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                    break</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">            // update the sign to the current sign, and reset the number to zero</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">            sign</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">            num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // sum all the results in the stack to get the answer</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> res</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    while</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stack</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">length</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> !== </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">        res</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> += </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stack</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">pop</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    return</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> res</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">};</span></span></code></pre><div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0;\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><!--]--></div> <div class=\"vp-code-tab-title\">javascript</div> <div class=\"language-javascript line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"javascript\" style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;\"><pre class=\"shiki shiki-themes light-plus dark-plus vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">var</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\"> calculate</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">function</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> stack</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = [];</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // record the numbers in the formula</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // record the sign before num, initialized to +</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> sign</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    for</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> &lt; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">length</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">++) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">        var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">[</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">];</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (!</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">isNaN</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">            num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">10</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> * </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> + (</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> - </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'0'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        }</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> === </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> === </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'-'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> === </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'/'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> === </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'*'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> === </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">length</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> - </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">            var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> pre</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">            switch</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">sign</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">                // just take out the previous number and perform the corresponding operation</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stack</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">); </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">break</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '-'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stack</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(-</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">); </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">break</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '*'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    pre</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stack</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">pop</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stack</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">pre</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> * </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">); </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                    break</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '/'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    pre</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stack</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">pop</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stack</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">Math</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">trunc</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">pre</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> / </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">));</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                    break</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">            // update the sign to the current sign, and reset the number to zero</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">            sign</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">            num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // sum all the results in the stack to get the answer</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> res</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    while</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stack</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">length</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> !== </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">        res</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> += </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stack</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">pop</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    return</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> res</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">};</span></span></code></pre><div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0;\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div> <pre class=\"shiki shiki-themes light-plus dark-plus vp-code\"><code><span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">var</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\"> calculate</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">function</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> stack</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = [];</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // record the numbers in the formula</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // record the sign before num, initialized to +</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> sign</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    for</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> &lt; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">length</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">++) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">        var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">[</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">];</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (!</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">isNaN</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">            num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">10</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> * </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> + (</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> - </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'0'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        }</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> === </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> === </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'-'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> === </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'/'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> === </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'*'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> === </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">length</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> - </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">            var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> pre</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">            switch</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">sign</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">                // just take out the previous number and perform the corresponding operation</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stack</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">); </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">break</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '-'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stack</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(-</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">); </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">break</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '*'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    pre</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stack</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">pop</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stack</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">pre</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> * </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">); </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                    break</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '/'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    pre</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stack</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">pop</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stack</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">Math</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">trunc</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">pre</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> / </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">));</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                    break</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">            // update the sign to the current sign, and reset the number to zero</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">            sign</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">            num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // sum all the results in the stack to get the answer</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> res</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    while</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stack</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">length</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> !== </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">        res</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> += </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stack</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">pop</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    return</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> res</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">};</span></span></code></pre> <code><span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">var</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\"> calculate</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">function</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> stack</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = [];</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // record the numbers in the formula</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // record the sign before num, initialized to +</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> sign</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    for</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> &lt; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">length</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">++) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">        var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">[</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">];</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (!</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">isNaN</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">            num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">10</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> * </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> + (</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> - </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'0'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        }</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> === </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> === </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'-'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> === </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'/'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> === </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'*'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> === </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">length</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> - </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">            var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> pre</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">            switch</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">sign</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">                // just take out the previous number and perform the corresponding operation</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stack</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">); </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">break</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '-'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stack</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(-</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">); </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">break</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '*'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    pre</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stack</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">pop</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stack</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">pre</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> * </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">); </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                    break</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '/'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    pre</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stack</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">pop</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stack</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">Math</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">trunc</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">pre</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> / </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">));</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                    break</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">            // update the sign to the current sign, and reset the number to zero</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">            sign</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">            num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // sum all the results in the stack to get the answer</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> res</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    while</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stack</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">length</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> !== </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">        res</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> += </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stack</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">pop</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">();</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    return</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> res</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">};</span></span></code> <span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">var</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\"> calculate</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">function</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) {</span></span> <span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">var</span> <span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\"> calculate</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span> <span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">function</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) {</span> <span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> stack</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = [];</span></span> <span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    var</span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> stack</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = [];</span> <span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // record the numbers in the formula</span></span> <span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // record the numbers in the formula</span> <span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span> <span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    var</span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> num</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span> <span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span> <span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // record the sign before num, initialized to +</span></span> <span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // record the sign before num, initialized to +</span> <span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> sign</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span> <span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    var</span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> sign</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span> <span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span> <span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    for</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> &lt; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">length</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">; </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">++) {</span></span> <span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    for</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span> <span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">var</span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> i</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span> <span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">; </span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> &lt; </span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">length</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">; </span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">++) {</span> <span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">        var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">[</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">];</span></span> <span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">        var</span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> c</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">[</span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">];</span> <span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (!</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">isNaN</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)) {</span></span> <span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (!</span> <span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">isNaN</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">)) {</span> <span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">            num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">10</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> * </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> + (</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> - </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'0'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">);</span></span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">            num</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span> <span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">10</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> * </span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">num</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> + (</span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> - </span> <span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'0'</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">);</span> <span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        }</span></span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        }</span> <span class=\"line\"></span> <span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> === </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> === </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'-'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> === </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'/'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> === </span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'*'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> === </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">length</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> - </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) {</span></span> <span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">        if</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> === </span> <span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'+'</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || </span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> === </span> <span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'-'</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || </span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> === </span> <span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'/'</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || </span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> === </span> <span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\">'*'</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> || </span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">i</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> === </span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">s</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">length</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> - </span> <span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">1</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) {</span> <span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">            var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> pre</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span> <span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">            var</span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> pre</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span> <span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">            switch</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">sign</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) {</span></span> <span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">            switch</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">sign</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) {</span> <span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">                // just take out the previous number and perform the corresponding operation</span></span> <span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">                // just take out the previous number and perform the corresponding operation</span> <span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '+'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span> <span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span> <span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '+'</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span> <span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stack</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">); </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">break</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stack</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span> <span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">num</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">); </span> <span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">break</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span> <span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '-'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span> <span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span> <span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '-'</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span> <span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stack</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(-</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">); </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">break</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stack</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span> <span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(-</span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">num</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">); </span> <span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">break</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span> <span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '*'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span> <span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span> <span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '*'</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span> <span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    pre</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stack</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">pop</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">();</span></span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    pre</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stack</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span> <span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">pop</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">();</span> <span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stack</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">pre</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> * </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">); </span></span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stack</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span> <span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">pre</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> * </span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">num</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">); </span> <span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                    break</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span> <span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                    break</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span> <span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span><span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '/'</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span></span> <span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                case</span> <span style=\"--shiki-light:#A31515;--shiki-dark:#CE9178;\"> '/'</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">:</span> <span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    pre</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stack</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">pop</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">();</span></span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    pre</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stack</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span> <span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">pop</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">();</span> <span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stack</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">Math</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">trunc</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">pre</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> / </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">));</span></span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">                    stack</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span> <span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">push</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">Math</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span> <span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">trunc</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">(</span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">pre</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> / </span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">num</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">));</span> <span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                    break</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span> <span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">                    break</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span> <span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            }</span></span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">            }</span> <span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">            // update the sign to the current sign, and reset the number to zero</span></span> <span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">            // update the sign to the current sign, and reset the number to zero</span> <span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">            sign</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">            sign</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">c</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span> <span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">            num</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">            num</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span> <span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span> <span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        }</span></span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">        }</span> <span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span></span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span> <span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // sum all the results in the stack to get the answer</span></span> <span style=\"--shiki-light:#008000;--shiki-dark:#6A9955;\">    // sum all the results in the stack to get the answer</span> <span class=\"line\"><span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    var</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> res</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span> <span style=\"--shiki-light:#0000FF;--shiki-dark:#569CD6;\">    var</span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> res</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> = </span> <span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span> <span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    while</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stack</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">length</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> !== </span><span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) {</span></span> <span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    while</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> (</span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stack</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">length</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> !== </span> <span style=\"--shiki-light:#098658;--shiki-dark:#B5CEA8;\">0</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">) {</span> <span class=\"line\"><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">        res</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> += </span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stack</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span><span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">pop</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">();</span></span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">        res</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\"> += </span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\">stack</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">.</span> <span style=\"--shiki-light:#795E26;--shiki-dark:#DCDCAA;\">pop</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">();</span> <span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span></span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">    }</span> <span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    return</span><span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> res</span><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span></span> <span style=\"--shiki-light:#AF00DB;--shiki-dark:#C586C0;\">    return</span> <span style=\"--shiki-light:#001080;--shiki-dark:#9CDCFE;\"> res</span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">;</span> <span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">};</span></span> <span style=\"--shiki-light:#000000;--shiki-dark:#D4D4D4;\">};</span> <div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0;\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"line-number\"></div> <div class=\"img-content\"><img src=\"/algo/images/calculator/3.jpg\" alt class=\"myimage\" loading=\"lazy\" photo-swipe=\"\"></div> <img src=\"/algo/images/calculator/3.jpg\" alt class=\"myimage\" loading=\"lazy\" photo-swipe=\"\"> <p><strong>Multiplication and division have higher priority than addition and subtraction. This means you combine them with the top number in the stack, while addition and subtraction just push their number into the stack.</strong></p> <strong>Multiplication and division have higher priority than addition and subtraction. This means you combine them with the top number in the stack, while addition and subtraction just push their number into the stack.</strong> <p>Now let's think about spaces in the string. In our code, there is no need to handle spaces specially. Look at the <code>if</code> conditions: if the character <code>c</code> is a space, we just skip it.</p> <code>if</code> <code>c</code> <p>Now, our algorithm can calculate addition, subtraction, multiplication, and division correctly, and automatically ignores spaces. The last step is to make the algorithm handle parentheses correctly.</p> <h2 class=\"hidden-for-toc\" id=\"_4-handling-parentheses\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#_4-handling-parentheses\"><span>4. Handling Parentheses</span></a></h2> <a class=\"header-anchor\" href=\"#_4-handling-parentheses\"><span>4. Handling Parentheses</span></a> <span>4. Handling Parentheses</span> <h2 class=\"hidden-for-toc\" id=\"_5-summary\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#_5-summary\"><span>5. Summary</span></a></h2> <a class=\"header-anchor\" href=\"#_5-summary\"><span>5. Summary</span></a> <span>5. Summary</span> <div id=\"hidden_part\" class=\"paywall\"><div><div class=\"css-1p3hq3p ant-spin ant-spin-spinning\" aria-live=\"polite\" aria-busy=\"true\"><span class=\"ant-spin-dot ant-spin-dot-spin\"><i class=\"ant-spin-dot-item\"></i><i class=\"ant-spin-dot-item\"></i><i class=\"ant-spin-dot-item\"></i><i class=\"ant-spin-dot-item\"></i></span><!----></div><p>loading...</p></div></div> <div><div class=\"css-1p3hq3p ant-spin ant-spin-spinning\" aria-live=\"polite\" aria-busy=\"true\"><span class=\"ant-spin-dot ant-spin-dot-spin\"><i class=\"ant-spin-dot-item\"></i><i class=\"ant-spin-dot-item\"></i><i class=\"ant-spin-dot-item\"></i><i class=\"ant-spin-dot-item\"></i></span><!----></div><p>loading...</p></div> <div class=\"css-1p3hq3p ant-spin ant-spin-spinning\" aria-live=\"polite\" aria-busy=\"true\"><span class=\"ant-spin-dot ant-spin-dot-spin\"><i class=\"ant-spin-dot-item\"></i><i class=\"ant-spin-dot-item\"></i><i class=\"ant-spin-dot-item\"></i><i class=\"ant-spin-dot-item\"></i></span><!----></div> <span class=\"ant-spin-dot ant-spin-dot-spin\"><i class=\"ant-spin-dot-item\"></i><i class=\"ant-spin-dot-item\"></i><i class=\"ant-spin-dot-item\"></i><i class=\"ant-spin-dot-item\"></i></span> <i class=\"ant-spin-dot-item\"></i> <i class=\"ant-spin-dot-item\"></i> <i class=\"ant-spin-dot-item\"></i> <i class=\"ant-spin-dot-item\"></i> <p>loading...</p> <footer class=\"vp-page-meta\"><!----><div class=\"vp-meta-item git-info\"><div class=\"update-time\"><span class=\"vp-meta-label\">Last Updated:</span><time class=\"vp-meta-info\" datetime=\"2025-07-21T03:29:25.280Z\" data-allow-mismatch>7/21/25, 11:29 AM</time></div><!----></div></footer> <div class=\"vp-meta-item git-info\"><div class=\"update-time\"><span class=\"vp-meta-label\">Last Updated:</span><time class=\"vp-meta-info\" datetime=\"2025-07-21T03:29:25.280Z\" data-allow-mismatch>7/21/25, 11:29 AM</time></div><!----></div> <div class=\"update-time\"><span class=\"vp-meta-label\">Last Updated:</span><time class=\"vp-meta-info\" datetime=\"2025-07-21T03:29:25.280Z\" data-allow-mismatch>7/21/25, 11:29 AM</time></div> <span class=\"vp-meta-label\">Last Updated:</span> <time class=\"vp-meta-info\" datetime=\"2025-07-21T03:29:25.280Z\" data-allow-mismatch>7/21/25, 11:29 AM</time> <nav class=\"vp-page-nav\"><a class=\"route-link auto-link prev\" href=\"/algo/en/problem-set/ds-design/\" aria-label=\"Exercise: Classic Design Problems on LeetCode\"><div class=\"hint\"><span class=\"arrow start\"></span>Prev</div><div class=\"link\"><!---->Exercise: Classic Design Problems on LeetCode</div></a><a class=\"route-link auto-link next\" href=\"/algo/en/practice-in-action/find-median-from-data-stream/\" aria-label=\"Implementing Median Algorithm with Two Binary Heaps\"><div class=\"hint\">Next<span class=\"arrow end\"></span></div><div class=\"link\">Implementing Median Algorithm with Two Binary Heaps<!----></div></a></nav> <a class=\"route-link auto-link prev\" href=\"/algo/en/problem-set/ds-design/\" aria-label=\"Exercise: Classic Design Problems on LeetCode\"><div class=\"hint\"><span class=\"arrow start\"></span>Prev</div><div class=\"link\"><!---->Exercise: Classic Design Problems on LeetCode</div></a> <div class=\"hint\"><span class=\"arrow start\"></span>Prev</div> <span class=\"arrow start\"></span> <div class=\"link\"><!---->Exercise: Classic Design Problems on LeetCode</div> <a class=\"route-link auto-link next\" href=\"/algo/en/practice-in-action/find-median-from-data-stream/\" aria-label=\"Implementing Median Algorithm with Two Binary Heaps\"><div class=\"hint\">Next<span class=\"arrow end\"></span></div><div class=\"link\">Implementing Median Algorithm with Two Binary Heaps<!----></div></a> <div class=\"hint\">Next<span class=\"arrow end\"></span></div> <span class=\"arrow end\"></span> <div class=\"link\">Implementing Median Algorithm with Two Binary Heaps<!----></div> <div style=\"justify-content:center;display:flex;\" data-v-95bd7423><div class=\"artalkCommentsContainer\" data-v-95bd7423><div id=\"artalkComments\" style=\"display:none;\" data-v-95bd7423></div><div style=\"margin-bottom:10px;\" data-v-95bd7423><!----></div></div></div> <div class=\"artalkCommentsContainer\" data-v-95bd7423><div id=\"artalkComments\" style=\"display:none;\" data-v-95bd7423></div><div style=\"margin-bottom:10px;\" data-v-95bd7423><!----></div></div> <div id=\"artalkComments\" style=\"display:none;\" data-v-95bd7423></div> <div style=\"margin-bottom:10px;\" data-v-95bd7423><!----></div>"
}