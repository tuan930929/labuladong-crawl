{
    "url": "https://labuladong.online/algo-visualize/leetcode/range-sum-query-immutable/",
    "title": "区域和检索 - 数组不可变 | labuladong 算法可视化",
    "content": "You need to enable JavaScript to run this app. 页面加载失败，请尝试清除浏览器缓存并刷新页面。 Error occurred when loading the page, please try to clear browser cache and refresh the page. window.__viz = {\n        data: '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'\n    } class PrefixSum {\n    constructor(nums) {\n        // 前缀和数组\n        // @visualize global\n        let preSum = new Array(nums.length + 1).fill(0);\n\n        // preSum[0] = 0，便于计算累加和\n        preSum[0] = 0;\n\n        // 输入一个数组，构造前缀和\n        for (let i = 1; i < preSum.length; i++) {\n            // @visualize color *preSum[i-1] *nums[i-1] #9542ac\n            // @visualize color *preSum[i] #289c2c\n            // 计算 nums 的累加和\n            preSum[i] = preSum[i - 1] + nums[i - 1];\n            // @visualize color *preSum[i-1] *nums[i-1] *preSum[i] #unset\n        }\n\n        this.preSum = preSum;\n    }\n\n    // 查询闭区间 [left, right] 的累加和\n    sumRange(left, right) {\n        // @visualize color *this.preSum[left] *this.preSum[right+1] #7e???? left\n        return this.preSum[right + 1] - this.preSum[left];\n    }\n}\n\nlet nums = [-2, 0, 3, -5, 2, -1]\n// @visualize hide\nlet sum = new PrefixSum(nums);\n// 0 + 3 + -5 = -2\nconsole.log(sum.sumRange(1, 3));\n// 3 + -5 + 2 + -1 = -1\nconsole.log(sum.sumRange(2, 5));\n window.onerror = function (message, source, lineno, colno, error) {\n        const root = document.getElementById('root');\n        if (!root || !root.innerHTML.trim()) {\n            console.log('window on error:', error, message)\n            document.getElementById('error-message').style.display = 'block';\n        }\n    };\n\n    // MutationObserver to monitor changes in #root\n    const observer = new MutationObserver(function (mutations) {\n        const root = document.getElementById('root');\n        if (root && root.innerHTML.trim()) {\n            document.getElementById('error-message').style.display = 'none';\n            window.onerror = null; // Remove the window.onerror listener\n            observer.disconnect(); // Stop observing\n        }\n    });\n\n    // Observe changes in the child list of #root\n    observer.observe(document.getElementById('root'), {\n        childList: true,\n        subtree: true\n    }); \n"
}