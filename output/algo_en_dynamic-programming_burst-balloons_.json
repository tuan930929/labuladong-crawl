{
    "url": "https://labuladong.online/algo/en/dynamic-programming/burst-balloons/",
    "title": "Classic DP: Burst Balloons | Labuladong Algo Notes",
    "content": "<nav class=\"vp-breadcrumb disable\"></nav> <div class=\"vp-page-title\"><h1><!---->Classic DP: Burst Balloons</h1><div class=\"page-info\"><span class=\"page-author-info\" aria-label=\"AuthorðŸ–Š\" data-balloon-pos=\"up\"><svg xmlns=\"http://www.w3.org/2000/svg\" class=\"icon author-icon\" viewbox=\"0 0 1024 1024\" fill=\"currentColor\" aria-label=\"author icon\" name=\"author\"><path d=\"M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z\"></path></svg><span><a class=\"page-author-item\" href=\"https://github.com/labuladong\" target=\"_blank\" rel=\"noopener noreferrer\">labuladong</a></span><span property=\"author\" content=\"labuladong\"></span></span><span class=\"page-original-info\">Original</span><span class=\"page-word-info\" aria-label=\"WordsðŸ” \" data-balloon-pos=\"up\"><svg xmlns=\"http://www.w3.org/2000/svg\" class=\"icon word-icon\" viewbox=\"0 0 1024 1024\" fill=\"currentColor\" aria-label=\"word icon\" name=\"word\"><path d=\"M518.217 432.64V73.143A73.143 73.143 0 01603.43 1.097a512 512 0 01419.474 419.474 73.143 73.143 0 01-72.046 85.212H591.36a73.143 73.143 0 01-73.143-73.143z\"></path><path d=\"M493.714 566.857h340.297a73.143 73.143 0 0173.143 85.577A457.143 457.143 0 11371.566 117.76a73.143 73.143 0 0185.577 73.143v339.383a36.571 36.571 0 0036.571 36.571z\"></path></svg><span>About 3525 words</span><meta property=\"wordCount\" content=\"3525\"></span></div><hr></div> <h1><!---->Classic DP: Burst Balloons</h1> <div class=\"page-info\"><span class=\"page-author-info\" aria-label=\"AuthorðŸ–Š\" data-balloon-pos=\"up\"><svg xmlns=\"http://www.w3.org/2000/svg\" class=\"icon author-icon\" viewbox=\"0 0 1024 1024\" fill=\"currentColor\" aria-label=\"author icon\" name=\"author\"><path d=\"M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z\"></path></svg><span><a class=\"page-author-item\" href=\"https://github.com/labuladong\" target=\"_blank\" rel=\"noopener noreferrer\">labuladong</a></span><span property=\"author\" content=\"labuladong\"></span></span><span class=\"page-original-info\">Original</span><span class=\"page-word-info\" aria-label=\"WordsðŸ” \" data-balloon-pos=\"up\"><svg xmlns=\"http://www.w3.org/2000/svg\" class=\"icon word-icon\" viewbox=\"0 0 1024 1024\" fill=\"currentColor\" aria-label=\"word icon\" name=\"word\"><path d=\"M518.217 432.64V73.143A73.143 73.143 0 01603.43 1.097a512 512 0 01419.474 419.474 73.143 73.143 0 01-72.046 85.212H591.36a73.143 73.143 0 01-73.143-73.143z\"></path><path d=\"M493.714 566.857h340.297a73.143 73.143 0 0173.143 85.577A457.143 457.143 0 11371.566 117.76a73.143 73.143 0 0185.577 73.143v339.383a36.571 36.571 0 0036.571 36.571z\"></path></svg><span>About 3525 words</span><meta property=\"wordCount\" content=\"3525\"></span></div> <span class=\"page-author-info\" aria-label=\"AuthorðŸ–Š\" data-balloon-pos=\"up\"><svg xmlns=\"http://www.w3.org/2000/svg\" class=\"icon author-icon\" viewbox=\"0 0 1024 1024\" fill=\"currentColor\" aria-label=\"author icon\" name=\"author\"><path d=\"M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z\"></path></svg><span><a class=\"page-author-item\" href=\"https://github.com/labuladong\" target=\"_blank\" rel=\"noopener noreferrer\">labuladong</a></span><span property=\"author\" content=\"labuladong\"></span></span> <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"icon author-icon\" viewbox=\"0 0 1024 1024\" fill=\"currentColor\" aria-label=\"author icon\" name=\"author\"><path d=\"M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z\"></path></svg> <path d=\"M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z\"></path> <span><a class=\"page-author-item\" href=\"https://github.com/labuladong\" target=\"_blank\" rel=\"noopener noreferrer\">labuladong</a></span> <a class=\"page-author-item\" href=\"https://github.com/labuladong\" target=\"_blank\" rel=\"noopener noreferrer\">labuladong</a> <span property=\"author\" content=\"labuladong\"></span> <span class=\"page-original-info\">Original</span> <span class=\"page-word-info\" aria-label=\"WordsðŸ” \" data-balloon-pos=\"up\"><svg xmlns=\"http://www.w3.org/2000/svg\" class=\"icon word-icon\" viewbox=\"0 0 1024 1024\" fill=\"currentColor\" aria-label=\"word icon\" name=\"word\"><path d=\"M518.217 432.64V73.143A73.143 73.143 0 01603.43 1.097a512 512 0 01419.474 419.474 73.143 73.143 0 01-72.046 85.212H591.36a73.143 73.143 0 01-73.143-73.143z\"></path><path d=\"M493.714 566.857h340.297a73.143 73.143 0 0173.143 85.577A457.143 457.143 0 11371.566 117.76a73.143 73.143 0 0185.577 73.143v339.383a36.571 36.571 0 0036.571 36.571z\"></path></svg><span>About 3525 words</span><meta property=\"wordCount\" content=\"3525\"></span> <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"icon word-icon\" viewbox=\"0 0 1024 1024\" fill=\"currentColor\" aria-label=\"word icon\" name=\"word\"><path d=\"M518.217 432.64V73.143A73.143 73.143 0 01603.43 1.097a512 512 0 01419.474 419.474 73.143 73.143 0 01-72.046 85.212H591.36a73.143 73.143 0 01-73.143-73.143z\"></path><path d=\"M493.714 566.857h340.297a73.143 73.143 0 0173.143 85.577A457.143 457.143 0 11371.566 117.76a73.143 73.143 0 0185.577 73.143v339.383a36.571 36.571 0 0036.571 36.571z\"></path></svg> <path d=\"M518.217 432.64V73.143A73.143 73.143 0 01603.43 1.097a512 512 0 01419.474 419.474 73.143 73.143 0 01-72.046 85.212H591.36a73.143 73.143 0 01-73.143-73.143z\"></path> <path d=\"M493.714 566.857h340.297a73.143 73.143 0 0173.143 85.577A457.143 457.143 0 11371.566 117.76a73.143 73.143 0 0185.577 73.143v339.383a36.571 36.571 0 0036.571 36.571z\"></path> <span>About 3525 words</span> <meta property=\"wordCount\" content=\"3525\"> <hr> <div class=\"\" vp-content><!----><div id=\"markdown-content\"><div style=\"display:none;\"><h3 tabindex=\"-1\"> 312. Burst Balloons https://leetcode.com/problems/burst-balloons </h3></div><div class=\"hint-container note\"><p class=\"hint-container-title\">This article will resolve</p><table><thead><tr><th style=\"text-align:center;\">LeetCode</th><th style=\"text-align:center;\">Difficulty</th></tr></thead><tbody><tr><td style=\"text-align:center;\"><a href=\"https://leetcode.com/problems/burst-balloons/\" target=\"_blank\" rel=\"noopener noreferrer\">312. Burst Balloons</a></td><td style=\"text-align:center;\">ðŸ”´</td></tr></tbody></table></div><div class=\"hint-container info\"><p class=\"hint-container-title\">Prerequisites</p><p>Before reading this article, you should first study:</p><ul><li><a class=\"route-link\" href=\"/algo/en/essential-technique/dynamic-programming-framework/\">Core Framework of Dynamic Programming</a></li></ul></div><p>Today, we will discuss the problem \"Burst Balloon\", which is similar to the \"Classic Dynamic Programming: Egg Drop Problem\" analyzed in our previous article <a class=\"route-link\" href=\"/algo/en/dynamic-programming/egg-drop/\">Egg Drop Problem</a>. This problem is well-known but also quite challenging.</p><p>It is LeetCode's Problem 312 \"<a href=\"https://leetcode.com/problems/burst-balloons/\" target=\"_blank\" rel=\"noopener noreferrer\">Burst Balloons</a>\", and the problem statement is as follows:</p><details class=\"hint-container details\" open><summary><strong>312. Burst Balloons</strong>Â | <!----><span><a target=\"_blank\" href=\"https://leetcode.com/problems/burst-balloons/\" rel=\"noopener noreferrer\">LeetCode<!----></a> |</span> Â ðŸ”´</summary><div><p>You are given <code>n</code> balloons, indexed from <code>0</code> to <code>n - 1</code>. Each balloon is painted with a number on it represented by an array <code>nums</code>. You are asked to burst all the balloons.</p>\n\n<p>If you burst the <code>i<sup>th</sup></code> balloon, you will get <code>nums[i - 1] * nums[i] * nums[i + 1]</code> coins. If <code>i - 1</code> or <code>i + 1</code> goes out of bounds of the array, then treat it as if there is a balloon with a <code>1</code> painted on it.</p>\n\n<p>Return <em>the maximum coins you can collect by bursting the balloons wisely</em>.</p>\n\n\n<p><strong class=\"example\">Example 1:</strong></p>\n\n<pre>\n<strong>Input:</strong> nums = [3,1,5,8]\n<strong>Output:</strong> 167\n<strong>Explanation:</strong>\nnums = [3,1,5,8] --&gt; [3,5,8] --&gt; [3,8] --&gt; [8] --&gt; []\ncoins =  3*1*5    +   3*5*8   +  1*3*8  + 1*8*1 = 167</pre>\n\n<p><strong class=\"example\">Example 2:</strong></p>\n\n<pre>\n<strong>Input:</strong> nums = [1,5]\n<strong>Output:</strong> 10\n</pre>\n\n\n<p><strong>Constraints:</strong></p>\n\n<ul>\n\t<li><code>n == nums.length</code></li>\n\t<li><code>1 &lt;= n &lt;= 300</code></li>\n\t<li><code>0 &lt;= nums[i] &lt;= 100</code></li>\n</ul>\n</div><strong style=\"font-size:small;\">The problem is from <a href=\"https://leetcode.com/problems/burst-balloons/\" target=\"_blank\">LeetCode 312. Burst Balloons</a>.</strong></details><p>First, it must be noted that the state transition equation for this problem is quite ingenious. If you find yourself with no clue after reading the problem, it's perfectly normal. Although the optimal solution is not easy to conceive, we should strive to achieve a basic analysis of the approach. Therefore, this article will first analyze the conventional approach and then introduce the dynamic programming solution.</p><h2 id=\"_1-backtracking-approach\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#_1-backtracking-approach\"><span>1. Backtracking Approach</span></a></h2><p>Let's first outline the approach to solve this type of problem:</p><h2 class=\"hidden-for-toc\" id=\"_2-dynamic-programming-approach\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#_2-dynamic-programming-approach\"><span>2. Dynamic Programming Approach</span></a></h2><h2 class=\"hidden-for-toc\" id=\"iii-writing-the-code\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#iii-writing-the-code\"><span>III. Writing the Code</span></a></h2><div id=\"hidden_part\" class=\"paywall\"><div><div class=\"css-1p3hq3p ant-spin ant-spin-spinning\" aria-live=\"polite\" aria-busy=\"true\"><span class=\"ant-spin-dot ant-spin-dot-spin\"><i class=\"ant-spin-dot-item\"></i><i class=\"ant-spin-dot-item\"></i><i class=\"ant-spin-dot-item\"></i><i class=\"ant-spin-dot-item\"></i></span><!----></div><p>loading...</p></div></div></div><!----><!----><!----></div> <div id=\"markdown-content\"><div style=\"display:none;\"><h3 tabindex=\"-1\"> 312. Burst Balloons https://leetcode.com/problems/burst-balloons </h3></div><div class=\"hint-container note\"><p class=\"hint-container-title\">This article will resolve</p><table><thead><tr><th style=\"text-align:center;\">LeetCode</th><th style=\"text-align:center;\">Difficulty</th></tr></thead><tbody><tr><td style=\"text-align:center;\"><a href=\"https://leetcode.com/problems/burst-balloons/\" target=\"_blank\" rel=\"noopener noreferrer\">312. Burst Balloons</a></td><td style=\"text-align:center;\">ðŸ”´</td></tr></tbody></table></div><div class=\"hint-container info\"><p class=\"hint-container-title\">Prerequisites</p><p>Before reading this article, you should first study:</p><ul><li><a class=\"route-link\" href=\"/algo/en/essential-technique/dynamic-programming-framework/\">Core Framework of Dynamic Programming</a></li></ul></div><p>Today, we will discuss the problem \"Burst Balloon\", which is similar to the \"Classic Dynamic Programming: Egg Drop Problem\" analyzed in our previous article <a class=\"route-link\" href=\"/algo/en/dynamic-programming/egg-drop/\">Egg Drop Problem</a>. This problem is well-known but also quite challenging.</p><p>It is LeetCode's Problem 312 \"<a href=\"https://leetcode.com/problems/burst-balloons/\" target=\"_blank\" rel=\"noopener noreferrer\">Burst Balloons</a>\", and the problem statement is as follows:</p><details class=\"hint-container details\" open><summary><strong>312. Burst Balloons</strong>Â | <!----><span><a target=\"_blank\" href=\"https://leetcode.com/problems/burst-balloons/\" rel=\"noopener noreferrer\">LeetCode<!----></a> |</span> Â ðŸ”´</summary><div><p>You are given <code>n</code> balloons, indexed from <code>0</code> to <code>n - 1</code>. Each balloon is painted with a number on it represented by an array <code>nums</code>. You are asked to burst all the balloons.</p>\n\n<p>If you burst the <code>i<sup>th</sup></code> balloon, you will get <code>nums[i - 1] * nums[i] * nums[i + 1]</code> coins. If <code>i - 1</code> or <code>i + 1</code> goes out of bounds of the array, then treat it as if there is a balloon with a <code>1</code> painted on it.</p>\n\n<p>Return <em>the maximum coins you can collect by bursting the balloons wisely</em>.</p>\n\n\n<p><strong class=\"example\">Example 1:</strong></p>\n\n<pre>\n<strong>Input:</strong> nums = [3,1,5,8]\n<strong>Output:</strong> 167\n<strong>Explanation:</strong>\nnums = [3,1,5,8] --&gt; [3,5,8] --&gt; [3,8] --&gt; [8] --&gt; []\ncoins =  3*1*5    +   3*5*8   +  1*3*8  + 1*8*1 = 167</pre>\n\n<p><strong class=\"example\">Example 2:</strong></p>\n\n<pre>\n<strong>Input:</strong> nums = [1,5]\n<strong>Output:</strong> 10\n</pre>\n\n\n<p><strong>Constraints:</strong></p>\n\n<ul>\n\t<li><code>n == nums.length</code></li>\n\t<li><code>1 &lt;= n &lt;= 300</code></li>\n\t<li><code>0 &lt;= nums[i] &lt;= 100</code></li>\n</ul>\n</div><strong style=\"font-size:small;\">The problem is from <a href=\"https://leetcode.com/problems/burst-balloons/\" target=\"_blank\">LeetCode 312. Burst Balloons</a>.</strong></details><p>First, it must be noted that the state transition equation for this problem is quite ingenious. If you find yourself with no clue after reading the problem, it's perfectly normal. Although the optimal solution is not easy to conceive, we should strive to achieve a basic analysis of the approach. Therefore, this article will first analyze the conventional approach and then introduce the dynamic programming solution.</p><h2 id=\"_1-backtracking-approach\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#_1-backtracking-approach\"><span>1. Backtracking Approach</span></a></h2><p>Let's first outline the approach to solve this type of problem:</p><h2 class=\"hidden-for-toc\" id=\"_2-dynamic-programming-approach\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#_2-dynamic-programming-approach\"><span>2. Dynamic Programming Approach</span></a></h2><h2 class=\"hidden-for-toc\" id=\"iii-writing-the-code\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#iii-writing-the-code\"><span>III. Writing the Code</span></a></h2><div id=\"hidden_part\" class=\"paywall\"><div><div class=\"css-1p3hq3p ant-spin ant-spin-spinning\" aria-live=\"polite\" aria-busy=\"true\"><span class=\"ant-spin-dot ant-spin-dot-spin\"><i class=\"ant-spin-dot-item\"></i><i class=\"ant-spin-dot-item\"></i><i class=\"ant-spin-dot-item\"></i><i class=\"ant-spin-dot-item\"></i></span><!----></div><p>loading...</p></div></div></div> <div style=\"display:none;\"><h3 tabindex=\"-1\"> 312. Burst Balloons https://leetcode.com/problems/burst-balloons </h3></div> <h3 tabindex=\"-1\"> 312. Burst Balloons https://leetcode.com/problems/burst-balloons </h3> <div class=\"hint-container note\"><p class=\"hint-container-title\">This article will resolve</p><table><thead><tr><th style=\"text-align:center;\">LeetCode</th><th style=\"text-align:center;\">Difficulty</th></tr></thead><tbody><tr><td style=\"text-align:center;\"><a href=\"https://leetcode.com/problems/burst-balloons/\" target=\"_blank\" rel=\"noopener noreferrer\">312. Burst Balloons</a></td><td style=\"text-align:center;\">ðŸ”´</td></tr></tbody></table></div> <p class=\"hint-container-title\">This article will resolve</p> <table><thead><tr><th style=\"text-align:center;\">LeetCode</th><th style=\"text-align:center;\">Difficulty</th></tr></thead><tbody><tr><td style=\"text-align:center;\"><a href=\"https://leetcode.com/problems/burst-balloons/\" target=\"_blank\" rel=\"noopener noreferrer\">312. Burst Balloons</a></td><td style=\"text-align:center;\">ðŸ”´</td></tr></tbody></table> <thead><tr><th style=\"text-align:center;\">LeetCode</th><th style=\"text-align:center;\">Difficulty</th></tr></thead> <tr><th style=\"text-align:center;\">LeetCode</th><th style=\"text-align:center;\">Difficulty</th></tr> <th style=\"text-align:center;\">LeetCode</th> <th style=\"text-align:center;\">Difficulty</th> <tbody><tr><td style=\"text-align:center;\"><a href=\"https://leetcode.com/problems/burst-balloons/\" target=\"_blank\" rel=\"noopener noreferrer\">312. Burst Balloons</a></td><td style=\"text-align:center;\">ðŸ”´</td></tr></tbody> <tr><td style=\"text-align:center;\"><a href=\"https://leetcode.com/problems/burst-balloons/\" target=\"_blank\" rel=\"noopener noreferrer\">312. Burst Balloons</a></td><td style=\"text-align:center;\">ðŸ”´</td></tr> <td style=\"text-align:center;\"><a href=\"https://leetcode.com/problems/burst-balloons/\" target=\"_blank\" rel=\"noopener noreferrer\">312. Burst Balloons</a></td> <a href=\"https://leetcode.com/problems/burst-balloons/\" target=\"_blank\" rel=\"noopener noreferrer\">312. Burst Balloons</a> <td style=\"text-align:center;\">ðŸ”´</td> <div class=\"hint-container info\"><p class=\"hint-container-title\">Prerequisites</p><p>Before reading this article, you should first study:</p><ul><li><a class=\"route-link\" href=\"/algo/en/essential-technique/dynamic-programming-framework/\">Core Framework of Dynamic Programming</a></li></ul></div> <p class=\"hint-container-title\">Prerequisites</p> <p>Before reading this article, you should first study:</p> <ul><li><a class=\"route-link\" href=\"/algo/en/essential-technique/dynamic-programming-framework/\">Core Framework of Dynamic Programming</a></li></ul> <li><a class=\"route-link\" href=\"/algo/en/essential-technique/dynamic-programming-framework/\">Core Framework of Dynamic Programming</a></li> <a class=\"route-link\" href=\"/algo/en/essential-technique/dynamic-programming-framework/\">Core Framework of Dynamic Programming</a> <p>Today, we will discuss the problem \"Burst Balloon\", which is similar to the \"Classic Dynamic Programming: Egg Drop Problem\" analyzed in our previous article <a class=\"route-link\" href=\"/algo/en/dynamic-programming/egg-drop/\">Egg Drop Problem</a>. This problem is well-known but also quite challenging.</p> <a class=\"route-link\" href=\"/algo/en/dynamic-programming/egg-drop/\">Egg Drop Problem</a> <p>It is LeetCode's Problem 312 \"<a href=\"https://leetcode.com/problems/burst-balloons/\" target=\"_blank\" rel=\"noopener noreferrer\">Burst Balloons</a>\", and the problem statement is as follows:</p> <a href=\"https://leetcode.com/problems/burst-balloons/\" target=\"_blank\" rel=\"noopener noreferrer\">Burst Balloons</a> <details class=\"hint-container details\" open><summary><strong>312. Burst Balloons</strong>Â | <!----><span><a target=\"_blank\" href=\"https://leetcode.com/problems/burst-balloons/\" rel=\"noopener noreferrer\">LeetCode<!----></a> |</span> Â ðŸ”´</summary><div><p>You are given <code>n</code> balloons, indexed from <code>0</code> to <code>n - 1</code>. Each balloon is painted with a number on it represented by an array <code>nums</code>. You are asked to burst all the balloons.</p>\n\n<p>If you burst the <code>i<sup>th</sup></code> balloon, you will get <code>nums[i - 1] * nums[i] * nums[i + 1]</code> coins. If <code>i - 1</code> or <code>i + 1</code> goes out of bounds of the array, then treat it as if there is a balloon with a <code>1</code> painted on it.</p>\n\n<p>Return <em>the maximum coins you can collect by bursting the balloons wisely</em>.</p>\n\n\n<p><strong class=\"example\">Example 1:</strong></p>\n\n<pre>\n<strong>Input:</strong> nums = [3,1,5,8]\n<strong>Output:</strong> 167\n<strong>Explanation:</strong>\nnums = [3,1,5,8] --&gt; [3,5,8] --&gt; [3,8] --&gt; [8] --&gt; []\ncoins =  3*1*5    +   3*5*8   +  1*3*8  + 1*8*1 = 167</pre>\n\n<p><strong class=\"example\">Example 2:</strong></p>\n\n<pre>\n<strong>Input:</strong> nums = [1,5]\n<strong>Output:</strong> 10\n</pre>\n\n\n<p><strong>Constraints:</strong></p>\n\n<ul>\n\t<li><code>n == nums.length</code></li>\n\t<li><code>1 &lt;= n &lt;= 300</code></li>\n\t<li><code>0 &lt;= nums[i] &lt;= 100</code></li>\n</ul>\n</div><strong style=\"font-size:small;\">The problem is from <a href=\"https://leetcode.com/problems/burst-balloons/\" target=\"_blank\">LeetCode 312. Burst Balloons</a>.</strong></details> <summary><strong>312. Burst Balloons</strong>Â | <!----><span><a target=\"_blank\" href=\"https://leetcode.com/problems/burst-balloons/\" rel=\"noopener noreferrer\">LeetCode<!----></a> |</span> Â ðŸ”´</summary> <strong>312. Burst Balloons</strong> <span><a target=\"_blank\" href=\"https://leetcode.com/problems/burst-balloons/\" rel=\"noopener noreferrer\">LeetCode<!----></a> |</span> <a target=\"_blank\" href=\"https://leetcode.com/problems/burst-balloons/\" rel=\"noopener noreferrer\">LeetCode<!----></a> <div><p>You are given <code>n</code> balloons, indexed from <code>0</code> to <code>n - 1</code>. Each balloon is painted with a number on it represented by an array <code>nums</code>. You are asked to burst all the balloons.</p>\n\n<p>If you burst the <code>i<sup>th</sup></code> balloon, you will get <code>nums[i - 1] * nums[i] * nums[i + 1]</code> coins. If <code>i - 1</code> or <code>i + 1</code> goes out of bounds of the array, then treat it as if there is a balloon with a <code>1</code> painted on it.</p>\n\n<p>Return <em>the maximum coins you can collect by bursting the balloons wisely</em>.</p>\n\n\n<p><strong class=\"example\">Example 1:</strong></p>\n\n<pre>\n<strong>Input:</strong> nums = [3,1,5,8]\n<strong>Output:</strong> 167\n<strong>Explanation:</strong>\nnums = [3,1,5,8] --&gt; [3,5,8] --&gt; [3,8] --&gt; [8] --&gt; []\ncoins =  3*1*5    +   3*5*8   +  1*3*8  + 1*8*1 = 167</pre>\n\n<p><strong class=\"example\">Example 2:</strong></p>\n\n<pre>\n<strong>Input:</strong> nums = [1,5]\n<strong>Output:</strong> 10\n</pre>\n\n\n<p><strong>Constraints:</strong></p>\n\n<ul>\n\t<li><code>n == nums.length</code></li>\n\t<li><code>1 &lt;= n &lt;= 300</code></li>\n\t<li><code>0 &lt;= nums[i] &lt;= 100</code></li>\n</ul>\n</div> <p>You are given <code>n</code> balloons, indexed from <code>0</code> to <code>n - 1</code>. Each balloon is painted with a number on it represented by an array <code>nums</code>. You are asked to burst all the balloons.</p> <code>n</code> <code>0</code> <code>n - 1</code> <code>nums</code> <p>If you burst the <code>i<sup>th</sup></code> balloon, you will get <code>nums[i - 1] * nums[i] * nums[i + 1]</code> coins. If <code>i - 1</code> or <code>i + 1</code> goes out of bounds of the array, then treat it as if there is a balloon with a <code>1</code> painted on it.</p> <code>i<sup>th</sup></code> <sup>th</sup> <code>nums[i - 1] * nums[i] * nums[i + 1]</code> <code>i - 1</code> <code>i + 1</code> <code>1</code> <p>Return <em>the maximum coins you can collect by bursting the balloons wisely</em>.</p> <em>the maximum coins you can collect by bursting the balloons wisely</em> <p><strong class=\"example\">Example 1:</strong></p> <strong class=\"example\">Example 1:</strong> <pre>\n<strong>Input:</strong> nums = [3,1,5,8]\n<strong>Output:</strong> 167\n<strong>Explanation:</strong>\nnums = [3,1,5,8] --&gt; [3,5,8] --&gt; [3,8] --&gt; [8] --&gt; []\ncoins =  3*1*5    +   3*5*8   +  1*3*8  + 1*8*1 = 167</pre> <strong>Input:</strong> <strong>Output:</strong> <strong>Explanation:</strong> <p><strong class=\"example\">Example 2:</strong></p> <strong class=\"example\">Example 2:</strong> <pre>\n<strong>Input:</strong> nums = [1,5]\n<strong>Output:</strong> 10\n</pre> <strong>Input:</strong> <strong>Output:</strong> <p><strong>Constraints:</strong></p> <strong>Constraints:</strong> <ul>\n\t<li><code>n == nums.length</code></li>\n\t<li><code>1 &lt;= n &lt;= 300</code></li>\n\t<li><code>0 &lt;= nums[i] &lt;= 100</code></li>\n</ul> <li><code>n == nums.length</code></li> <code>n == nums.length</code> <li><code>1 &lt;= n &lt;= 300</code></li> <code>1 &lt;= n &lt;= 300</code> <li><code>0 &lt;= nums[i] &lt;= 100</code></li> <code>0 &lt;= nums[i] &lt;= 100</code> <strong style=\"font-size:small;\">The problem is from <a href=\"https://leetcode.com/problems/burst-balloons/\" target=\"_blank\">LeetCode 312. Burst Balloons</a>.</strong> <a href=\"https://leetcode.com/problems/burst-balloons/\" target=\"_blank\">LeetCode 312. Burst Balloons</a> <p>First, it must be noted that the state transition equation for this problem is quite ingenious. If you find yourself with no clue after reading the problem, it's perfectly normal. Although the optimal solution is not easy to conceive, we should strive to achieve a basic analysis of the approach. Therefore, this article will first analyze the conventional approach and then introduce the dynamic programming solution.</p> <h2 id=\"_1-backtracking-approach\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#_1-backtracking-approach\"><span>1. Backtracking Approach</span></a></h2> <a class=\"header-anchor\" href=\"#_1-backtracking-approach\"><span>1. Backtracking Approach</span></a> <span>1. Backtracking Approach</span> <p>Let's first outline the approach to solve this type of problem:</p> <h2 class=\"hidden-for-toc\" id=\"_2-dynamic-programming-approach\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#_2-dynamic-programming-approach\"><span>2. Dynamic Programming Approach</span></a></h2> <a class=\"header-anchor\" href=\"#_2-dynamic-programming-approach\"><span>2. Dynamic Programming Approach</span></a> <span>2. Dynamic Programming Approach</span> <h2 class=\"hidden-for-toc\" id=\"iii-writing-the-code\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#iii-writing-the-code\"><span>III. Writing the Code</span></a></h2> <a class=\"header-anchor\" href=\"#iii-writing-the-code\"><span>III. Writing the Code</span></a> <span>III. Writing the Code</span> <div id=\"hidden_part\" class=\"paywall\"><div><div class=\"css-1p3hq3p ant-spin ant-spin-spinning\" aria-live=\"polite\" aria-busy=\"true\"><span class=\"ant-spin-dot ant-spin-dot-spin\"><i class=\"ant-spin-dot-item\"></i><i class=\"ant-spin-dot-item\"></i><i class=\"ant-spin-dot-item\"></i><i class=\"ant-spin-dot-item\"></i></span><!----></div><p>loading...</p></div></div> <div><div class=\"css-1p3hq3p ant-spin ant-spin-spinning\" aria-live=\"polite\" aria-busy=\"true\"><span class=\"ant-spin-dot ant-spin-dot-spin\"><i class=\"ant-spin-dot-item\"></i><i class=\"ant-spin-dot-item\"></i><i class=\"ant-spin-dot-item\"></i><i class=\"ant-spin-dot-item\"></i></span><!----></div><p>loading...</p></div> <div class=\"css-1p3hq3p ant-spin ant-spin-spinning\" aria-live=\"polite\" aria-busy=\"true\"><span class=\"ant-spin-dot ant-spin-dot-spin\"><i class=\"ant-spin-dot-item\"></i><i class=\"ant-spin-dot-item\"></i><i class=\"ant-spin-dot-item\"></i><i class=\"ant-spin-dot-item\"></i></span><!----></div> <span class=\"ant-spin-dot ant-spin-dot-spin\"><i class=\"ant-spin-dot-item\"></i><i class=\"ant-spin-dot-item\"></i><i class=\"ant-spin-dot-item\"></i><i class=\"ant-spin-dot-item\"></i></span> <i class=\"ant-spin-dot-item\"></i> <i class=\"ant-spin-dot-item\"></i> <i class=\"ant-spin-dot-item\"></i> <i class=\"ant-spin-dot-item\"></i> <p>loading...</p> <footer class=\"vp-page-meta\"><!----><div class=\"vp-meta-item git-info\"><div class=\"update-time\"><span class=\"vp-meta-label\">Last Updated:</span><time class=\"vp-meta-info\" datetime=\"2025-07-21T03:29:25.280Z\" data-allow-mismatch>7/21/25, 11:29 AM</time></div><!----></div></footer> <div class=\"vp-meta-item git-info\"><div class=\"update-time\"><span class=\"vp-meta-label\">Last Updated:</span><time class=\"vp-meta-info\" datetime=\"2025-07-21T03:29:25.280Z\" data-allow-mismatch>7/21/25, 11:29 AM</time></div><!----></div> <div class=\"update-time\"><span class=\"vp-meta-label\">Last Updated:</span><time class=\"vp-meta-info\" datetime=\"2025-07-21T03:29:25.280Z\" data-allow-mismatch>7/21/25, 11:29 AM</time></div> <span class=\"vp-meta-label\">Last Updated:</span> <time class=\"vp-meta-info\" datetime=\"2025-07-21T03:29:25.280Z\" data-allow-mismatch>7/21/25, 11:29 AM</time> <nav class=\"vp-page-nav\"><a class=\"route-link auto-link prev\" href=\"/algo/en/dynamic-programming/egg-drop/\" aria-label=\"Classic DP: Egg Drop\"><div class=\"hint\"><span class=\"arrow start\"></span>Prev</div><div class=\"link\"><!---->Classic DP: Egg Drop</div></a><a class=\"route-link auto-link next\" href=\"/algo/en/dynamic-programming/game-theory/\" aria-label=\"Classic DP: Game Theory\"><div class=\"hint\">Next<span class=\"arrow end\"></span></div><div class=\"link\">Classic DP: Game Theory<!----></div></a></nav> <a class=\"route-link auto-link prev\" href=\"/algo/en/dynamic-programming/egg-drop/\" aria-label=\"Classic DP: Egg Drop\"><div class=\"hint\"><span class=\"arrow start\"></span>Prev</div><div class=\"link\"><!---->Classic DP: Egg Drop</div></a> <div class=\"hint\"><span class=\"arrow start\"></span>Prev</div> <span class=\"arrow start\"></span> <div class=\"link\"><!---->Classic DP: Egg Drop</div> <a class=\"route-link auto-link next\" href=\"/algo/en/dynamic-programming/game-theory/\" aria-label=\"Classic DP: Game Theory\"><div class=\"hint\">Next<span class=\"arrow end\"></span></div><div class=\"link\">Classic DP: Game Theory<!----></div></a> <div class=\"hint\">Next<span class=\"arrow end\"></span></div> <span class=\"arrow end\"></span> <div class=\"link\">Classic DP: Game Theory<!----></div> <div style=\"justify-content:center;display:flex;\" data-v-95bd7423><div class=\"artalkCommentsContainer\" data-v-95bd7423><div id=\"artalkComments\" style=\"display:none;\" data-v-95bd7423></div><div style=\"margin-bottom:10px;\" data-v-95bd7423><!----></div></div></div> <div class=\"artalkCommentsContainer\" data-v-95bd7423><div id=\"artalkComments\" style=\"display:none;\" data-v-95bd7423></div><div style=\"margin-bottom:10px;\" data-v-95bd7423><!----></div></div> <div id=\"artalkComments\" style=\"display:none;\" data-v-95bd7423></div> <div style=\"margin-bottom:10px;\" data-v-95bd7423><!----></div>"
}