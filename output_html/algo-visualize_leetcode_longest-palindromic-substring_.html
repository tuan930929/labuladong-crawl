<!doctype html><html lang="zh"><head><base href="https://labuladong.online/"><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/><link rel="stylesheet" href="/algo-visualize/style.css"><meta name="theme-color" content="#000000"/><link rel="icon" type="image/png" sizes="32x32" href="/algo-visualize/favicon/logo.png"><link rel="manifest" href="/algo-visualize/favicon/site.webmanifest?v=zX7d5E9bGk"><meta name="msapplication-TileColor" content="#da532c"><meta name="theme-color" content="#ffffff"><title>最长回文子串 | labuladong 算法可视化</title><meta name="description" content="力扣题目 5. 最长回文子串 的算法可视化。"><script defer="defer" src="/algo-visualize/static/js/main.bac1f995.js"></script><link href="/algo-visualize/static/css/main.044a6ffd.css" rel="stylesheet"></head><body><noscript>You need to enable JavaScript to run this app.</noscript><div id="error-message" style="display: none; color: red; text-align: center; margin-top: 20px;"><p>页面加载失败，请尝试清除浏览器缓存并刷新页面。</p><p>Error occurred when loading the page, please try to clear browser cache and refresh the page.</p></div><script>window.__viz = {
        data: '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'
    }</script><div style="display: none"><pre><code class="language-javascript">var longestPalindrome = function(s) {
    // @visualize global res
    let res = &quot;&quot;;
    for (let i = 0; i &lt; s.length; i++) {
        // 以 s[i] 为中心的最长回文子串
        let s1 = palindrome(s, i, i);
        res = res.length &gt; s1.length ? res : s1;

        // 以 s[i] 和 s[i+1] 为中心的最长回文子串
        let s2 = palindrome(s, i, i + 1);
        res = res.length &gt; s2.length ? res : s2;
    }
    return res;
};

var palindrome = function(s, l, r) {
    s = s.split('');
    // @visualize bind s[l] s[r]
    // 防止索引越界
    while (l &gt;= 0 &amp;&amp; r &lt; s.length &amp;&amp; s[l] === s[r]) {
        // @visualize color *s[l] *s[r] #ad6ceb
        // 向两边展开
        l--;
        r++;
    }
    // 此时 [l+1, r-1] 就是最长回文串
    return s.slice(l + 1, r).join('');
};

let result = longestPalindrome(&quot;babad&quot;);
</code></pre></div><div id="root"></div><script async src="https://res.wx.qq.com/connect/zh_CN/htmledition/js/wxLogin.js"></script><script>window.onerror = function (message, source, lineno, colno, error) {
        const root = document.getElementById('root');
        if (!root || !root.innerHTML.trim()) {
            console.log('window on error:', error, message)
            document.getElementById('error-message').style.display = 'block';
        }
    };

    // MutationObserver to monitor changes in #root
    const observer = new MutationObserver(function (mutations) {
        const root = document.getElementById('root');
        if (root && root.innerHTML.trim()) {
            document.getElementById('error-message').style.display = 'none';
            window.onerror = null; // Remove the window.onerror listener
            observer.disconnect(); // Stop observing
        }
    });

    // Observe changes in the child list of #root
    observer.observe(document.getElementById('root'), {
        childList: true,
        subtree: true
    });</script><script defer src="https://static.cloudflareinsights.com/beacon.min.js/vcd15cbe7772f49c399c6a5babf22c1241717689176015" integrity="sha512-ZpsOmlRQV6y907TI0dKBHq9Md29nnaEIPlkf84rnaERnq6zvWvPUqr2ft8M1aS28oN72PdrCzSjY4U6VaAw1EQ==" data-cf-beacon='{"version":"2024.11.0","token":"6f08fc385f864c1ba2f3a406756e83c1","r":1,"server_timing":{"name":{"cfCacheStatus":true,"cfEdge":true,"cfExtPri":true,"cfL4":true,"cfOrigin":true,"cfSpeedBrain":true},"location_startswith":null}}' crossorigin="anonymous"></script>
</body></html>