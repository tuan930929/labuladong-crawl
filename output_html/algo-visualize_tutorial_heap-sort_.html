<!doctype html><html lang="zh"><head><base href="https://labuladong.online/"><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/><link rel="stylesheet" href="/algo-visualize/style.css"><meta name="theme-color" content="#000000"/><link rel="icon" type="image/png" sizes="32x32" href="/algo-visualize/favicon/logo.png"><link rel="manifest" href="/algo-visualize/favicon/site.webmanifest?v=zX7d5E9bGk"><meta name="msapplication-TileColor" content="#da532c"><meta name="theme-color" content="#ffffff"><title>labuladong 算法可视化</title><meta name="description" content="labuladong 的算法可视化工具。你可以运行 JavaScript 代码来可视化算法。支持所有的排序算法：冒泡排序、归并排序、快速排序等。支持所有的数据结构：数组、链表、二叉树、堆等。支持递归算法：动态规划、回溯算法等。"><script defer="defer" src="/algo-visualize/static/js/main.bac1f995.js"></script><link href="/algo-visualize/static/css/main.044a6ffd.css" rel="stylesheet"></head><body><noscript>You need to enable JavaScript to run this app.</noscript><div id="error-message" style="display: none; color: red; text-align: center; margin-top: 20px;"><p>页面加载失败，请尝试清除浏览器缓存并刷新页面。</p><p>Error occurred when loading the page, please try to clear browser cache and refresh the page.</p></div><script>window.__viz = {
        data: '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'
    }</script><div style="display: none"><pre><code class="language-javascript">// 从小到大排序数组
let nums = [3, 2, 5, 1, 6, 7, 4]
// @visualize shape nums rect

// 这个 init 方法会把数组可视化成一棵完全二叉树，但不会自动维护堆的性质
// 下面我将利用 sink 和 swim 手动展示原地建堆及排序的过程
let heap = Heap.init(nums);


// 大顶堆的比较函数。如果想从小到大排序数组，需要创建大顶堆
const maxComp = (a, b) =&gt; a &gt; b ? -1 : 1;

// 第一步，在数组上原地建堆
// 有两种方法可以建堆，你可以取消下面代码的注释尝试运行

// 简单的建堆方法，对每个元素调用 swim 即可完成建堆
for (let i = 0; i &lt; nums.length; i++) {
    Heap.swim(heap, i, maxComp, &quot;#blue&quot;);
}

// 优化的建堆方法，从最后一个非叶子节点开始，对每个节点调用 sink 完成建堆
// let n = nums.length;
// for (let i = Math.floor(n / 2) - 1; i &gt;= 0; i--) {
//     Heap.sink(tree, i, n, maxComp);
// }

// 第二步，在数组上原地排序
let heapSize = nums.length;
while (heapSize &gt; 0) {
    Heap.swap(heap, 0, heapSize - 1);
    heapSize--;
    // @visualize bind nums[heapSize]
    // @visualize color *nums[heapSize] #7cd930
    // 由于实在数组原地建堆，所以用 heapSize 标识堆的边界
    // 即 nums[0..heap) 是二叉堆，nums[heap..n) 是已排序的部分
    Heap.sink(heap, 0, heapSize, maxComp, &quot;#orange&quot;);
}
// @visualize unbind nums[heapSize]

console.log(&quot;sorted&quot;, nums);
</code></pre></div><div id="root"></div><script async src="https://res.wx.qq.com/connect/zh_CN/htmledition/js/wxLogin.js"></script><script>window.onerror = function (message, source, lineno, colno, error) {
        const root = document.getElementById('root');
        if (!root || !root.innerHTML.trim()) {
            console.log('window on error:', error, message)
            document.getElementById('error-message').style.display = 'block';
        }
    };

    // MutationObserver to monitor changes in #root
    const observer = new MutationObserver(function (mutations) {
        const root = document.getElementById('root');
        if (root && root.innerHTML.trim()) {
            document.getElementById('error-message').style.display = 'none';
            window.onerror = null; // Remove the window.onerror listener
            observer.disconnect(); // Stop observing
        }
    });

    // Observe changes in the child list of #root
    observer.observe(document.getElementById('root'), {
        childList: true,
        subtree: true
    });</script><script defer src="https://static.cloudflareinsights.com/beacon.min.js/vcd15cbe7772f49c399c6a5babf22c1241717689176015" integrity="sha512-ZpsOmlRQV6y907TI0dKBHq9Md29nnaEIPlkf84rnaERnq6zvWvPUqr2ft8M1aS28oN72PdrCzSjY4U6VaAw1EQ==" data-cf-beacon='{"version":"2024.11.0","token":"6f08fc385f864c1ba2f3a406756e83c1","r":1,"server_timing":{"name":{"cfCacheStatus":true,"cfEdge":true,"cfExtPri":true,"cfL4":true,"cfOrigin":true,"cfSpeedBrain":true},"location_startswith":null}}' crossorigin="anonymous"></script>
</body></html>